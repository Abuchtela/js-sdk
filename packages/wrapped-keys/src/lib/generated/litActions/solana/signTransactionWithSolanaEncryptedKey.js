// ============== AUTOGENERATED ==============
// DO NOT EDIT THIS FILE. IT IS GENERATED ON BUILD. RUN `yarn bundle` IN THE ROOT DIRECTORY TO UPDATE THIS FILE.
const code =
  '"use strict";(()=>{var yh=Object.create;var Ki=Object.defineProperty;var gh=Object.getOwnPropertyDescriptor;var mh=Object.getOwnPropertyNames;var bh=Object.getPrototypeOf,wh=Object.prototype.hasOwnProperty;var xe=(r,t)=>()=>(r&&(t=r(r=0)),t);var Ht=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),mu=(r,t)=>{for(var e in t)Ki(r,e,{get:t[e],enumerable:!0})},bu=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mh(t))!wh.call(r,i)&&i!==e&&Ki(r,i,{get:()=>t[i],enumerable:!(n=gh(t,i))||n.enumerable});return r};var V=(r,t,e)=>(e=r!=null?yh(bh(r)):{},bu(t||!r||!r.__esModule?Ki(e,"default",{value:r,enumerable:!0}):e,r)),po=r=>bu(Ki({},"__esModule",{value:!0}),r);var xu=Ht(Di=>{"use strict";var Im=V(j());Di.byteLength=xh;Di.toByteArray=Sh;Di.fromByteArray=Bh;var sr=[],Ye=[],vh=typeof Uint8Array<"u"?Uint8Array:Array,yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(yn=0,wu=yo.length;yn<wu;++yn)sr[yn]=yo[yn],Ye[yo.charCodeAt(yn)]=yn;var yn,wu;Ye[45]=62;Ye[95]=63;function vu(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function xh(r){var t=vu(r),e=t[0],n=t[1];return(e+n)*3/4-n}function kh(r,t,e){return(t+e)*3/4-e}function Sh(r){var t,e=vu(r),n=e[0],i=e[1],o=new vh(kh(r,n,i)),u=0,d=i>0?n-4:n,g;for(g=0;g<d;g+=4)t=Ye[r.charCodeAt(g)]<<18|Ye[r.charCodeAt(g+1)]<<12|Ye[r.charCodeAt(g+2)]<<6|Ye[r.charCodeAt(g+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=t&255;return i===2&&(t=Ye[r.charCodeAt(g)]<<2|Ye[r.charCodeAt(g+1)]>>4,o[u++]=t&255),i===1&&(t=Ye[r.charCodeAt(g)]<<10|Ye[r.charCodeAt(g+1)]<<4|Ye[r.charCodeAt(g+2)]>>2,o[u++]=t>>8&255,o[u++]=t&255),o}function _h(r){return sr[r>>18&63]+sr[r>>12&63]+sr[r>>6&63]+sr[r&63]}function Eh(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(_h(n));return i.join("")}function Bh(r){for(var t,e=r.length,n=e%3,i=[],o=16383,u=0,d=e-n;u<d;u+=o)i.push(Eh(r,u,u+o>d?d:u+o));return n===1?(t=r[e-1],i.push(sr[t>>2]+sr[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],i.push(sr[t>>10]+sr[t>>4&63]+sr[t<<2&63]+"=")),i.join("")}});var ku=Ht(go=>{var Mm=V(j());go.read=function(r,t,e,n,i){var o,u,d=i*8-n-1,g=(1<<d)-1,x=g>>1,k=-7,S=e?i-1:0,P=e?-1:1,I=r[t+S];for(S+=P,o=I&(1<<-k)-1,I>>=-k,k+=d;k>0;o=o*256+r[t+S],S+=P,k-=8);for(u=o&(1<<-k)-1,o>>=-k,k+=n;k>0;u=u*256+r[t+S],S+=P,k-=8);if(o===0)o=1-x;else{if(o===g)return u?NaN:(I?-1:1)*(1/0);u=u+Math.pow(2,n),o=o-x}return(I?-1:1)*u*Math.pow(2,o-n)};go.write=function(r,t,e,n,i,o){var u,d,g,x=o*8-i-1,k=(1<<x)-1,S=k>>1,P=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=n?0:o-1,R=n?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,u=k):(u=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-u))<1&&(u--,g*=2),u+S>=1?t+=P/g:t+=P*Math.pow(2,1-S),t*g>=2&&(u++,g/=2),u+S>=k?(d=0,u=k):u+S>=1?(d=(t*g-1)*Math.pow(2,i),u=u+S):(d=t*Math.pow(2,S-1)*Math.pow(2,i),u=0));i>=8;r[e+I]=d&255,I+=R,d/=256,i-=8);for(u=u<<i|d,x+=i;x>0;r[e+I]=u&255,I+=R,u/=256,x-=8);r[e+I-R]|=E*128}});var On=Ht(Cn=>{"use strict";var Lm=V(j());var mo=xu(),Ln=ku(),Su=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Cn.Buffer=D;Cn.SlowBuffer=Lh;Cn.INSPECT_MAX_BYTES=50;var Wi=2147483647;Cn.kMaxLength=Wi;D.TYPED_ARRAY_SUPPORT=Ih();!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ih(){try{let r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}});Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function br(r){if(r>Wi)throw new RangeError(\'The value "\'+r+\'" is invalid for option "size"\');let t=new Uint8Array(r);return Object.setPrototypeOf(t,D.prototype),t}function D(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError(\'The "string" argument must be of type string. Received type number\');return xo(r)}return Iu(r,t,e)}D.poolSize=8192;function Iu(r,t,e){if(typeof r=="string")return Mh(r,t);if(ArrayBuffer.isView(r))return Rh(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(or(r,ArrayBuffer)||r&&or(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(or(r,SharedArrayBuffer)||r&&or(r.buffer,SharedArrayBuffer)))return wo(r,t,e);if(typeof r=="number")throw new TypeError(\'The "value" argument must not be of type number. Received type number\');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return D.from(n,t,e);let i=Th(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return D.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}D.from=function(r,t,e){return Iu(r,t,e)};Object.setPrototypeOf(D.prototype,Uint8Array.prototype);Object.setPrototypeOf(D,Uint8Array);function Au(r){if(typeof r!="number")throw new TypeError(\'"size" argument must be of type number\');if(r<0)throw new RangeError(\'The value "\'+r+\'" is invalid for option "size"\')}function Ah(r,t,e){return Au(r),r<=0?br(r):t!==void 0?typeof e=="string"?br(r).fill(t,e):br(r).fill(t):br(r)}D.alloc=function(r,t,e){return Ah(r,t,e)};function xo(r){return Au(r),br(r<0?0:ko(r)|0)}D.allocUnsafe=function(r){return xo(r)};D.allocUnsafeSlow=function(r){return xo(r)};function Mh(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!D.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=Mu(r,t)|0,n=br(e),i=n.write(r,t);return i!==e&&(n=n.slice(0,i)),n}function bo(r){let t=r.length<0?0:ko(r.length)|0,e=br(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function Rh(r){if(or(r,Uint8Array)){let t=new Uint8Array(r);return wo(t.buffer,t.byteOffset,t.byteLength)}return bo(r)}function wo(r,t,e){if(t<0||r.byteLength<t)throw new RangeError(\'"offset" is outside of buffer bounds\');if(r.byteLength<t+(e||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,D.prototype),n}function Th(r){if(D.isBuffer(r)){let t=ko(r.length)|0,e=br(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||_o(r.length)?br(0):bo(r);if(r.type==="Buffer"&&Array.isArray(r.data))return bo(r.data)}function ko(r){if(r>=Wi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Wi.toString(16)+" bytes");return r|0}function Lh(r){return+r!=r&&(r=0),D.alloc(+r)}D.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==D.prototype};D.compare=function(t,e){if(or(t,Uint8Array)&&(t=D.from(t,t.offset,t.byteLength)),or(e,Uint8Array)&&(e=D.from(e,e.offset,e.byteLength)),!D.isBuffer(t)||!D.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let n=t.length,i=e.length;for(let o=0,u=Math.min(n,i);o<u;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};D.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};D.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(t.length===0)return D.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let i=D.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){let u=t[n];if(or(u,Uint8Array))o+u.length>i.length?(D.isBuffer(u)||(u=D.from(u)),u.copy(i,o)):Uint8Array.prototype.set.call(i,u,o);else if(D.isBuffer(u))u.copy(i,o);else throw new TypeError(\'"list" argument must be an Array of Buffers\');o+=u.length}return i};function Mu(r,t){if(D.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||or(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof r);let e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return vo(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return qu(r).length;default:if(i)return n?-1:vo(r).length;t=(""+t).toLowerCase(),i=!0}}D.byteLength=Mu;function Ph(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Wh(this,t,e);case"utf8":case"utf-8":return Tu(this,t,e);case"ascii":return Kh(this,t,e);case"latin1":case"binary":return Dh(this,t,e);case"base64":return zh(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hh(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}D.prototype._isBuffer=!0;function gn(r,t,e){let n=r[t];r[t]=r[e],r[e]=n}D.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)gn(this,e,e+1);return this};D.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)gn(this,e,e+3),gn(this,e+1,e+2);return this};D.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)gn(this,e,e+7),gn(this,e+1,e+6),gn(this,e+2,e+5),gn(this,e+3,e+4);return this};D.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Tu(this,0,t):Ph.apply(this,arguments)};D.prototype.toLocaleString=D.prototype.toString;D.prototype.equals=function(t){if(!D.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:D.compare(this,t)===0};D.prototype.inspect=function(){let t="",e=Cn.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};Su&&(D.prototype[Su]=D.prototype.inspect);D.prototype.compare=function(t,e,n,i,o){if(or(t,Uint8Array)&&(t=D.from(t,t.offset,t.byteLength)),!D.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let u=o-i,d=n-e,g=Math.min(u,d),x=this.slice(i,o),k=t.slice(e,n);for(let S=0;S<g;++S)if(x[S]!==k[S]){u=x[S],d=k[S];break}return u<d?-1:d<u?1:0};function Ru(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,_o(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=D.from(t,n)),D.isBuffer(t))return t.length===0?-1:_u(r,t,e,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):_u(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _u(r,t,e,n,i){let o=1,u=r.length,d=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,u/=2,d/=2,e/=2}function g(k,S){return o===1?k[S]:k.readUInt16BE(S*o)}let x;if(i){let k=-1;for(x=e;x<u;x++)if(g(r,x)===g(t,k===-1?0:x-k)){if(k===-1&&(k=x),x-k+1===d)return k*o}else k!==-1&&(x-=x-k),k=-1}else for(e+d>u&&(e=u-d),x=e;x>=0;x--){let k=!0;for(let S=0;S<d;S++)if(g(r,x+S)!==g(t,S)){k=!1;break}if(k)return x}return-1}D.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};D.prototype.indexOf=function(t,e,n){return Ru(this,t,e,n,!0)};D.prototype.lastIndexOf=function(t,e,n){return Ru(this,t,e,n,!1)};function Ch(r,t,e,n){e=Number(e)||0;let i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let u;for(u=0;u<n;++u){let d=parseInt(t.substr(u*2,2),16);if(_o(d))return u;r[e+u]=d}return u}function Oh(r,t,e,n){return Hi(vo(t,r.length-e),r,e,n)}function Nh(r,t,e,n){return Hi(Gh(t),r,e,n)}function Uh(r,t,e,n){return Hi(qu(t),r,e,n)}function qh(r,t,e,n){return Hi(Zh(t,r.length-e),r,e,n)}D.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let u=!1;for(;;)switch(i){case"hex":return Ch(this,t,e,n);case"utf8":case"utf-8":return Oh(this,t,e,n);case"ascii":case"latin1":case"binary":return Nh(this,t,e,n);case"base64":return Uh(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qh(this,t,e,n);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}};D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zh(r,t,e){return t===0&&e===r.length?mo.fromByteArray(r):mo.fromByteArray(r.slice(t,e))}function Tu(r,t,e){e=Math.min(r.length,e);let n=[],i=t;for(;i<e;){let o=r[i],u=null,d=o>239?4:o>223?3:o>191?2:1;if(i+d<=e){let g,x,k,S;switch(d){case 1:o<128&&(u=o);break;case 2:g=r[i+1],(g&192)===128&&(S=(o&31)<<6|g&63,S>127&&(u=S));break;case 3:g=r[i+1],x=r[i+2],(g&192)===128&&(x&192)===128&&(S=(o&15)<<12|(g&63)<<6|x&63,S>2047&&(S<55296||S>57343)&&(u=S));break;case 4:g=r[i+1],x=r[i+2],k=r[i+3],(g&192)===128&&(x&192)===128&&(k&192)===128&&(S=(o&15)<<18|(g&63)<<12|(x&63)<<6|k&63,S>65535&&S<1114112&&(u=S))}}u===null?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|u&1023),n.push(u),i+=d}return Fh(n)}var Eu=4096;function Fh(r){let t=r.length;if(t<=Eu)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Eu));return e}function Kh(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function Dh(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function Wh(r,t,e){let n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let i="";for(let o=t;o<e;++o)i+=Yh[r[o]];return i}function Hh(r,t,e){let n=r.slice(t,e),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}D.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,D.prototype),i};function be(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let i=this[t],o=1,u=0;for(;++u<e&&(o*=256);)i+=this[t+u]*o;return i};D.prototype.readUintBE=D.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let i=this[t+--e],o=1;for(;e>0&&(o*=256);)i+=this[t+--e]*o;return i};D.prototype.readUint8=D.prototype.readUInt8=function(t,e){return t=t>>>0,e||be(t,1,this.length),this[t]};D.prototype.readUint16LE=D.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||be(t,2,this.length),this[t]|this[t+1]<<8};D.prototype.readUint16BE=D.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||be(t,2,this.length),this[t]<<8|this[t+1]};D.prototype.readUint32LE=D.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||be(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};D.prototype.readUint32BE=D.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||be(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};D.prototype.readBigUInt64LE=Ar(function(t){t=t>>>0,Pn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&ai(t,this.length-8);let i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});D.prototype.readBigUInt64BE=Ar(function(t){t=t>>>0,Pn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&ai(t,this.length-8);let i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});D.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let i=this[t],o=1,u=0;for(;++u<e&&(o*=256);)i+=this[t+u]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};D.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||be(t,e,this.length);let i=e,o=1,u=this[t+--i];for(;i>0&&(o*=256);)u+=this[t+--i]*o;return o*=128,u>=o&&(u-=Math.pow(2,8*e)),u};D.prototype.readInt8=function(t,e){return t=t>>>0,e||be(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};D.prototype.readInt16LE=function(t,e){t=t>>>0,e||be(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};D.prototype.readInt16BE=function(t,e){t=t>>>0,e||be(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};D.prototype.readInt32LE=function(t,e){return t=t>>>0,e||be(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};D.prototype.readInt32BE=function(t,e){return t=t>>>0,e||be(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};D.prototype.readBigInt64LE=Ar(function(t){t=t>>>0,Pn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&ai(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});D.prototype.readBigInt64BE=Ar(function(t){t=t>>>0,Pn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&ai(t,this.length-8);let i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});D.prototype.readFloatLE=function(t,e){return t=t>>>0,e||be(t,4,this.length),Ln.read(this,t,!0,23,4)};D.prototype.readFloatBE=function(t,e){return t=t>>>0,e||be(t,4,this.length),Ln.read(this,t,!1,23,4)};D.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||be(t,8,this.length),Ln.read(this,t,!0,52,8)};D.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||be(t,8,this.length),Ln.read(this,t,!1,52,8)};function ze(r,t,e,n,i,o){if(!D.isBuffer(r))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(t>i||t<o)throw new RangeError(\'"value" argument is out of bounds\');if(e+n>r.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let d=Math.pow(2,8*n)-1;ze(this,t,e,n,d,0)}let o=1,u=0;for(this[e]=t&255;++u<n&&(o*=256);)this[e+u]=t/o&255;return e+n};D.prototype.writeUintBE=D.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let d=Math.pow(2,8*n)-1;ze(this,t,e,n,d,0)}let o=n-1,u=1;for(this[e+o]=t&255;--o>=0&&(u*=256);)this[e+o]=t/u&255;return e+n};D.prototype.writeUint8=D.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,1,255,0),this[e]=t&255,e+1};D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Lu(r,t,e,n,i){Uu(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o;let u=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=u,u=u>>8,r[e++]=u,u=u>>8,r[e++]=u,u=u>>8,r[e++]=u,e}function Pu(r,t,e,n,i){Uu(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e+7]=o,o=o>>8,r[e+6]=o,o=o>>8,r[e+5]=o,o=o>>8,r[e+4]=o;let u=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=u,u=u>>8,r[e+2]=u,u=u>>8,r[e+1]=u,u=u>>8,r[e]=u,e+8}D.prototype.writeBigUInt64LE=Ar(function(t,e=0){return Lu(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});D.prototype.writeBigUInt64BE=Ar(function(t,e=0){return Pu(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});D.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let g=Math.pow(2,8*n-1);ze(this,t,e,n,g-1,-g)}let o=0,u=1,d=0;for(this[e]=t&255;++o<n&&(u*=256);)t<0&&d===0&&this[e+o-1]!==0&&(d=1),this[e+o]=(t/u>>0)-d&255;return e+n};D.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let g=Math.pow(2,8*n-1);ze(this,t,e,n,g-1,-g)}let o=n-1,u=1,d=0;for(this[e+o]=t&255;--o>=0&&(u*=256);)t<0&&d===0&&this[e+o+1]!==0&&(d=1),this[e+o]=(t/u>>0)-d&255;return e+n};D.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};D.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};D.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};D.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};D.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||ze(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};D.prototype.writeBigInt64LE=Ar(function(t,e=0){return Lu(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});D.prototype.writeBigInt64BE=Ar(function(t,e=0){return Pu(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Cu(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Ou(r,t,e,n,i){return t=+t,e=e>>>0,i||Cu(r,t,e,4,34028234663852886e22,-34028234663852886e22),Ln.write(r,t,e,n,23,4),e+4}D.prototype.writeFloatLE=function(t,e,n){return Ou(this,t,e,!0,n)};D.prototype.writeFloatBE=function(t,e,n){return Ou(this,t,e,!1,n)};function Nu(r,t,e,n,i){return t=+t,e=e>>>0,i||Cu(r,t,e,8,17976931348623157e292,-17976931348623157e292),Ln.write(r,t,e,n,52,8),e+8}D.prototype.writeDoubleLE=function(t,e,n){return Nu(this,t,e,!0,n)};D.prototype.writeDoubleBE=function(t,e,n){return Nu(this,t,e,!1,n)};D.prototype.copy=function(t,e,n,i){if(!D.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o};D.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!D.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let u=t.charCodeAt(0);(i==="utf8"&&u<128||i==="latin1")&&(t=u)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{let u=D.isBuffer(t)?t:D.from(t,i),d=u.length;if(d===0)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(o=0;o<n-e;++o)this[o+e]=u[o%d]}return this};var Tn={};function So(r,t,e){Tn[r]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}So("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);So("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError);So("ERR_OUT_OF_RANGE",function(r,t,e){let n=`The value of "${r}" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=Bu(String(e)):typeof e=="bigint"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=Bu(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function Bu(r){let t="",e=r.length,n=r[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function $h(r,t,e){Pn(t,"offset"),(r[t]===void 0||r[t+e]===void 0)&&ai(t,r.length-(e+1))}function Uu(r,t,e,n,i,o){if(r>e||r<t){let u=typeof t=="bigint"?"n":"",d;throw o>3?t===0||t===BigInt(0)?d=`>= 0${u} and < 2${u} ** ${(o+1)*8}${u}`:d=`>= -(2${u} ** ${(o+1)*8-1}${u}) and < 2 ** ${(o+1)*8-1}${u}`:d=`>= ${t}${u} and <= ${e}${u}`,new Tn.ERR_OUT_OF_RANGE("value",d,r)}$h(n,i,o)}function Pn(r,t){if(typeof r!="number")throw new Tn.ERR_INVALID_ARG_TYPE(t,"number",r)}function ai(r,t,e){throw Math.floor(r)!==r?(Pn(r,e),new Tn.ERR_OUT_OF_RANGE(e||"offset","an integer",r)):t<0?new Tn.ERR_BUFFER_OUT_OF_BOUNDS:new Tn.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,r)}var Vh=/[^+/0-9A-Za-z-_]/g;function jh(r){if(r=r.split("=")[0],r=r.trim().replace(Vh,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function vo(r,t){t=t||1/0;let e,n=r.length,i=null,o=[];for(let u=0;u<n;++u){if(e=r.charCodeAt(u),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(u+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Gh(r){let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Zh(r,t){let e,n,i,o=[];for(let u=0;u<r.length&&!((t-=2)<0);++u)e=r.charCodeAt(u),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function qu(r){return mo.toByteArray(jh(r))}function Hi(r,t,e,n){let i;for(i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function or(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function _o(r){return r!==r}var Yh=function(){let r="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let i=0;i<16;++i)t[n+i]=r[e]+r[i]}return t}();function Ar(r){return typeof BigInt>"u"?Jh:r}function Jh(){throw new Error("BigInt not supported")}});var j=Ht(()=>{"use strict";var zu=V(On());globalThis.Buffer=zu.Buffer});var ui=Ht(ke=>{"use strict";var Nm=V(j());Object.defineProperty(ke,"__esModule",{value:!0});ke.output=ke.exists=ke.hash=ke.bytes=ke.bool=ke.number=ke.isBytes=void 0;function $i(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}ke.number=$i;function Fu(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}ke.bool=Fu;function Ku(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}ke.isBytes=Ku;function Eo(r,...t){if(!Ku(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}ke.bytes=Eo;function Du(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$i(r.outputLen),$i(r.blockLen)}ke.hash=Du;function Wu(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}ke.exists=Wu;function Hu(r,t){Eo(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}ke.output=Hu;var Xh={number:$i,bool:Fu,bytes:Eo,hash:Du,exists:Wu,output:Hu};ke.default=Xh});var $u=Ht(Vi=>{"use strict";var qm=V(j());Object.defineProperty(Vi,"__esModule",{value:!0});Vi.crypto=void 0;Vi.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var vr=Ht(dt=>{"use strict";var Fm=V(j());Object.defineProperty(dt,"__esModule",{value:!0});dt.randomBytes=dt.wrapXOFConstructorWithOpts=dt.wrapConstructorWithOpts=dt.wrapConstructor=dt.checkOpts=dt.Hash=dt.concatBytes=dt.toBytes=dt.utf8ToBytes=dt.asyncLoop=dt.nextTick=dt.hexToBytes=dt.bytesToHex=dt.byteSwap32=dt.byteSwapIfBE=dt.byteSwap=dt.isLE=dt.rotl=dt.rotr=dt.createView=dt.u32=dt.u8=dt.isBytes=void 0;var Bo=$u(),Ao=ui();function Qh(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}dt.isBytes=Qh;var t0=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);dt.u8=t0;var e0=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));dt.u32=e0;var r0=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);dt.createView=r0;var n0=(r,t)=>r<<32-t|r>>>t;dt.rotr=n0;var i0=(r,t)=>r<<t|r>>>32-t>>>0;dt.rotl=i0;dt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var s0=r=>r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255;dt.byteSwap=s0;dt.byteSwapIfBE=dt.isLE?r=>r:r=>(0,dt.byteSwap)(r);function o0(r){for(let t=0;t<r.length;t++)r[t]=(0,dt.byteSwap)(r[t])}dt.byteSwap32=o0;var a0=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function u0(r){(0,Ao.bytes)(r);let t="";for(let e=0;e<r.length;e++)t+=a0[r[e]];return t}dt.bytesToHex=u0;var wr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Vu(r){if(r>=wr._0&&r<=wr._9)return r-wr._0;if(r>=wr._A&&r<=wr._F)return r-(wr._A-10);if(r>=wr._a&&r<=wr._f)return r-(wr._a-10)}function c0(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(e);for(let i=0,o=0;i<e;i++,o+=2){let u=Vu(r.charCodeAt(o)),d=Vu(r.charCodeAt(o+1));if(u===void 0||d===void 0){let g=r[o]+r[o+1];throw new Error(\'hex string expected, got non-hex character "\'+g+\'" at index \'+o)}n[i]=u*16+d}return n}dt.hexToBytes=c0;var f0=async()=>{};dt.nextTick=f0;async function l0(r,t,e){let n=Date.now();for(let i=0;i<r;i++){e(i);let o=Date.now()-n;o>=0&&o<t||(await(0,dt.nextTick)(),n+=o)}}dt.asyncLoop=l0;function ju(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}dt.utf8ToBytes=ju;function ji(r){return typeof r=="string"&&(r=ju(r)),(0,Ao.bytes)(r),r}dt.toBytes=ji;function h0(...r){let t=0;for(let n=0;n<r.length;n++){let i=r[n];(0,Ao.bytes)(i),t+=i.length}let e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let o=r[n];e.set(o,i),i+=o.length}return e}dt.concatBytes=h0;var Io=class{clone(){return this._cloneInto()}};dt.Hash=Io;var d0={}.toString;function p0(r,t){if(t!==void 0&&d0.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,t)}dt.checkOpts=p0;function y0(r){let t=n=>r().update(ji(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}dt.wrapConstructor=y0;function g0(r){let t=(n,i)=>r(i).update(ji(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}dt.wrapConstructorWithOpts=g0;function m0(r){let t=(n,i)=>r(i).update(ji(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}dt.wrapXOFConstructorWithOpts=m0;function b0(r=32){if(Bo.crypto&&typeof Bo.crypto.getRandomValues=="function")return Bo.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}dt.randomBytes=b0});var To=Ht(Mr=>{"use strict";var Dm=V(j());Object.defineProperty(Mr,"__esModule",{value:!0});Mr.HashMD=Mr.Maj=Mr.Chi=void 0;var Mo=ui(),ci=vr();function w0(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let i=BigInt(32),o=BigInt(4294967295),u=Number(e>>i&o),d=Number(e&o),g=n?4:0,x=n?0:4;r.setUint32(t+g,u,n),r.setUint32(t+x,d,n)}var v0=(r,t,e)=>r&t^~r&e;Mr.Chi=v0;var x0=(r,t,e)=>r&t^r&e^t&e;Mr.Maj=x0;var Ro=class extends ci.Hash{constructor(t,e,n,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,ci.createView)(this.buffer)}update(t){(0,Mo.exists)(this);let{view:e,buffer:n,blockLen:i}=this;t=(0,ci.toBytes)(t);let o=t.length;for(let u=0;u<o;){let d=Math.min(i-this.pos,o-u);if(d===i){let g=(0,ci.createView)(t);for(;i<=o-u;u+=i)this.process(g,u);continue}n.set(t.subarray(u,u+d),this.pos),this.pos+=d,u+=d,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Mo.exists)(this),(0,Mo.output)(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:i,isLE:o}=this,{pos:u}=this;e[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let S=u;S<i;S++)e[S]=0;w0(n,i-8,BigInt(this.length*8),o),this.process(n,0);let d=(0,ci.createView)(t),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let x=g/4,k=this.get();if(x>k.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)d.setUint32(4*S,k[S],o)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:i,finished:o,destroyed:u,pos:d}=this;return t.length=i,t.pos=d,t.finished=o,t.destroyed=u,i%e&&t.buffer.set(n),t}};Mr.HashMD=Ro});var Co=Ht(mt=>{"use strict";var Hm=V(j());Object.defineProperty(mt,"__esModule",{value:!0});mt.add5L=mt.add5H=mt.add4H=mt.add4L=mt.add3H=mt.add3L=mt.add=mt.rotlBL=mt.rotlBH=mt.rotlSL=mt.rotlSH=mt.rotr32L=mt.rotr32H=mt.rotrBL=mt.rotrBH=mt.rotrSL=mt.rotrSH=mt.shrSL=mt.shrSH=mt.toBig=mt.split=mt.fromBig=void 0;var Gi=BigInt(2**32-1),Lo=BigInt(32);function Po(r,t=!1){return t?{h:Number(r&Gi),l:Number(r>>Lo&Gi)}:{h:Number(r>>Lo&Gi)|0,l:Number(r&Gi)|0}}mt.fromBig=Po;function Gu(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:o,l:u}=Po(r[i],t);[e[i],n[i]]=[o,u]}return[e,n]}mt.split=Gu;var Zu=(r,t)=>BigInt(r>>>0)<<Lo|BigInt(t>>>0);mt.toBig=Zu;var Yu=(r,t,e)=>r>>>e;mt.shrSH=Yu;var Ju=(r,t,e)=>r<<32-e|t>>>e;mt.shrSL=Ju;var Xu=(r,t,e)=>r>>>e|t<<32-e;mt.rotrSH=Xu;var Qu=(r,t,e)=>r<<32-e|t>>>e;mt.rotrSL=Qu;var tc=(r,t,e)=>r<<64-e|t>>>e-32;mt.rotrBH=tc;var ec=(r,t,e)=>r>>>e-32|t<<64-e;mt.rotrBL=ec;var rc=(r,t)=>t;mt.rotr32H=rc;var nc=(r,t)=>r;mt.rotr32L=nc;var ic=(r,t,e)=>r<<e|t>>>32-e;mt.rotlSH=ic;var sc=(r,t,e)=>t<<e|r>>>32-e;mt.rotlSL=sc;var oc=(r,t,e)=>t<<e-32|r>>>64-e;mt.rotlBH=oc;var ac=(r,t,e)=>r<<e-32|t>>>64-e;mt.rotlBL=ac;function uc(r,t,e,n){let i=(t>>>0)+(n>>>0);return{h:r+e+(i/2**32|0)|0,l:i|0}}mt.add=uc;var cc=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0);mt.add3L=cc;var fc=(r,t,e,n)=>t+e+n+(r/2**32|0)|0;mt.add3H=fc;var lc=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0);mt.add4L=lc;var hc=(r,t,e,n,i)=>t+e+n+i+(r/2**32|0)|0;mt.add4H=hc;var dc=(r,t,e,n,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0);mt.add5L=dc;var pc=(r,t,e,n,i,o)=>t+e+n+i+o+(r/2**32|0)|0;mt.add5H=pc;var k0={fromBig:Po,split:Gu,toBig:Zu,shrSH:Yu,shrSL:Ju,rotrSH:Xu,rotrSL:Qu,rotrBH:tc,rotrBL:ec,rotr32H:rc,rotr32L:nc,rotlSH:ic,rotlSL:sc,rotlBH:oc,rotlBL:ac,add:uc,add3L:cc,add3H:fc,add4L:lc,add4H:hc,add5H:pc,add5L:dc};mt.default=k0});var yc=Ht(Je=>{"use strict";var Vm=V(j());Object.defineProperty(Je,"__esModule",{value:!0});Je.sha384=Je.sha512_256=Je.sha512_224=Je.sha512=Je.SHA512=void 0;var S0=To(),$t=Co(),Zi=vr(),[_0,E0]=$t.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Rr=new Uint32Array(80),Tr=new Uint32Array(80),mn=class extends S0.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:i,Ch:o,Cl:u,Dh:d,Dl:g,Eh:x,El:k,Fh:S,Fl:P,Gh:I,Gl:R,Hh:E,Hl:M}=this;return[t,e,n,i,o,u,d,g,x,k,S,P,I,R,E,M]}set(t,e,n,i,o,u,d,g,x,k,S,P,I,R,E,M){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=u|0,this.Dh=d|0,this.Dl=g|0,this.Eh=x|0,this.El=k|0,this.Fh=S|0,this.Fl=P|0,this.Gh=I|0,this.Gl=R|0,this.Hh=E|0,this.Hl=M|0}process(t,e){for(let U=0;U<16;U++,e+=4)Rr[U]=t.getUint32(e),Tr[U]=t.getUint32(e+=4);for(let U=16;U<80;U++){let K=Rr[U-15]|0,G=Tr[U-15]|0,H=$t.default.rotrSH(K,G,1)^$t.default.rotrSH(K,G,8)^$t.default.shrSH(K,G,7),Y=$t.default.rotrSL(K,G,1)^$t.default.rotrSL(K,G,8)^$t.default.shrSL(K,G,7),X=Rr[U-2]|0,xt=Tr[U-2]|0,pt=$t.default.rotrSH(X,xt,19)^$t.default.rotrBH(X,xt,61)^$t.default.shrSH(X,xt,6),Z=$t.default.rotrSL(X,xt,19)^$t.default.rotrBL(X,xt,61)^$t.default.shrSL(X,xt,6),kt=$t.default.add4L(Y,Z,Tr[U-7],Tr[U-16]),w=$t.default.add4H(kt,H,pt,Rr[U-7],Rr[U-16]);Rr[U]=w|0,Tr[U]=kt|0}let{Ah:n,Al:i,Bh:o,Bl:u,Ch:d,Cl:g,Dh:x,Dl:k,Eh:S,El:P,Fh:I,Fl:R,Gh:E,Gl:M,Hh:C,Hl:F}=this;for(let U=0;U<80;U++){let K=$t.default.rotrSH(S,P,14)^$t.default.rotrSH(S,P,18)^$t.default.rotrBH(S,P,41),G=$t.default.rotrSL(S,P,14)^$t.default.rotrSL(S,P,18)^$t.default.rotrBL(S,P,41),H=S&I^~S&E,Y=P&R^~P&M,X=$t.default.add5L(F,G,Y,E0[U],Tr[U]),xt=$t.default.add5H(X,C,K,H,_0[U],Rr[U]),pt=X|0,Z=$t.default.rotrSH(n,i,28)^$t.default.rotrBH(n,i,34)^$t.default.rotrBH(n,i,39),kt=$t.default.rotrSL(n,i,28)^$t.default.rotrBL(n,i,34)^$t.default.rotrBL(n,i,39),w=n&o^n&d^o&d,s=i&u^i&g^u&g;C=E|0,F=M|0,E=I|0,M=R|0,I=S|0,R=P|0,{h:S,l:P}=$t.default.add(x|0,k|0,xt|0,pt|0),x=d|0,k=g|0,d=o|0,g=u|0,o=n|0,u=i|0;let c=$t.default.add3L(pt,kt,s);n=$t.default.add3H(c,xt,Z,w),i=c|0}({h:n,l:i}=$t.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:u}=$t.default.add(this.Bh|0,this.Bl|0,o|0,u|0),{h:d,l:g}=$t.default.add(this.Ch|0,this.Cl|0,d|0,g|0),{h:x,l:k}=$t.default.add(this.Dh|0,this.Dl|0,x|0,k|0),{h:S,l:P}=$t.default.add(this.Eh|0,this.El|0,S|0,P|0),{h:I,l:R}=$t.default.add(this.Fh|0,this.Fl|0,I|0,R|0),{h:E,l:M}=$t.default.add(this.Gh|0,this.Gl|0,E|0,M|0),{h:C,l:F}=$t.default.add(this.Hh|0,this.Hl|0,C|0,F|0),this.set(n,i,o,u,d,g,x,k,S,P,I,R,E,M,C,F)}roundClean(){Rr.fill(0),Tr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Je.SHA512=mn;var Oo=class extends mn{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},No=class extends mn{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Uo=class extends mn{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Je.sha512=(0,Zi.wrapConstructor)(()=>new mn);Je.sha512_224=(0,Zi.wrapConstructor)(()=>new Oo);Je.sha512_256=(0,Zi.wrapConstructor)(()=>new No);Je.sha384=(0,Zi.wrapConstructor)(()=>new Uo)});var Qe=Ht(le=>{"use strict";var Gm=V(j());Object.defineProperty(le,"__esModule",{value:!0});le.bitMask=void 0;le.isBytes=Ji;le.abytes=Xi;le.bytesToHex=zo;le.numberToHexUnpadded=wc;le.hexToNumber=Fo;le.hexToBytes=Qi;le.bytesToNumberBE=A0;le.bytesToNumberLE=M0;le.numberToBytesBE=vc;le.numberToBytesLE=R0;le.numberToVarBytesBE=T0;le.ensureBytes=L0;le.concatBytes=xc;le.equalBytes=P0;le.utf8ToBytes=C0;le.bitLen=O0;le.bitGet=N0;le.bitSet=U0;le.createHmacDrbg=z0;le.validateObject=K0;var bc=BigInt(0),Yi=BigInt(1),B0=BigInt(2);function Ji(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Xi(r){if(!Ji(r))throw new Error("Uint8Array expected")}var I0=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function zo(r){Xi(r);let t="";for(let e=0;e<r.length;e++)t+=I0[r[e]];return t}function wc(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function Fo(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}var xr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function gc(r){if(r>=xr._0&&r<=xr._9)return r-xr._0;if(r>=xr._A&&r<=xr._F)return r-(xr._A-10);if(r>=xr._a&&r<=xr._f)return r-(xr._a-10)}function Qi(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(e);for(let i=0,o=0;i<e;i++,o+=2){let u=gc(r.charCodeAt(o)),d=gc(r.charCodeAt(o+1));if(u===void 0||d===void 0){let g=r[o]+r[o+1];throw new Error(\'hex string expected, got non-hex character "\'+g+\'" at index \'+o)}n[i]=u*16+d}return n}function A0(r){return Fo(zo(r))}function M0(r){return Xi(r),Fo(zo(Uint8Array.from(r).reverse()))}function vc(r,t){return Qi(r.toString(16).padStart(t*2,"0"))}function R0(r,t){return vc(r,t).reverse()}function T0(r){return Qi(wc(r))}function L0(r,t,e){let n;if(typeof t=="string")try{n=Qi(t)}catch(o){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Ji(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let i=n.length;if(typeof e=="number"&&i!==e)throw new Error(`${r} expected ${e} bytes, got ${i}`);return n}function xc(...r){let t=0;for(let n=0;n<r.length;n++){let i=r[n];Xi(i),t+=i.length}let e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let o=r[n];e.set(o,i),i+=o.length}return e}function P0(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function C0(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function O0(r){let t;for(t=0;r>bc;r>>=Yi,t+=1);return t}function N0(r,t){return r>>BigInt(t)&Yi}function U0(r,t,e){return r|(e?Yi:bc)<<BigInt(t)}var q0=r=>(B0<<BigInt(r-1))-Yi;le.bitMask=q0;var qo=r=>new Uint8Array(r),mc=r=>Uint8Array.from(r);function z0(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=qo(r),i=qo(r),o=0,u=()=>{n.fill(1),i.fill(0),o=0},d=(...S)=>e(i,n,...S),g=(S=qo())=>{i=d(mc([0]),S),n=d(),S.length!==0&&(i=d(mc([1]),S),n=d())},x=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let S=0,P=[];for(;S<t;){n=d();let I=n.slice();P.push(I),S+=n.length}return xc(...P)};return(S,P)=>{u(),g(S);let I;for(;!(I=P(x()));)g();return u(),I}}var F0={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Ji(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function K0(r,t,e={}){let n=(i,o,u)=>{let d=F0[o];if(typeof d!="function")throw new Error(`Invalid validator "${o}", expected function`);let g=r[i];if(!(u&&g===void 0)&&!d(g,r))throw new Error(`Invalid param ${String(i)}=${g} (${typeof g}), expected ${o}`)};for(let[i,o]of Object.entries(t))n(i,o,!1);for(let[i,o]of Object.entries(e))n(i,o,!0);return r}});var Pr=Ht(he=>{"use strict";var Ym=V(j());Object.defineProperty(he,"__esModule",{value:!0});he.isNegativeLE=void 0;he.mod=$e;he.pow=_c;he.pow2=$0;he.invert=ts;he.tonelliShanks=Ec;he.FpSqrt=Bc;he.validateField=G0;he.FpPow=Ic;he.FpInvertBatch=Ac;he.FpDiv=Z0;he.FpIsSquare=Y0;he.nLength=Do;he.Field=J0;he.FpSqrtOdd=X0;he.FpSqrtEven=Q0;he.hashToPrivateScalar=td;he.getFieldBytesLength=Wo;he.getMinHashLength=Mc;he.mapHashToField=ed;var Ve=Qe(),me=BigInt(0),oe=BigInt(1),Lr=BigInt(2),D0=BigInt(3),Ko=BigInt(4),kc=BigInt(5),Sc=BigInt(8),W0=BigInt(9),H0=BigInt(16);function $e(r,t){let e=r%t;return e>=me?e:t+e}function _c(r,t,e){if(e<=me||t<me)throw new Error("Expected power/modulo > 0");if(e===oe)return me;let n=oe;for(;t>me;)t&oe&&(n=n*r%e),r=r*r%e,t>>=oe;return n}function $0(r,t,e){let n=r;for(;t-- >me;)n*=n,n%=e;return n}function ts(r,t){if(r===me||t<=me)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=$e(r,t),n=t,i=me,o=oe,u=oe,d=me;for(;e!==me;){let x=n/e,k=n%e,S=i-u*x,P=o-d*x;n=e,e=k,i=u,o=d,u=S,d=P}if(n!==oe)throw new Error("invert: does not exist");return $e(i,t)}function Ec(r){let t=(r-oe)/Lr,e,n,i;for(e=r-oe,n=0;e%Lr===me;e/=Lr,n++);for(i=Lr;i<r&&_c(i,t,r)!==r-oe;i++);if(n===1){let u=(r+oe)/Ko;return function(g,x){let k=g.pow(x,u);if(!g.eql(g.sqr(k),x))throw new Error("Cannot find square root");return k}}let o=(e+oe)/Lr;return function(d,g){if(d.pow(g,t)===d.neg(d.ONE))throw new Error("Cannot find square root");let x=n,k=d.pow(d.mul(d.ONE,i),e),S=d.pow(g,o),P=d.pow(g,e);for(;!d.eql(P,d.ONE);){if(d.eql(P,d.ZERO))return d.ZERO;let I=1;for(let E=d.sqr(P);I<x&&!d.eql(E,d.ONE);I++)E=d.sqr(E);let R=d.pow(k,oe<<BigInt(x-I-1));k=d.sqr(R),S=d.mul(S,R),P=d.mul(P,k),x=I}return S}}function Bc(r){if(r%Ko===D0){let t=(r+oe)/Ko;return function(n,i){let o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(r%Sc===kc){let t=(r-kc)/Sc;return function(n,i){let o=n.mul(i,Lr),u=n.pow(o,t),d=n.mul(i,u),g=n.mul(n.mul(d,Lr),u),x=n.mul(d,n.sub(g,n.ONE));if(!n.eql(n.sqr(x),i))throw new Error("Cannot find square root");return x}}return r%H0,Ec(r)}var V0=(r,t)=>($e(r,t)&oe)===oe;he.isNegativeLE=V0;var j0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function G0(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=j0.reduce((n,i)=>(n[i]="function",n),t);return(0,Ve.validateObject)(r,e)}function Ic(r,t,e){if(e<me)throw new Error("Expected power > 0");if(e===me)return r.ONE;if(e===oe)return t;let n=r.ONE,i=t;for(;e>me;)e&oe&&(n=r.mul(n,i)),i=r.sqr(i),e>>=oe;return n}function Ac(r,t){let e=new Array(t.length),n=t.reduce((o,u,d)=>r.is0(u)?o:(e[d]=o,r.mul(o,u)),r.ONE),i=r.inv(n);return t.reduceRight((o,u,d)=>r.is0(u)?o:(e[d]=r.mul(o,e[d]),r.mul(o,u)),i),e}function Z0(r,t,e){return r.mul(t,typeof e=="bigint"?ts(e,r.ORDER):r.inv(e))}function Y0(r){let t=(r.ORDER-oe)/Lr;return e=>{let n=r.pow(e,t);return r.eql(n,r.ZERO)||r.eql(n,r.ONE)}}function Do(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function J0(r,t,e=!1,n={}){if(r<=me)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:i,nByteLength:o}=Do(r,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let u=Bc(r),d=Object.freeze({ORDER:r,BITS:i,BYTES:o,MASK:(0,Ve.bitMask)(i),ZERO:me,ONE:oe,create:g=>$e(g,r),isValid:g=>{if(typeof g!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof g}`);return me<=g&&g<r},is0:g=>g===me,isOdd:g=>(g&oe)===oe,neg:g=>$e(-g,r),eql:(g,x)=>g===x,sqr:g=>$e(g*g,r),add:(g,x)=>$e(g+x,r),sub:(g,x)=>$e(g-x,r),mul:(g,x)=>$e(g*x,r),pow:(g,x)=>Ic(d,g,x),div:(g,x)=>$e(g*ts(x,r),r),sqrN:g=>g*g,addN:(g,x)=>g+x,subN:(g,x)=>g-x,mulN:(g,x)=>g*x,inv:g=>ts(g,r),sqrt:n.sqrt||(g=>u(d,g)),invertBatch:g=>Ac(d,g),cmov:(g,x,k)=>k?x:g,toBytes:g=>e?(0,Ve.numberToBytesLE)(g,o):(0,Ve.numberToBytesBE)(g,o),fromBytes:g=>{if(g.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${g.length}`);return e?(0,Ve.bytesToNumberLE)(g):(0,Ve.bytesToNumberBE)(g)}});return Object.freeze(d)}function X0(r,t){if(!r.isOdd)throw new Error("Field doesn\'t have isOdd");let e=r.sqrt(t);return r.isOdd(e)?e:r.neg(e)}function Q0(r,t){if(!r.isOdd)throw new Error("Field doesn\'t have isOdd");let e=r.sqrt(t);return r.isOdd(e)?r.neg(e):e}function td(r,t,e=!1){r=(0,Ve.ensureBytes)("privateHash",r);let n=r.length,i=Do(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let o=e?(0,Ve.bytesToNumberLE)(r):(0,Ve.bytesToNumberBE)(r);return $e(o,t-oe)+oe}function Wo(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let t=r.toString(2).length;return Math.ceil(t/8)}function Mc(r){let t=Wo(r);return t+Math.ceil(t/2)}function ed(r,t,e=!1){let n=r.length,i=Wo(t),o=Mc(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let u=e?(0,Ve.bytesToNumberBE)(r):(0,Ve.bytesToNumberLE)(r),d=$e(u,t-oe)+oe;return e?(0,Ve.numberToBytesLE)(d,i):(0,Ve.numberToBytesBE)(d,i)}});var $o=Ht(es=>{"use strict";var Xm=V(j());Object.defineProperty(es,"__esModule",{value:!0});es.wNAF=id;es.validateBasic=sd;var Rc=Pr(),rd=Qe(),nd=BigInt(0),Ho=BigInt(1);function id(r,t){let e=(i,o)=>{let u=o.negate();return i?u:o},n=i=>{let o=Math.ceil(t/i)+1,u=2**(i-1);return{windows:o,windowSize:u}};return{constTimeNegate:e,unsafeLadder(i,o){let u=r.ZERO,d=i;for(;o>nd;)o&Ho&&(u=u.add(d)),d=d.double(),o>>=Ho;return u},precomputeWindow(i,o){let{windows:u,windowSize:d}=n(o),g=[],x=i,k=x;for(let S=0;S<u;S++){k=x,g.push(k);for(let P=1;P<d;P++)k=k.add(x),g.push(k);x=k.double()}return g},wNAF(i,o,u){let{windows:d,windowSize:g}=n(i),x=r.ZERO,k=r.BASE,S=BigInt(2**i-1),P=2**i,I=BigInt(i);for(let R=0;R<d;R++){let E=R*g,M=Number(u&S);u>>=I,M>g&&(M-=P,u+=Ho);let C=E,F=E+Math.abs(M)-1,U=R%2!==0,K=M<0;M===0?k=k.add(e(U,o[C])):x=x.add(e(K,o[F]))}return{p:x,f:k}},wNAFCached(i,o,u,d){let g=i._WINDOW_SIZE||1,x=o.get(i);return x||(x=this.precomputeWindow(i,g),g!==1&&o.set(i,d(x))),this.wNAF(g,x,u)}}}function sd(r){return(0,Rc.validateField)(r.Fp),(0,rd.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Rc.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}});var Lc=Ht(Vo=>{"use strict";var t1=V(j());Object.defineProperty(Vo,"__esModule",{value:!0});Vo.twistedEdwards=fd;var Tc=$o(),od=Pr(),kr=Qe(),Cr=Qe(),tr=BigInt(0),je=BigInt(1),rs=BigInt(2),ad=BigInt(8),ud={zip215:!0};function cd(r){let t=(0,Tc.validateBasic)(r);return kr.validateObject(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function fd(r){let t=cd(r),{Fp:e,n,prehash:i,hash:o,randomBytes:u,nByteLength:d,h:g}=t,x=rs<<BigInt(d*8)-je,k=e.create,S=t.uvRatio||((p,b)=>{try{return{isValid:!0,value:e.sqrt(p*e.inv(b))}}catch{return{isValid:!1,value:tr}}}),P=t.adjustScalarBytes||(p=>p),I=t.domain||((p,b,v)=>{if(b.length||v)throw new Error("Contexts/pre-hash are not supported");return p}),R=p=>typeof p=="bigint"&&tr<p,E=(p,b)=>R(p)&&R(b)&&p<b,M=p=>p===tr||E(p,x);function C(p,b){if(E(p,b))return p;throw new Error(`Expected valid scalar < ${b}, got ${typeof p} ${p}`)}function F(p){return p===tr?p:C(p,n)}let U=new Map;function K(p){if(!(p instanceof G))throw new Error("ExtendedPoint expected")}class G{constructor(b,v,y,a){if(this.ex=b,this.ey=v,this.ez=y,this.et=a,!M(b))throw new Error("x required");if(!M(v))throw new Error("y required");if(!M(y))throw new Error("z required");if(!M(a))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof G)throw new Error("extended point not allowed");let{x:v,y}=b||{};if(!M(v)||!M(y))throw new Error("invalid affine point");return new G(v,y,je,k(v*y))}static normalizeZ(b){let v=e.invertBatch(b.map(y=>y.ez));return b.map((y,a)=>y.toAffine(v[a])).map(G.fromAffine)}_setWindowSize(b){this._WINDOW_SIZE=b,U.delete(this)}assertValidity(){let{a:b,d:v}=t;if(this.is0())throw new Error("bad point: ZERO");let{ex:y,ey:a,ez:m,et:O}=this,N=k(y*y),q=k(a*a),W=k(m*m),J=k(W*W),Q=k(N*b),Gt=k(W*k(Q+q)),it=k(J+k(v*k(N*q)));if(Gt!==it)throw new Error("bad point: equation left != right (1)");let nt=k(y*a),fe=k(m*O);if(nt!==fe)throw new Error("bad point: equation left != right (2)")}equals(b){K(b);let{ex:v,ey:y,ez:a}=this,{ex:m,ey:O,ez:N}=b,q=k(v*N),W=k(m*a),J=k(y*N),Q=k(O*a);return q===W&&J===Q}is0(){return this.equals(G.ZERO)}negate(){return new G(k(-this.ex),this.ey,this.ez,k(-this.et))}double(){let{a:b}=t,{ex:v,ey:y,ez:a}=this,m=k(v*v),O=k(y*y),N=k(rs*k(a*a)),q=k(b*m),W=v+y,J=k(k(W*W)-m-O),Q=q+O,Gt=Q-N,it=q-O,nt=k(J*Gt),fe=k(Q*it),ft=k(J*it),ht=k(Gt*Q);return new G(nt,fe,ht,ft)}add(b){K(b);let{a:v,d:y}=t,{ex:a,ey:m,ez:O,et:N}=this,{ex:q,ey:W,ez:J,et:Q}=b;if(v===BigInt(-1)){let ir=k((m-a)*(W+q)),wt=k((m+a)*(W-q)),gt=k(wt-ir);if(gt===tr)return this.double();let Ie=k(O*rs*Q),_=k(N*rs*J),A=_+Ie,T=wt+ir,L=_-Ie,$=k(A*gt),ct=k(T*L),tt=k(A*L),ot=k(gt*T);return new G($,ct,ot,tt)}let Gt=k(a*q),it=k(m*W),nt=k(N*y*Q),fe=k(O*J),ft=k((a+m)*(q+W)-Gt-it),ht=fe-nt,He=fe+nt,bt=k(it-v*Gt),St=k(ft*ht),nr=k(He*bt),_t=k(ft*bt),Et=k(ht*He);return new G(St,nr,Et,_t)}subtract(b){return this.add(b.negate())}wNAF(b){return X.wNAFCached(this,U,b,G.normalizeZ)}multiply(b){let{p:v,f:y}=this.wNAF(C(b,n));return G.normalizeZ([v,y])[0]}multiplyUnsafe(b){let v=F(b);return v===tr?Y:this.equals(Y)||v===je?this:this.equals(H)?this.wNAF(v).p:X.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(g).is0()}isTorsionFree(){return X.unsafeLadder(this,n).is0()}toAffine(b){let{ex:v,ey:y,ez:a}=this,m=this.is0();b==null&&(b=m?ad:e.inv(a));let O=k(v*b),N=k(y*b),q=k(a*b);if(m)return{x:tr,y:je};if(q!==je)throw new Error("invZ was invalid");return{x:O,y:N}}clearCofactor(){let{h:b}=t;return b===je?this:this.multiplyUnsafe(b)}static fromHex(b,v=!1){let{d:y,a}=t,m=e.BYTES;b=(0,Cr.ensureBytes)("pointHex",b,m);let O=b.slice(),N=b[m-1];O[m-1]=N&-129;let q=kr.bytesToNumberLE(O);q===tr||(v?C(q,x):C(q,e.ORDER));let W=k(q*q),J=k(W-je),Q=k(y*W-a),{isValid:Gt,value:it}=S(J,Q);if(!Gt)throw new Error("Point.fromHex: invalid y coordinate");let nt=(it&je)===je,fe=(N&128)!==0;if(!v&&it===tr&&fe)throw new Error("Point.fromHex: x=0 and x_0=1");return fe!==nt&&(it=k(-it)),G.fromAffine({x:it,y:q})}static fromPrivateKey(b){return Z(b).point}toRawBytes(){let{x:b,y:v}=this.toAffine(),y=kr.numberToBytesLE(v,e.BYTES);return y[y.length-1]|=b&je?128:0,y}toHex(){return kr.bytesToHex(this.toRawBytes())}}G.BASE=new G(t.Gx,t.Gy,je,k(t.Gx*t.Gy)),G.ZERO=new G(tr,je,je,tr);let{BASE:H,ZERO:Y}=G,X=(0,Tc.wNAF)(G,d*8);function xt(p){return(0,od.mod)(p,n)}function pt(p){return xt(kr.bytesToNumberLE(p))}function Z(p){let b=d;p=(0,Cr.ensureBytes)("private key",p,b);let v=(0,Cr.ensureBytes)("hashed private key",o(p),2*b),y=P(v.slice(0,b)),a=v.slice(b,2*b),m=pt(y),O=H.multiply(m),N=O.toRawBytes();return{head:y,prefix:a,scalar:m,point:O,pointBytes:N}}function kt(p){return Z(p).pointBytes}function w(p=new Uint8Array,...b){let v=kr.concatBytes(...b);return pt(o(I(v,(0,Cr.ensureBytes)("context",p),!!i)))}function s(p,b,v={}){p=(0,Cr.ensureBytes)("message",p),i&&(p=i(p));let{prefix:y,scalar:a,pointBytes:m}=Z(b),O=w(v.context,y,p),N=H.multiply(O).toRawBytes(),q=w(v.context,N,m,p),W=xt(O+q*a);F(W);let J=kr.concatBytes(N,kr.numberToBytesLE(W,e.BYTES));return(0,Cr.ensureBytes)("result",J,d*2)}let c=ud;function f(p,b,v,y=c){let{context:a,zip215:m}=y,O=e.BYTES;p=(0,Cr.ensureBytes)("signature",p,2*O),b=(0,Cr.ensureBytes)("message",b),i&&(b=i(b));let N=kr.bytesToNumberLE(p.slice(O,2*O)),q,W,J;try{q=G.fromHex(v,m),W=G.fromHex(p.slice(0,O),m),J=H.multiplyUnsafe(N)}catch{return!1}if(!m&&q.isSmallOrder())return!1;let Q=w(a,W.toRawBytes(),q.toRawBytes(),b);return W.add(q.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(G.ZERO)}return H._setWindowSize(8),{CURVE:t,getPublicKey:kt,sign:s,verify:f,ExtendedPoint:G,utils:{getExtendedPublicKey:Z,randomPrivateKey:()=>u(e.BYTES),precompute(p=8,b=G.BASE){return b._setWindowSize(p),b.multiply(BigInt(3)),b}}}}});var Zo=Ht(bn=>{"use strict";var r1=V(j());Object.defineProperty(bn,"__esModule",{value:!0});bn.expand_message_xmd=Pc;bn.expand_message_xof=Cc;bn.hash_to_field=jo;bn.isogenyMap=pd;bn.createHasher=yd;var ld=Pr(),Ae=Qe(),hd=Ae.bytesToNumberBE;function Or(r,t){if(r<0||r>=1<<8*t)throw new Error(`bad I2OSP call: value=${r} length=${t}`);let e=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)e[n]=r&255,r>>>=8;return new Uint8Array(e)}function dd(r,t){let e=new Uint8Array(r.length);for(let n=0;n<r.length;n++)e[n]=r[n]^t[n];return e}function Go(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function Pc(r,t,e,n){(0,Ae.abytes)(r),(0,Ae.abytes)(t),Go(e),t.length>255&&(t=n((0,Ae.concatBytes)((0,Ae.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:o}=n,u=Math.ceil(e/i);if(u>255)throw new Error("Invalid xmd length");let d=(0,Ae.concatBytes)(t,Or(t.length,1)),g=Or(0,o),x=Or(e,2),k=new Array(u),S=n((0,Ae.concatBytes)(g,r,x,Or(0,1),d));k[0]=n((0,Ae.concatBytes)(S,Or(1,1),d));for(let I=1;I<=u;I++){let R=[dd(S,k[I-1]),Or(I+1,1),d];k[I]=n((0,Ae.concatBytes)(...R))}return(0,Ae.concatBytes)(...k).slice(0,e)}function Cc(r,t,e,n,i){if((0,Ae.abytes)(r),(0,Ae.abytes)(t),Go(e),t.length>255){let o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,Ae.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(e>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:e}).update(r).update(Or(e,2)).update(t).update(Or(t.length,1)).digest()}function jo(r,t,e){(0,Ae.validateObject)(e,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:o,hash:u,expand:d,DST:g}=e;(0,Ae.abytes)(r),Go(t);let x=typeof g=="string"?(0,Ae.utf8ToBytes)(g):g,k=n.toString(2).length,S=Math.ceil((k+i)/8),P=t*o*S,I;if(d==="xmd")I=Pc(r,x,P,u);else if(d==="xof")I=Cc(r,x,P,i,u);else if(d==="_internal_pass")I=r;else throw new Error(\'expand must be "xmd" or "xof"\');let R=new Array(t);for(let E=0;E<t;E++){let M=new Array(o);for(let C=0;C<o;C++){let F=S*(C+E*o),U=I.subarray(F,F+S);M[C]=(0,ld.mod)(hd(U),n)}R[E]=M}return R}function pd(r,t){let e=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[o,u,d,g]=e.map(x=>x.reduce((k,S)=>r.add(r.mul(k,n),S)));return n=r.div(o,u),i=r.mul(i,r.div(d,g)),{x:n,y:i}}}function yd(r,t,e){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=jo(n,2,{...e,DST:e.DST,...i}),u=r.fromAffine(t(o[0])),d=r.fromAffine(t(o[1])),g=u.add(d).clearCofactor();return g.assertValidity(),g},encodeToCurve(n,i){let o=jo(n,1,{...e,DST:e.encodeDST,...i}),u=r.fromAffine(t(o[0])).clearCofactor();return u.assertValidity(),u},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let o of n)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);let i=r.fromAffine(t(n)).clearCofactor();return i.assertValidity(),i}}}});var Nc=Ht(Jo=>{"use strict";var i1=V(j());Object.defineProperty(Jo,"__esModule",{value:!0});Jo.montgomery=md;var Oc=Pr(),Nn=Qe(),fi=BigInt(0),Yo=BigInt(1);function gd(r){return(0,Nn.validateObject)(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}function md(r){let t=gd(r),{P:e}=t,n=U=>(0,Oc.mod)(U,e),i=t.montgomeryBits,o=Math.ceil(i/8),u=t.nByteLength,d=t.adjustScalarBytes||(U=>U),g=t.powPminus2||(U=>(0,Oc.pow)(U,e-BigInt(2),e));function x(U,K,G){let H=n(U*(K-G));return K=n(K-H),G=n(G+H),[K,G]}function k(U){if(typeof U=="bigint"&&fi<=U&&U<e)return U;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let S=(t.a-BigInt(2))/BigInt(4);function P(U,K){let G=k(U),H=k(K),Y=G,X=Yo,xt=fi,pt=G,Z=Yo,kt=fi,w;for(let c=BigInt(i-1);c>=fi;c--){let f=H>>c&Yo;kt^=f,w=x(kt,X,pt),X=w[0],pt=w[1],w=x(kt,xt,Z),xt=w[0],Z=w[1],kt=f;let h=X+xt,p=n(h*h),b=X-xt,v=n(b*b),y=p-v,a=pt+Z,m=pt-Z,O=n(m*h),N=n(a*b),q=O+N,W=O-N;pt=n(q*q),Z=n(Y*n(W*W)),X=n(p*v),xt=n(y*(p+n(S*y)))}w=x(kt,X,pt),X=w[0],pt=w[1],w=x(kt,xt,Z),xt=w[0],Z=w[1];let s=g(xt);return n(X*s)}function I(U){return(0,Nn.numberToBytesLE)(n(U),o)}function R(U){let K=(0,Nn.ensureBytes)("u coordinate",U,o);return u===32&&(K[31]&=127),(0,Nn.bytesToNumberLE)(K)}function E(U){let K=(0,Nn.ensureBytes)("scalar",U),G=K.length;if(G!==o&&G!==u)throw new Error(`Expected ${o} or ${u} bytes, got ${G}`);return(0,Nn.bytesToNumberLE)(d(K))}function M(U,K){let G=R(K),H=E(U),Y=P(G,H);if(Y===fi)throw new Error("Invalid private or public key received");return I(Y)}let C=I(t.Gu);function F(U){return M(U,C)}return{scalarMult:M,scalarMultBase:F,getSharedSecret:(U,K)=>M(U,K),getPublicKey:U=>F(U),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:C}}});var Gc=Ht(Bt=>{"use strict";var o1=V(j());Object.defineProperty(Bt,"__esModule",{value:!0});Bt.hash_to_ristretto255=Bt.hashToRistretto255=Bt.RistrettoPoint=Bt.encodeToCurve=Bt.hashToCurve=Bt.edwardsToMontgomery=Bt.x25519=Bt.ed25519ph=Bt.ed25519ctx=Bt.ed25519=Bt.ED25519_TORSION_SUBGROUP=void 0;Bt.edwardsToMontgomeryPub=Vc;Bt.edwardsToMontgomeryPriv=vd;var is=yc(),li=vr(),ra=Lc(),Fc=Zo(),te=Pr(),bd=Nc(),wn=Qe(),hi=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ta=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),wd=BigInt(0),ar=BigInt(1),ns=BigInt(2),Kc=BigInt(3),Dc=BigInt(5),na=BigInt(8);function Wc(r){let t=BigInt(10),e=BigInt(20),n=BigInt(40),i=BigInt(80),o=hi,d=r*r%o*r%o,g=(0,te.pow2)(d,ns,o)*d%o,x=(0,te.pow2)(g,ar,o)*r%o,k=(0,te.pow2)(x,Dc,o)*x%o,S=(0,te.pow2)(k,t,o)*k%o,P=(0,te.pow2)(S,e,o)*S%o,I=(0,te.pow2)(P,n,o)*P%o,R=(0,te.pow2)(I,i,o)*I%o,E=(0,te.pow2)(R,i,o)*I%o,M=(0,te.pow2)(E,t,o)*k%o;return{pow_p_5_8:(0,te.pow2)(M,ns,o)*r%o,b2:d}}function Hc(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function ia(r,t){let e=hi,n=(0,te.mod)(t*t*t,e),i=(0,te.mod)(n*n*t,e),o=Wc(r*i).pow_p_5_8,u=(0,te.mod)(r*n*o,e),d=(0,te.mod)(t*u*u,e),g=u,x=(0,te.mod)(u*ta,e),k=d===r,S=d===(0,te.mod)(-r,e),P=d===(0,te.mod)(-r*ta,e);return k&&(u=g),(S||P)&&(u=x),(0,te.isNegativeLE)(u,e)&&(u=(0,te.mod)(-u,e)),{isValid:k||S,value:u}}Bt.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var st=(0,te.Field)(hi,void 0,!0),di={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:st,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:na,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:is.sha512,randomBytes:li.randomBytes,adjustScalarBytes:Hc,uvRatio:ia};Bt.ed25519=(0,ra.twistedEdwards)(di);function $c(r,t,e){if(t.length>255)throw new Error("Context is too big");return(0,li.concatBytes)((0,li.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([e?1:0,t.length]),t,r)}Bt.ed25519ctx=(0,ra.twistedEdwards)({...di,domain:$c});Bt.ed25519ph=(0,ra.twistedEdwards)(Object.assign({},di,{domain:$c,prehash:is.sha512}));Bt.x25519=(0,bd.montgomery)({P:hi,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{let t=hi,{pow_p_5_8:e,b2:n}=Wc(r);return(0,te.mod)((0,te.pow2)(e,Kc,t)*n,t)},adjustScalarBytes:Hc,randomBytes:li.randomBytes});function Vc(r){let{y:t}=Bt.ed25519.ExtendedPoint.fromHex(r),e=BigInt(1);return st.toBytes(st.create((e+t)*st.inv(e-t)))}Bt.edwardsToMontgomery=Vc;function vd(r){let t=di.hash(r.subarray(0,32));return di.adjustScalarBytes(t).subarray(0,32)}var xd=(st.ORDER+Kc)/na,kd=st.pow(ns,xd),Uc=st.sqrt(st.neg(st.ONE));function Sd(r){let t=(st.ORDER-Dc)/na,e=BigInt(486662),n=st.sqr(r);n=st.mul(n,ns);let i=st.add(n,st.ONE),o=st.neg(e),u=st.sqr(i),d=st.mul(u,i),g=st.mul(n,e);g=st.mul(g,o),g=st.add(g,u),g=st.mul(g,o);let x=st.sqr(d);u=st.sqr(x),x=st.mul(x,d),x=st.mul(x,g),u=st.mul(u,x);let k=st.pow(u,t);k=st.mul(k,x);let S=st.mul(k,Uc);u=st.sqr(k),u=st.mul(u,d);let P=st.eql(u,g),I=st.cmov(S,k,P),R=st.mul(o,n),E=st.mul(k,r);E=st.mul(E,kd);let M=st.mul(E,Uc),C=st.mul(g,n);u=st.sqr(E),u=st.mul(u,d);let F=st.eql(u,C),U=st.cmov(M,E,F);u=st.sqr(I),u=st.mul(u,d);let K=st.eql(u,g),G=st.cmov(R,o,K),H=st.cmov(U,I,K),Y=st.isOdd(H);return H=st.cmov(H,st.neg(H),K!==Y),{xMn:G,xMd:i,yMn:H,yMd:ar}}var _d=(0,te.FpSqrtEven)(st,st.neg(BigInt(486664)));function Ed(r){let{xMn:t,xMd:e,yMn:n,yMd:i}=Sd(r),o=st.mul(t,i);o=st.mul(o,_d);let u=st.mul(e,n),d=st.sub(t,e),g=st.add(t,e),x=st.mul(u,g),k=st.eql(x,st.ZERO);o=st.cmov(o,st.ZERO,k),u=st.cmov(u,st.ONE,k),d=st.cmov(d,st.ONE,k),g=st.cmov(g,st.ONE,k);let S=st.invertBatch([u,g]);return{x:st.mul(o,S[0]),y:st.mul(d,S[1])}}var jc=(0,Fc.createHasher)(Bt.ed25519.ExtendedPoint,r=>Ed(r[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:st.ORDER,m:1,k:128,expand:"xmd",hash:is.sha512});Bt.hashToCurve=jc.hashToCurve;Bt.encodeToCurve=jc.encodeToCurve;function Xo(r){if(!(r instanceof er))throw new Error("RistrettoPoint expected")}var ea=ta,Bd=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Id=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ad=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Md=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),qc=r=>ia(ar,r),Rd=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Qo=r=>Bt.ed25519.CURVE.Fp.create((0,wn.bytesToNumberLE)(r)&Rd);function zc(r){let{d:t}=Bt.ed25519.CURVE,e=Bt.ed25519.CURVE.Fp.ORDER,n=Bt.ed25519.CURVE.Fp.create,i=n(ea*r*r),o=n((i+ar)*Ad),u=BigInt(-1),d=n((u-t*i)*n(i+t)),{isValid:g,value:x}=ia(o,d),k=n(x*r);(0,te.isNegativeLE)(k,e)||(k=n(-k)),g||(x=k),g||(u=i);let S=n(u*(i-ar)*Md-d),P=x*x,I=n((x+x)*d),R=n(S*Bd),E=n(ar-P),M=n(ar+P);return new Bt.ed25519.ExtendedPoint(n(I*M),n(E*R),n(R*M),n(I*E))}var er=class r{constructor(t){this.ep=t}static fromAffine(t){return new r(Bt.ed25519.ExtendedPoint.fromAffine(t))}static hashToCurve(t){t=(0,wn.ensureBytes)("ristrettoHash",t,64);let e=Qo(t.slice(0,32)),n=zc(e),i=Qo(t.slice(32,64)),o=zc(i);return new r(n.add(o))}static fromHex(t){t=(0,wn.ensureBytes)("ristrettoHex",t,32);let{a:e,d:n}=Bt.ed25519.CURVE,i=Bt.ed25519.CURVE.Fp.ORDER,o=Bt.ed25519.CURVE.Fp.create,u="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",d=Qo(t);if(!(0,wn.equalBytes)((0,wn.numberToBytesLE)(d,32),t)||(0,te.isNegativeLE)(d,i))throw new Error(u);let g=o(d*d),x=o(ar+e*g),k=o(ar-e*g),S=o(x*x),P=o(k*k),I=o(e*n*S-P),{isValid:R,value:E}=qc(o(I*P)),M=o(E*k),C=o(E*M*I),F=o((d+d)*M);(0,te.isNegativeLE)(F,i)&&(F=o(-F));let U=o(x*C),K=o(F*U);if(!R||(0,te.isNegativeLE)(K,i)||U===wd)throw new Error(u);return new r(new Bt.ed25519.ExtendedPoint(F,U,ar,K))}toRawBytes(){let{ex:t,ey:e,ez:n,et:i}=this.ep,o=Bt.ed25519.CURVE.Fp.ORDER,u=Bt.ed25519.CURVE.Fp.create,d=u(u(n+e)*u(n-e)),g=u(t*e),x=u(g*g),{value:k}=qc(u(d*x)),S=u(k*d),P=u(k*g),I=u(S*P*i),R;if((0,te.isNegativeLE)(i*I,o)){let M=u(e*ea),C=u(t*ea);t=M,e=C,R=u(S*Id)}else R=P;(0,te.isNegativeLE)(t*I,o)&&(e=u(-e));let E=u((n-e)*R);return(0,te.isNegativeLE)(E,o)&&(E=u(-E)),(0,wn.numberToBytesLE)(E,32)}toHex(){return(0,wn.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(t){Xo(t);let{ex:e,ey:n}=this.ep,{ex:i,ey:o}=t.ep,u=Bt.ed25519.CURVE.Fp.create,d=u(e*o)===u(n*i),g=u(n*o)===u(e*i);return d||g}add(t){return Xo(t),new r(this.ep.add(t.ep))}subtract(t){return Xo(t),new r(this.ep.subtract(t.ep))}multiply(t){return new r(this.ep.multiply(t))}multiplyUnsafe(t){return new r(this.ep.multiplyUnsafe(t))}double(){return new r(this.ep.double())}negate(){return new r(this.ep.negate())}};Bt.RistrettoPoint=(er.BASE||(er.BASE=new er(Bt.ed25519.ExtendedPoint.BASE)),er.ZERO||(er.ZERO=new er(Bt.ed25519.ExtendedPoint.ZERO)),er);var Td=(r,t)=>{let e=t.DST,n=typeof e=="string"?(0,li.utf8ToBytes)(e):e,i=(0,Fc.expand_message_xmd)(r,n,64,is.sha512);return er.hashToCurve(i)};Bt.hashToRistretto255=Td;Bt.hash_to_ristretto255=Bt.hashToRistretto255});var sa=Ht(()=>{var c1=V(j())});var Yc=Ht((Zc,oa)=>{var f1=V(j());(function(r,t){"use strict";function e(w,s){if(!w)throw new Error(s||"Assertion failed")}function n(w,s){w.super_=s;var c=function(){};c.prototype=s.prototype,w.prototype=new c,w.prototype.constructor=w}function i(w,s,c){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(c=s,s=10),this._init(w||0,s||10,c||"be"))}typeof r=="object"?r.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=sa().Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,c){return s.cmp(c)>0?s:c},i.min=function(s,c){return s.cmp(c)<0?s:c},i.prototype._init=function(s,c,f){if(typeof s=="number")return this._initNumber(s,c,f);if(typeof s=="object")return this._initArray(s,c,f);c==="hex"&&(c=16),e(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\\s+/g,"");var h=0;s[0]==="-"&&(h++,this.negative=1),h<s.length&&(c===16?this._parseHex(s,h,f):(this._parseBase(s,c,h),f==="le"&&this._initArray(this.toArray(),c,f)))},i.prototype._initNumber=function(s,c,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(e(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),c,f)},i.prototype._initArray=function(s,c,f){if(e(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p,b,v=0;if(f==="be")for(h=s.length-1,p=0;h>=0;h-=3)b=s[h]|s[h-1]<<8|s[h-2]<<16,this.words[p]|=b<<v&67108863,this.words[p+1]=b>>>26-v&67108863,v+=24,v>=26&&(v-=26,p++);else if(f==="le")for(h=0,p=0;h<s.length;h+=3)b=s[h]|s[h+1]<<8|s[h+2]<<16,this.words[p]|=b<<v&67108863,this.words[p+1]=b>>>26-v&67108863,v+=24,v>=26&&(v-=26,p++);return this._strip()};function u(w,s){var c=w.charCodeAt(s);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;e(!1,"Invalid character in "+w)}function d(w,s,c){var f=u(w,c);return c-1>=s&&(f|=u(w,c-1)<<4),f}i.prototype._parseHex=function(s,c,f){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p=0,b=0,v;if(f==="be")for(h=s.length-1;h>=c;h-=2)v=d(s,c,h)<<p,this.words[b]|=v&67108863,p>=18?(p-=18,b+=1,this.words[b]|=v>>>26):p+=8;else{var y=s.length-c;for(h=y%2===0?c+1:c;h<s.length;h+=2)v=d(s,c,h)<<p,this.words[b]|=v&67108863,p>=18?(p-=18,b+=1,this.words[b]|=v>>>26):p+=8}this._strip()};function g(w,s,c,f){for(var h=0,p=0,b=Math.min(w.length,c),v=s;v<b;v++){var y=w.charCodeAt(v)-48;h*=f,y>=49?p=y-49+10:y>=17?p=y-17+10:p=y,e(y>=0&&p<f,"Invalid character"),h+=p}return h}i.prototype._parseBase=function(s,c,f){this.words=[0],this.length=1;for(var h=0,p=1;p<=67108863;p*=c)h++;h--,p=p/c|0;for(var b=s.length-f,v=b%h,y=Math.min(b,b-v)+f,a=0,m=f;m<y;m+=h)a=g(s,m,m+h,c),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var O=1;for(a=g(s,m,s.length,c),m=0;m<v;m++)O*=c;this.imuln(O),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function x(w,s){w.words=s.words,w.length=s.length,w.negative=s.negative,w.red=s.red}if(i.prototype._move=function(s){x(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=k}catch{i.prototype.inspect=k}else i.prototype.inspect=k;function k(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,c){s=s||10,c=c|0||1;var f;if(s===16||s==="hex"){f="";for(var h=0,p=0,b=0;b<this.length;b++){var v=this.words[b],y=((v<<h|p)&16777215).toString(16);p=v>>>24-h&16777215,h+=2,h>=26&&(h-=26,b--),p!==0||b!==this.length-1?f=S[6-y.length]+y+f:f=y+f}for(p!==0&&(f=p.toString(16)+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=P[s],m=I[s];f="";var O=this.clone();for(O.negative=0;!O.isZero();){var N=O.modrn(m).toString(s);O=O.idivn(m),O.isZero()?f=N+f:f=S[a-N.length]+N+f}for(this.isZero()&&(f="0"+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(s,c){return this.toArrayLike(o,s,c)}),i.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var R=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};i.prototype.toArrayLike=function(s,c,f){this._strip();var h=this.byteLength(),p=f||Math.max(1,h);e(h<=p,"byte array longer than desired length"),e(p>0,"Requested array length <= 0");var b=R(s,p),v=c==="le"?"LE":"BE";return this["_toArrayLike"+v](b,h),b},i.prototype._toArrayLikeLE=function(s,c){for(var f=0,h=0,p=0,b=0;p<this.length;p++){var v=this.words[p]<<b|h;s[f++]=v&255,f<s.length&&(s[f++]=v>>8&255),f<s.length&&(s[f++]=v>>16&255),b===6?(f<s.length&&(s[f++]=v>>24&255),h=0,b=0):(h=v>>>24,b+=2)}if(f<s.length)for(s[f++]=h;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,c){for(var f=s.length-1,h=0,p=0,b=0;p<this.length;p++){var v=this.words[p]<<b|h;s[f--]=v&255,f>=0&&(s[f--]=v>>8&255),f>=0&&(s[f--]=v>>16&255),b===6?(f>=0&&(s[f--]=v>>24&255),h=0,b=0):(h=v>>>24,b+=2)}if(f>=0)for(s[f--]=h;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var c=s,f=0;return c>=4096&&(f+=13,c>>>=13),c>=64&&(f+=7,c>>>=7),c>=8&&(f+=4,c>>>=4),c>=2&&(f+=2,c>>>=2),f+c},i.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,f=0;return c&8191||(f+=13,c>>>=13),c&127||(f+=7,c>>>=7),c&15||(f+=4,c>>>=4),c&3||(f+=2,c>>>=2),c&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function E(w){for(var s=new Array(w.bitLength()),c=0;c<s.length;c++){var f=c/26|0,h=c%26;s[c]=w.words[f]>>>h&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var f=this._zeroBits(this.words[c]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},i.prototype.ior=function(s){return e((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var f=0;f<c.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=c.length,this._strip()},i.prototype.iand=function(s){return e((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var c,f;this.length>s.length?(c=this,f=s):(c=s,f=this);for(var h=0;h<f.length;h++)this.words[h]=c.words[h]^f.words[h];if(this!==c)for(;h<c.length;h++)this.words[h]=c.words[h];return this.length=c.length,this._strip()},i.prototype.ixor=function(s){return e((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){e(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,f=s%26;this._expand(c),f>0&&c--;for(var h=0;h<c;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,c){e(typeof s=="number"&&s>=0);var f=s/26|0,h=s%26;return this._expand(f+1),c?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},i.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var f,h;this.length>s.length?(f=this,h=s):(f=s,h=this);for(var p=0,b=0;b<h.length;b++)c=(f.words[b]|0)+(h.words[b]|0)+p,this.words[b]=c&67108863,p=c>>>26;for(;p!==0&&b<f.length;b++)c=(f.words[b]|0)+p,this.words[b]=c&67108863,p=c>>>26;if(this.length=f.length,p!==0)this.words[this.length]=p,this.length++;else if(f!==this)for(;b<f.length;b++)this.words[b]=f.words[b];return this},i.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,p;f>0?(h=this,p=s):(h=s,p=this);for(var b=0,v=0;v<p.length;v++)c=(h.words[v]|0)-(p.words[v]|0)+b,b=c>>26,this.words[v]=c&67108863;for(;b!==0&&v<h.length;v++)c=(h.words[v]|0)+b,b=c>>26,this.words[v]=c&67108863;if(b===0&&v<h.length&&h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=Math.max(this.length,v),h!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function M(w,s,c){c.negative=s.negative^w.negative;var f=w.length+s.length|0;c.length=f,f=f-1|0;var h=w.words[0]|0,p=s.words[0]|0,b=h*p,v=b&67108863,y=b/67108864|0;c.words[0]=v;for(var a=1;a<f;a++){for(var m=y>>>26,O=y&67108863,N=Math.min(a,s.length-1),q=Math.max(0,a-w.length+1);q<=N;q++){var W=a-q|0;h=w.words[W]|0,p=s.words[q]|0,b=h*p+O,m+=b/67108864|0,O=b&67108863}c.words[a]=O|0,y=m|0}return y!==0?c.words[a]=y|0:c.length--,c._strip()}var C=function(s,c,f){var h=s.words,p=c.words,b=f.words,v=0,y,a,m,O=h[0]|0,N=O&8191,q=O>>>13,W=h[1]|0,J=W&8191,Q=W>>>13,Gt=h[2]|0,it=Gt&8191,nt=Gt>>>13,fe=h[3]|0,ft=fe&8191,ht=fe>>>13,He=h[4]|0,bt=He&8191,St=He>>>13,nr=h[5]|0,_t=nr&8191,Et=nr>>>13,ir=h[6]|0,wt=ir&8191,gt=ir>>>13,Ie=h[7]|0,_=Ie&8191,A=Ie>>>13,T=h[8]|0,L=T&8191,$=T>>>13,ct=h[9]|0,tt=ct&8191,ot=ct>>>13,se=p[0]|0,ut=se&8191,lt=se>>>13,Gr=p[1]|0,It=Gr&8191,vt=Gr>>>13,Qn=p[2]|0,At=Qn&8191,Mt=Qn>>>13,ti=p[3]|0,Rt=ti&8191,Tt=ti>>>13,ei=p[4]|0,Lt=ei&8191,Pt=ei>>>13,ri=p[5]|0,Ct=ri&8191,Ot=ri>>>13,ni=p[6]|0,Nt=ni&8191,Ut=ni>>>13,ii=p[7]|0,qt=ii&8191,zt=ii>>>13,si=p[8]|0,Ft=si&8191,Kt=si>>>13,oi=p[9]|0,Dt=oi&8191,Wt=oi>>>13;f.negative=s.negative^c.negative,f.length=19,y=Math.imul(N,ut),a=Math.imul(N,lt),a=a+Math.imul(q,ut)|0,m=Math.imul(q,lt);var Zr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,y=Math.imul(J,ut),a=Math.imul(J,lt),a=a+Math.imul(Q,ut)|0,m=Math.imul(Q,lt),y=y+Math.imul(N,It)|0,a=a+Math.imul(N,vt)|0,a=a+Math.imul(q,It)|0,m=m+Math.imul(q,vt)|0;var Yr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,y=Math.imul(it,ut),a=Math.imul(it,lt),a=a+Math.imul(nt,ut)|0,m=Math.imul(nt,lt),y=y+Math.imul(J,It)|0,a=a+Math.imul(J,vt)|0,a=a+Math.imul(Q,It)|0,m=m+Math.imul(Q,vt)|0,y=y+Math.imul(N,At)|0,a=a+Math.imul(N,Mt)|0,a=a+Math.imul(q,At)|0,m=m+Math.imul(q,Mt)|0;var Jr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,y=Math.imul(ft,ut),a=Math.imul(ft,lt),a=a+Math.imul(ht,ut)|0,m=Math.imul(ht,lt),y=y+Math.imul(it,It)|0,a=a+Math.imul(it,vt)|0,a=a+Math.imul(nt,It)|0,m=m+Math.imul(nt,vt)|0,y=y+Math.imul(J,At)|0,a=a+Math.imul(J,Mt)|0,a=a+Math.imul(Q,At)|0,m=m+Math.imul(Q,Mt)|0,y=y+Math.imul(N,Rt)|0,a=a+Math.imul(N,Tt)|0,a=a+Math.imul(q,Rt)|0,m=m+Math.imul(q,Tt)|0;var Xr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,y=Math.imul(bt,ut),a=Math.imul(bt,lt),a=a+Math.imul(St,ut)|0,m=Math.imul(St,lt),y=y+Math.imul(ft,It)|0,a=a+Math.imul(ft,vt)|0,a=a+Math.imul(ht,It)|0,m=m+Math.imul(ht,vt)|0,y=y+Math.imul(it,At)|0,a=a+Math.imul(it,Mt)|0,a=a+Math.imul(nt,At)|0,m=m+Math.imul(nt,Mt)|0,y=y+Math.imul(J,Rt)|0,a=a+Math.imul(J,Tt)|0,a=a+Math.imul(Q,Rt)|0,m=m+Math.imul(Q,Tt)|0,y=y+Math.imul(N,Lt)|0,a=a+Math.imul(N,Pt)|0,a=a+Math.imul(q,Lt)|0,m=m+Math.imul(q,Pt)|0;var Qr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,y=Math.imul(_t,ut),a=Math.imul(_t,lt),a=a+Math.imul(Et,ut)|0,m=Math.imul(Et,lt),y=y+Math.imul(bt,It)|0,a=a+Math.imul(bt,vt)|0,a=a+Math.imul(St,It)|0,m=m+Math.imul(St,vt)|0,y=y+Math.imul(ft,At)|0,a=a+Math.imul(ft,Mt)|0,a=a+Math.imul(ht,At)|0,m=m+Math.imul(ht,Mt)|0,y=y+Math.imul(it,Rt)|0,a=a+Math.imul(it,Tt)|0,a=a+Math.imul(nt,Rt)|0,m=m+Math.imul(nt,Tt)|0,y=y+Math.imul(J,Lt)|0,a=a+Math.imul(J,Pt)|0,a=a+Math.imul(Q,Lt)|0,m=m+Math.imul(Q,Pt)|0,y=y+Math.imul(N,Ct)|0,a=a+Math.imul(N,Ot)|0,a=a+Math.imul(q,Ct)|0,m=m+Math.imul(q,Ot)|0;var tn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(tn>>>26)|0,tn&=67108863,y=Math.imul(wt,ut),a=Math.imul(wt,lt),a=a+Math.imul(gt,ut)|0,m=Math.imul(gt,lt),y=y+Math.imul(_t,It)|0,a=a+Math.imul(_t,vt)|0,a=a+Math.imul(Et,It)|0,m=m+Math.imul(Et,vt)|0,y=y+Math.imul(bt,At)|0,a=a+Math.imul(bt,Mt)|0,a=a+Math.imul(St,At)|0,m=m+Math.imul(St,Mt)|0,y=y+Math.imul(ft,Rt)|0,a=a+Math.imul(ft,Tt)|0,a=a+Math.imul(ht,Rt)|0,m=m+Math.imul(ht,Tt)|0,y=y+Math.imul(it,Lt)|0,a=a+Math.imul(it,Pt)|0,a=a+Math.imul(nt,Lt)|0,m=m+Math.imul(nt,Pt)|0,y=y+Math.imul(J,Ct)|0,a=a+Math.imul(J,Ot)|0,a=a+Math.imul(Q,Ct)|0,m=m+Math.imul(Q,Ot)|0,y=y+Math.imul(N,Nt)|0,a=a+Math.imul(N,Ut)|0,a=a+Math.imul(q,Nt)|0,m=m+Math.imul(q,Ut)|0;var en=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(en>>>26)|0,en&=67108863,y=Math.imul(_,ut),a=Math.imul(_,lt),a=a+Math.imul(A,ut)|0,m=Math.imul(A,lt),y=y+Math.imul(wt,It)|0,a=a+Math.imul(wt,vt)|0,a=a+Math.imul(gt,It)|0,m=m+Math.imul(gt,vt)|0,y=y+Math.imul(_t,At)|0,a=a+Math.imul(_t,Mt)|0,a=a+Math.imul(Et,At)|0,m=m+Math.imul(Et,Mt)|0,y=y+Math.imul(bt,Rt)|0,a=a+Math.imul(bt,Tt)|0,a=a+Math.imul(St,Rt)|0,m=m+Math.imul(St,Tt)|0,y=y+Math.imul(ft,Lt)|0,a=a+Math.imul(ft,Pt)|0,a=a+Math.imul(ht,Lt)|0,m=m+Math.imul(ht,Pt)|0,y=y+Math.imul(it,Ct)|0,a=a+Math.imul(it,Ot)|0,a=a+Math.imul(nt,Ct)|0,m=m+Math.imul(nt,Ot)|0,y=y+Math.imul(J,Nt)|0,a=a+Math.imul(J,Ut)|0,a=a+Math.imul(Q,Nt)|0,m=m+Math.imul(Q,Ut)|0,y=y+Math.imul(N,qt)|0,a=a+Math.imul(N,zt)|0,a=a+Math.imul(q,qt)|0,m=m+Math.imul(q,zt)|0;var rn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(rn>>>26)|0,rn&=67108863,y=Math.imul(L,ut),a=Math.imul(L,lt),a=a+Math.imul($,ut)|0,m=Math.imul($,lt),y=y+Math.imul(_,It)|0,a=a+Math.imul(_,vt)|0,a=a+Math.imul(A,It)|0,m=m+Math.imul(A,vt)|0,y=y+Math.imul(wt,At)|0,a=a+Math.imul(wt,Mt)|0,a=a+Math.imul(gt,At)|0,m=m+Math.imul(gt,Mt)|0,y=y+Math.imul(_t,Rt)|0,a=a+Math.imul(_t,Tt)|0,a=a+Math.imul(Et,Rt)|0,m=m+Math.imul(Et,Tt)|0,y=y+Math.imul(bt,Lt)|0,a=a+Math.imul(bt,Pt)|0,a=a+Math.imul(St,Lt)|0,m=m+Math.imul(St,Pt)|0,y=y+Math.imul(ft,Ct)|0,a=a+Math.imul(ft,Ot)|0,a=a+Math.imul(ht,Ct)|0,m=m+Math.imul(ht,Ot)|0,y=y+Math.imul(it,Nt)|0,a=a+Math.imul(it,Ut)|0,a=a+Math.imul(nt,Nt)|0,m=m+Math.imul(nt,Ut)|0,y=y+Math.imul(J,qt)|0,a=a+Math.imul(J,zt)|0,a=a+Math.imul(Q,qt)|0,m=m+Math.imul(Q,zt)|0,y=y+Math.imul(N,Ft)|0,a=a+Math.imul(N,Kt)|0,a=a+Math.imul(q,Ft)|0,m=m+Math.imul(q,Kt)|0;var nn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863,y=Math.imul(tt,ut),a=Math.imul(tt,lt),a=a+Math.imul(ot,ut)|0,m=Math.imul(ot,lt),y=y+Math.imul(L,It)|0,a=a+Math.imul(L,vt)|0,a=a+Math.imul($,It)|0,m=m+Math.imul($,vt)|0,y=y+Math.imul(_,At)|0,a=a+Math.imul(_,Mt)|0,a=a+Math.imul(A,At)|0,m=m+Math.imul(A,Mt)|0,y=y+Math.imul(wt,Rt)|0,a=a+Math.imul(wt,Tt)|0,a=a+Math.imul(gt,Rt)|0,m=m+Math.imul(gt,Tt)|0,y=y+Math.imul(_t,Lt)|0,a=a+Math.imul(_t,Pt)|0,a=a+Math.imul(Et,Lt)|0,m=m+Math.imul(Et,Pt)|0,y=y+Math.imul(bt,Ct)|0,a=a+Math.imul(bt,Ot)|0,a=a+Math.imul(St,Ct)|0,m=m+Math.imul(St,Ot)|0,y=y+Math.imul(ft,Nt)|0,a=a+Math.imul(ft,Ut)|0,a=a+Math.imul(ht,Nt)|0,m=m+Math.imul(ht,Ut)|0,y=y+Math.imul(it,qt)|0,a=a+Math.imul(it,zt)|0,a=a+Math.imul(nt,qt)|0,m=m+Math.imul(nt,zt)|0,y=y+Math.imul(J,Ft)|0,a=a+Math.imul(J,Kt)|0,a=a+Math.imul(Q,Ft)|0,m=m+Math.imul(Q,Kt)|0,y=y+Math.imul(N,Dt)|0,a=a+Math.imul(N,Wt)|0,a=a+Math.imul(q,Dt)|0,m=m+Math.imul(q,Wt)|0;var sn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(sn>>>26)|0,sn&=67108863,y=Math.imul(tt,It),a=Math.imul(tt,vt),a=a+Math.imul(ot,It)|0,m=Math.imul(ot,vt),y=y+Math.imul(L,At)|0,a=a+Math.imul(L,Mt)|0,a=a+Math.imul($,At)|0,m=m+Math.imul($,Mt)|0,y=y+Math.imul(_,Rt)|0,a=a+Math.imul(_,Tt)|0,a=a+Math.imul(A,Rt)|0,m=m+Math.imul(A,Tt)|0,y=y+Math.imul(wt,Lt)|0,a=a+Math.imul(wt,Pt)|0,a=a+Math.imul(gt,Lt)|0,m=m+Math.imul(gt,Pt)|0,y=y+Math.imul(_t,Ct)|0,a=a+Math.imul(_t,Ot)|0,a=a+Math.imul(Et,Ct)|0,m=m+Math.imul(Et,Ot)|0,y=y+Math.imul(bt,Nt)|0,a=a+Math.imul(bt,Ut)|0,a=a+Math.imul(St,Nt)|0,m=m+Math.imul(St,Ut)|0,y=y+Math.imul(ft,qt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(ht,qt)|0,m=m+Math.imul(ht,zt)|0,y=y+Math.imul(it,Ft)|0,a=a+Math.imul(it,Kt)|0,a=a+Math.imul(nt,Ft)|0,m=m+Math.imul(nt,Kt)|0,y=y+Math.imul(J,Dt)|0,a=a+Math.imul(J,Wt)|0,a=a+Math.imul(Q,Dt)|0,m=m+Math.imul(Q,Wt)|0;var on=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(on>>>26)|0,on&=67108863,y=Math.imul(tt,At),a=Math.imul(tt,Mt),a=a+Math.imul(ot,At)|0,m=Math.imul(ot,Mt),y=y+Math.imul(L,Rt)|0,a=a+Math.imul(L,Tt)|0,a=a+Math.imul($,Rt)|0,m=m+Math.imul($,Tt)|0,y=y+Math.imul(_,Lt)|0,a=a+Math.imul(_,Pt)|0,a=a+Math.imul(A,Lt)|0,m=m+Math.imul(A,Pt)|0,y=y+Math.imul(wt,Ct)|0,a=a+Math.imul(wt,Ot)|0,a=a+Math.imul(gt,Ct)|0,m=m+Math.imul(gt,Ot)|0,y=y+Math.imul(_t,Nt)|0,a=a+Math.imul(_t,Ut)|0,a=a+Math.imul(Et,Nt)|0,m=m+Math.imul(Et,Ut)|0,y=y+Math.imul(bt,qt)|0,a=a+Math.imul(bt,zt)|0,a=a+Math.imul(St,qt)|0,m=m+Math.imul(St,zt)|0,y=y+Math.imul(ft,Ft)|0,a=a+Math.imul(ft,Kt)|0,a=a+Math.imul(ht,Ft)|0,m=m+Math.imul(ht,Kt)|0,y=y+Math.imul(it,Dt)|0,a=a+Math.imul(it,Wt)|0,a=a+Math.imul(nt,Dt)|0,m=m+Math.imul(nt,Wt)|0;var an=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(an>>>26)|0,an&=67108863,y=Math.imul(tt,Rt),a=Math.imul(tt,Tt),a=a+Math.imul(ot,Rt)|0,m=Math.imul(ot,Tt),y=y+Math.imul(L,Lt)|0,a=a+Math.imul(L,Pt)|0,a=a+Math.imul($,Lt)|0,m=m+Math.imul($,Pt)|0,y=y+Math.imul(_,Ct)|0,a=a+Math.imul(_,Ot)|0,a=a+Math.imul(A,Ct)|0,m=m+Math.imul(A,Ot)|0,y=y+Math.imul(wt,Nt)|0,a=a+Math.imul(wt,Ut)|0,a=a+Math.imul(gt,Nt)|0,m=m+Math.imul(gt,Ut)|0,y=y+Math.imul(_t,qt)|0,a=a+Math.imul(_t,zt)|0,a=a+Math.imul(Et,qt)|0,m=m+Math.imul(Et,zt)|0,y=y+Math.imul(bt,Ft)|0,a=a+Math.imul(bt,Kt)|0,a=a+Math.imul(St,Ft)|0,m=m+Math.imul(St,Kt)|0,y=y+Math.imul(ft,Dt)|0,a=a+Math.imul(ft,Wt)|0,a=a+Math.imul(ht,Dt)|0,m=m+Math.imul(ht,Wt)|0;var un=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(un>>>26)|0,un&=67108863,y=Math.imul(tt,Lt),a=Math.imul(tt,Pt),a=a+Math.imul(ot,Lt)|0,m=Math.imul(ot,Pt),y=y+Math.imul(L,Ct)|0,a=a+Math.imul(L,Ot)|0,a=a+Math.imul($,Ct)|0,m=m+Math.imul($,Ot)|0,y=y+Math.imul(_,Nt)|0,a=a+Math.imul(_,Ut)|0,a=a+Math.imul(A,Nt)|0,m=m+Math.imul(A,Ut)|0,y=y+Math.imul(wt,qt)|0,a=a+Math.imul(wt,zt)|0,a=a+Math.imul(gt,qt)|0,m=m+Math.imul(gt,zt)|0,y=y+Math.imul(_t,Ft)|0,a=a+Math.imul(_t,Kt)|0,a=a+Math.imul(Et,Ft)|0,m=m+Math.imul(Et,Kt)|0,y=y+Math.imul(bt,Dt)|0,a=a+Math.imul(bt,Wt)|0,a=a+Math.imul(St,Dt)|0,m=m+Math.imul(St,Wt)|0;var cn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(cn>>>26)|0,cn&=67108863,y=Math.imul(tt,Ct),a=Math.imul(tt,Ot),a=a+Math.imul(ot,Ct)|0,m=Math.imul(ot,Ot),y=y+Math.imul(L,Nt)|0,a=a+Math.imul(L,Ut)|0,a=a+Math.imul($,Nt)|0,m=m+Math.imul($,Ut)|0,y=y+Math.imul(_,qt)|0,a=a+Math.imul(_,zt)|0,a=a+Math.imul(A,qt)|0,m=m+Math.imul(A,zt)|0,y=y+Math.imul(wt,Ft)|0,a=a+Math.imul(wt,Kt)|0,a=a+Math.imul(gt,Ft)|0,m=m+Math.imul(gt,Kt)|0,y=y+Math.imul(_t,Dt)|0,a=a+Math.imul(_t,Wt)|0,a=a+Math.imul(Et,Dt)|0,m=m+Math.imul(Et,Wt)|0;var fn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(fn>>>26)|0,fn&=67108863,y=Math.imul(tt,Nt),a=Math.imul(tt,Ut),a=a+Math.imul(ot,Nt)|0,m=Math.imul(ot,Ut),y=y+Math.imul(L,qt)|0,a=a+Math.imul(L,zt)|0,a=a+Math.imul($,qt)|0,m=m+Math.imul($,zt)|0,y=y+Math.imul(_,Ft)|0,a=a+Math.imul(_,Kt)|0,a=a+Math.imul(A,Ft)|0,m=m+Math.imul(A,Kt)|0,y=y+Math.imul(wt,Dt)|0,a=a+Math.imul(wt,Wt)|0,a=a+Math.imul(gt,Dt)|0,m=m+Math.imul(gt,Wt)|0;var ln=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(ln>>>26)|0,ln&=67108863,y=Math.imul(tt,qt),a=Math.imul(tt,zt),a=a+Math.imul(ot,qt)|0,m=Math.imul(ot,zt),y=y+Math.imul(L,Ft)|0,a=a+Math.imul(L,Kt)|0,a=a+Math.imul($,Ft)|0,m=m+Math.imul($,Kt)|0,y=y+Math.imul(_,Dt)|0,a=a+Math.imul(_,Wt)|0,a=a+Math.imul(A,Dt)|0,m=m+Math.imul(A,Wt)|0;var hn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,y=Math.imul(tt,Ft),a=Math.imul(tt,Kt),a=a+Math.imul(ot,Ft)|0,m=Math.imul(ot,Kt),y=y+Math.imul(L,Dt)|0,a=a+Math.imul(L,Wt)|0,a=a+Math.imul($,Dt)|0,m=m+Math.imul($,Wt)|0;var dn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(dn>>>26)|0,dn&=67108863,y=Math.imul(tt,Dt),a=Math.imul(tt,Wt),a=a+Math.imul(ot,Dt)|0,m=Math.imul(ot,Wt);var pn=(v+y|0)+((a&8191)<<13)|0;return v=(m+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,b[0]=Zr,b[1]=Yr,b[2]=Jr,b[3]=Xr,b[4]=Qr,b[5]=tn,b[6]=en,b[7]=rn,b[8]=nn,b[9]=sn,b[10]=on,b[11]=an,b[12]=un,b[13]=cn,b[14]=fn,b[15]=ln,b[16]=hn,b[17]=dn,b[18]=pn,v!==0&&(b[19]=v,f.length++),f};Math.imul||(C=M);function F(w,s,c){c.negative=s.negative^w.negative,c.length=w.length+s.length;for(var f=0,h=0,p=0;p<c.length-1;p++){var b=h;h=0;for(var v=f&67108863,y=Math.min(p,s.length-1),a=Math.max(0,p-w.length+1);a<=y;a++){var m=p-a,O=w.words[m]|0,N=s.words[a]|0,q=O*N,W=q&67108863;b=b+(q/67108864|0)|0,W=W+v|0,v=W&67108863,b=b+(W>>>26)|0,h+=b>>>26,b&=67108863}c.words[p]=v,f=b,b=h}return f!==0?c.words[p]=f:c.length--,c._strip()}function U(w,s,c){return F(w,s,c)}i.prototype.mulTo=function(s,c){var f,h=this.length+s.length;return this.length===10&&s.length===10?f=C(this,s,c):h<63?f=M(this,s,c):h<1024?f=F(this,s,c):f=U(this,s,c),f};function K(w,s){this.x=w,this.y=s}K.prototype.makeRBT=function(s){for(var c=new Array(s),f=i.prototype._countBits(s)-1,h=0;h<s;h++)c[h]=this.revBin(h,f,s);return c},K.prototype.revBin=function(s,c,f){if(s===0||s===f-1)return s;for(var h=0,p=0;p<c;p++)h|=(s&1)<<c-p-1,s>>=1;return h},K.prototype.permute=function(s,c,f,h,p,b){for(var v=0;v<b;v++)h[v]=c[s[v]],p[v]=f[s[v]]},K.prototype.transform=function(s,c,f,h,p,b){this.permute(b,s,c,f,h,p);for(var v=1;v<p;v<<=1)for(var y=v<<1,a=Math.cos(2*Math.PI/y),m=Math.sin(2*Math.PI/y),O=0;O<p;O+=y)for(var N=a,q=m,W=0;W<v;W++){var J=f[O+W],Q=h[O+W],Gt=f[O+W+v],it=h[O+W+v],nt=N*Gt-q*it;it=N*it+q*Gt,Gt=nt,f[O+W]=J+Gt,h[O+W]=Q+it,f[O+W+v]=J-Gt,h[O+W+v]=Q-it,W!==y&&(nt=a*N-m*q,q=a*q+m*N,N=nt)}},K.prototype.guessLen13b=function(s,c){var f=Math.max(c,s)|1,h=f&1,p=0;for(f=f/2|0;f;f=f>>>1)p++;return 1<<p+1+h},K.prototype.conjugate=function(s,c,f){if(!(f<=1))for(var h=0;h<f/2;h++){var p=s[h];s[h]=s[f-h-1],s[f-h-1]=p,p=c[h],c[h]=-c[f-h-1],c[f-h-1]=-p}},K.prototype.normalize13b=function(s,c){for(var f=0,h=0;h<c/2;h++){var p=Math.round(s[2*h+1]/c)*8192+Math.round(s[2*h]/c)+f;s[h]=p&67108863,p<67108864?f=0:f=p/67108864|0}return s},K.prototype.convert13b=function(s,c,f,h){for(var p=0,b=0;b<c;b++)p=p+(s[b]|0),f[2*b]=p&8191,p=p>>>13,f[2*b+1]=p&8191,p=p>>>13;for(b=2*c;b<h;++b)f[b]=0;e(p===0),e((p&-8192)===0)},K.prototype.stub=function(s){for(var c=new Array(s),f=0;f<s;f++)c[f]=0;return c},K.prototype.mulp=function(s,c,f){var h=2*this.guessLen13b(s.length,c.length),p=this.makeRBT(h),b=this.stub(h),v=new Array(h),y=new Array(h),a=new Array(h),m=new Array(h),O=new Array(h),N=new Array(h),q=f.words;q.length=h,this.convert13b(s.words,s.length,v,h),this.convert13b(c.words,c.length,m,h),this.transform(v,b,y,a,h,p),this.transform(m,b,O,N,h,p);for(var W=0;W<h;W++){var J=y[W]*O[W]-a[W]*N[W];a[W]=y[W]*N[W]+a[W]*O[W],y[W]=J}return this.conjugate(y,a,h),this.transform(y,a,q,b,h,p),this.conjugate(q,b,h),this.normalize13b(q,h),f.negative=s.negative^c.negative,f.length=s.length+c.length,f._strip()},i.prototype.mul=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},i.prototype.mulf=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),U(this,s,c)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var c=s<0;c&&(s=-s),e(typeof s=="number"),e(s<67108864);for(var f=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,b=(p&67108863)+(f&67108863);f>>=26,f+=p/67108864|0,f+=b>>>26,this.words[h]=b&67108863}return f!==0&&(this.words[h]=f,this.length++),c?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var c=E(s);if(c.length===0)return new i(1);for(var f=this,h=0;h<c.length&&c[h]===0;h++,f=f.sqr());if(++h<c.length)for(var p=f.sqr();h<c.length;h++,p=p.sqr())c[h]!==0&&(f=f.mul(p));return f},i.prototype.iushln=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,h=67108863>>>26-c<<26-c,p;if(c!==0){var b=0;for(p=0;p<this.length;p++){var v=this.words[p]&h,y=(this.words[p]|0)-v<<c;this.words[p]=y|b,b=v>>>26-c}b&&(this.words[p]=b,this.length++)}if(f!==0){for(p=this.length-1;p>=0;p--)this.words[p+f]=this.words[p];for(p=0;p<f;p++)this.words[p]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return e(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,c,f){e(typeof s=="number"&&s>=0);var h;c?h=(c-c%26)/26:h=0;var p=s%26,b=Math.min((s-p)/26,this.length),v=67108863^67108863>>>p<<p,y=f;if(h-=b,h=Math.max(0,h),y){for(var a=0;a<b;a++)y.words[a]=this.words[a];y.length=b}if(b!==0)if(this.length>b)for(this.length-=b,a=0;a<this.length;a++)this.words[a]=this.words[a+b];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=h);a--){var O=this.words[a]|0;this.words[a]=m<<26-p|O>>>p,m=O&v}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,c,f){return e(this.negative===0),this.iushrn(s,c,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,h=1<<c;if(this.length<=f)return!1;var p=this.words[f];return!!(p&h)},i.prototype.imaskn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(c!==0&&f++,this.length=Math.min(f,this.length),c!==0){var h=67108863^67108863>>>c<<c;this.words[this.length-1]&=h}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return e(typeof s=="number"),e(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(s){if(e(typeof s=="number"),e(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,c,f){var h=s.length+f,p;this._expand(h);var b,v=0;for(p=0;p<s.length;p++){b=(this.words[p+f]|0)+v;var y=(s.words[p]|0)*c;b-=y&67108863,v=(b>>26)-(y/67108864|0),this.words[p+f]=b&67108863}for(;p<this.length-f;p++)b=(this.words[p+f]|0)+v,v=b>>26,this.words[p+f]=b&67108863;if(v===0)return this._strip();for(e(v===-1),v=0,p=0;p<this.length;p++)b=-(this.words[p]|0)+v,v=b>>26,this.words[p]=b&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,c){var f=this.length-s.length,h=this.clone(),p=s,b=p.words[p.length-1]|0,v=this._countBits(b);f=26-v,f!==0&&(p=p.ushln(f),h.iushln(f),b=p.words[p.length-1]|0);var y=h.length-p.length,a;if(c!=="mod"){a=new i(null),a.length=y+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var O=h.clone()._ishlnsubmul(p,1,y);O.negative===0&&(h=O,a&&(a.words[y]=1));for(var N=y-1;N>=0;N--){var q=(h.words[p.length+N]|0)*67108864+(h.words[p.length+N-1]|0);for(q=Math.min(q/b|0,67108863),h._ishlnsubmul(p,q,N);h.negative!==0;)q--,h.negative=0,h._ishlnsubmul(p,1,N),h.isZero()||(h.negative^=1);a&&(a.words[N]=q)}return a&&a._strip(),h._strip(),c!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(s,c,f){if(e(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,p,b;return this.negative!==0&&s.negative===0?(b=this.neg().divmod(s,c),c!=="mod"&&(h=b.div.neg()),c!=="div"&&(p=b.mod.neg(),f&&p.negative!==0&&p.iadd(s)),{div:h,mod:p}):this.negative===0&&s.negative!==0?(b=this.divmod(s.neg(),c),c!=="mod"&&(h=b.div.neg()),{div:h,mod:b.mod}):this.negative&s.negative?(b=this.neg().divmod(s.neg(),c),c!=="div"&&(p=b.mod.neg(),f&&p.negative!==0&&p.isub(s)),{div:b.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,c)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var f=c.div.negative!==0?c.mod.isub(s):c.mod,h=s.ushrn(1),p=s.andln(1),b=f.cmp(h);return b<0||p===1&&b===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modrn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(f*h+(this.words[p]|0))%s;return c?-h:h},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+f*67108864;this.words[h]=p/s|0,f=p%s}return this._strip(),c?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var h=new i(1),p=new i(0),b=new i(0),v=new i(1),y=0;c.isEven()&&f.isEven();)c.iushrn(1),f.iushrn(1),++y;for(var a=f.clone(),m=c.clone();!c.isZero();){for(var O=0,N=1;!(c.words[0]&N)&&O<26;++O,N<<=1);if(O>0)for(c.iushrn(O);O-- >0;)(h.isOdd()||p.isOdd())&&(h.iadd(a),p.isub(m)),h.iushrn(1),p.iushrn(1);for(var q=0,W=1;!(f.words[0]&W)&&q<26;++q,W<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(a),v.isub(m)),b.iushrn(1),v.iushrn(1);c.cmp(f)>=0?(c.isub(f),h.isub(b),p.isub(v)):(f.isub(c),b.isub(h),v.isub(p))}return{a:b,b:v,gcd:f.iushln(y)}},i.prototype._invmp=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var h=new i(1),p=new i(0),b=f.clone();c.cmpn(1)>0&&f.cmpn(1)>0;){for(var v=0,y=1;!(c.words[0]&y)&&v<26;++v,y<<=1);if(v>0)for(c.iushrn(v);v-- >0;)h.isOdd()&&h.iadd(b),h.iushrn(1);for(var a=0,m=1;!(f.words[0]&m)&&a<26;++a,m<<=1);if(a>0)for(f.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(b),p.iushrn(1);c.cmp(f)>=0?(c.isub(f),h.isub(p)):(f.isub(c),p.isub(h))}var O;return c.cmpn(1)===0?O=h:O=p,O.cmpn(0)<0&&O.iadd(s),O},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),f=s.clone();c.negative=0,f.negative=0;for(var h=0;c.isEven()&&f.isEven();h++)c.iushrn(1),f.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;f.isEven();)f.iushrn(1);var p=c.cmp(f);if(p<0){var b=c;c=f,f=b}else if(p===0||f.cmpn(1)===0)break;c.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){e(typeof s=="number");var c=s%26,f=(s-c)/26,h=1<<c;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var p=h,b=f;p!==0&&b<this.length;b++){var v=this.words[b]|0;v+=p,p=v>>>26,v&=67108863,this.words[b]=v}return p!==0&&(this.words[b]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var f;if(this.length>1)f=1;else{c&&(s=-s),e(s<=67108863,"Number is too big");var h=this.words[0]|0;f=h===s?0:h<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,p=s.words[f]|0;if(h!==p){h<p?c=-1:h>p&&(c=1);break}}return c},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Z(s)},i.prototype.toRed=function(s){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return e(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return e(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var G={k256:null,p224:null,p192:null,p25519:null};function H(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},H.prototype.ireduce=function(s){var c=s,f;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),f=c.bitLength();while(f>this.n);var h=f<this.n?-1:c.ucmp(this.p);return h===0?(c.words[0]=0,c.length=1):h>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},H.prototype.split=function(s,c){s.iushrn(this.n,0,c)},H.prototype.imulK=function(s){return s.imul(this.k)};function Y(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Y,H),Y.prototype.split=function(s,c){for(var f=4194303,h=Math.min(s.length,9),p=0;p<h;p++)c.words[p]=s.words[p];if(c.length=h,s.length<=9){s.words[0]=0,s.length=1;return}var b=s.words[9];for(c.words[c.length++]=b&f,p=10;p<s.length;p++){var v=s.words[p]|0;s.words[p-10]=(v&f)<<4|b>>>22,b=v}b>>>=22,s.words[p-10]=b,b===0&&s.length>10?s.length-=10:s.length-=9},Y.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,f=0;f<s.length;f++){var h=s.words[f]|0;c+=h*977,s.words[f]=c&67108863,c=h*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function X(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(X,H);function xt(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(xt,H);function pt(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(pt,H),pt.prototype.imulK=function(s){for(var c=0,f=0;f<s.length;f++){var h=(s.words[f]|0)*19+c,p=h&67108863;h>>>=26,s.words[f]=p,c=h}return c!==0&&(s.words[s.length++]=c),s},i._prime=function(s){if(G[s])return G[s];var c;if(s==="k256")c=new Y;else if(s==="p224")c=new X;else if(s==="p192")c=new xt;else if(s==="p25519")c=new pt;else throw new Error("Unknown prime "+s);return G[s]=c,c};function Z(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else e(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Z.prototype._verify1=function(s){e(s.negative===0,"red works only with positives"),e(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,c){e((s.negative|c.negative)===0,"red works only with positives"),e(s.red&&s.red===c.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(x(s,s.umod(this.m)._forceRed(this)),s)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,c){this._verify2(s,c);var f=s.add(c);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},Z.prototype.iadd=function(s,c){this._verify2(s,c);var f=s.iadd(c);return f.cmp(this.m)>=0&&f.isub(this.m),f},Z.prototype.sub=function(s,c){this._verify2(s,c);var f=s.sub(c);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},Z.prototype.isub=function(s,c){this._verify2(s,c);var f=s.isub(c);return f.cmpn(0)<0&&f.iadd(this.m),f},Z.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},Z.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},Z.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(e(c%2===1),c===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var h=this.m.subn(1),p=0;!h.isZero()&&h.andln(1)===0;)p++,h.iushrn(1);e(!h.isZero());var b=new i(1).toRed(this),v=b.redNeg(),y=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,y).cmp(v)!==0;)a.redIAdd(v);for(var m=this.pow(a,h),O=this.pow(s,h.addn(1).iushrn(1)),N=this.pow(s,h),q=p;N.cmp(b)!==0;){for(var W=N,J=0;W.cmp(b)!==0;J++)W=W.redSqr();e(J<q);var Q=this.pow(m,new i(1).iushln(q-J-1));O=O.redMul(Q),m=Q.redSqr(),N=N.redMul(m),q=J}return O},Z.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Z.prototype.pow=function(s,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=s;for(var p=2;p<h.length;p++)h[p]=this.mul(h[p-1],s);var b=h[0],v=0,y=0,a=c.bitLength()%26;for(a===0&&(a=26),p=c.length-1;p>=0;p--){for(var m=c.words[p],O=a-1;O>=0;O--){var N=m>>O&1;if(b!==h[0]&&(b=this.sqr(b)),N===0&&v===0){y=0;continue}v<<=1,v|=N,y++,!(y!==f&&(p!==0||O!==0))&&(b=this.mul(b,h[v]),y=0,v=0)}a=26}return b},Z.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},Z.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},i.mont=function(s){return new kt(s)};function kt(w){Z.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(kt,Z),kt.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},kt.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},kt.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(c),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(h).iushrn(this.shift),b=p;return p.cmp(this.m)>=0?b=p.isub(this.m):p.cmpn(0)<0&&(b=p.iadd(this.m)),b._forceRed(this)},kt.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new i(0)._forceRed(this);var f=s.mul(c),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(h).iushrn(this.shift),b=p;return p.cmp(this.m)>=0?b=p.isub(this.m):p.cmpn(0)<0&&(b=p.iadd(this.m)),b._forceRed(this)},kt.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof oa>"u"||oa,Zc)});var Qc=Ht((aa,Xc)=>{var l1=V(j());var ss=On(),ur=ss.Buffer;function Jc(r,t){for(var e in r)t[e]=r[e]}ur.from&&ur.alloc&&ur.allocUnsafe&&ur.allocUnsafeSlow?Xc.exports=ss:(Jc(ss,aa),aa.Buffer=vn);function vn(r,t,e){return ur(r,t,e)}vn.prototype=Object.create(ur.prototype);Jc(ur,vn);vn.from=function(r,t,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return ur(r,t,e)};vn.alloc=function(r,t,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=ur(r);return t!==void 0?typeof e=="string"?n.fill(t,e):n.fill(t):n.fill(0),n};vn.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return ur(r)};vn.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return ss.SlowBuffer(r)}});var ua=Ht((h1,tf)=>{"use strict";var d1=V(j()),os=Qc().Buffer;function Ld(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var u=r.length,d=r.charAt(0),g=Math.log(u)/Math.log(256),x=Math.log(256)/Math.log(u);function k(I){if((Array.isArray(I)||I instanceof Uint8Array)&&(I=os.from(I)),!os.isBuffer(I))throw new TypeError("Expected Buffer");if(I.length===0)return"";for(var R=0,E=0,M=0,C=I.length;M!==C&&I[M]===0;)M++,R++;for(var F=(C-M)*x+1>>>0,U=new Uint8Array(F);M!==C;){for(var K=I[M],G=0,H=F-1;(K!==0||G<E)&&H!==-1;H--,G++)K+=256*U[H]>>>0,U[H]=K%u>>>0,K=K/u>>>0;if(K!==0)throw new Error("Non-zero carry");E=G,M++}for(var Y=F-E;Y!==F&&U[Y]===0;)Y++;for(var X=d.repeat(R);Y<F;++Y)X+=r.charAt(U[Y]);return X}function S(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return os.alloc(0);for(var R=0,E=0,M=0;I[R]===d;)E++,R++;for(var C=(I.length-R)*g+1>>>0,F=new Uint8Array(C);R<I.length;){var U=t[I.charCodeAt(R)];if(U===255)return;for(var K=0,G=C-1;(U!==0||K<M)&&G!==-1;G--,K++)U+=u*F[G]>>>0,F[G]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");M=K,R++}for(var H=C-M;H!==C&&F[H]===0;)H++;var Y=os.allocUnsafe(E+(C-H));Y.fill(0,0,E);for(var X=E;H!==C;)Y[X++]=F[H++];return Y}function P(I){var R=S(I);if(R)return R;throw new Error("Non-base"+u+" character")}return{encode:k,decodeUnsafe:S,decode:P}}tf.exports=Ld});var rf=Ht((p1,ef)=>{var y1=V(j()),Pd=ua(),Cd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ef.exports=Pd(Cd)});var la=Ht(Un=>{"use strict";var m1=V(j());Object.defineProperty(Un,"__esModule",{value:!0});Un.sha224=Un.sha256=void 0;var ca=To(),Xe=vr(),Od=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ur=new Uint32Array(64),as=class extends ca.HashMD{constructor(){super(64,32,8,!1),this.A=Nr[0]|0,this.B=Nr[1]|0,this.C=Nr[2]|0,this.D=Nr[3]|0,this.E=Nr[4]|0,this.F=Nr[5]|0,this.G=Nr[6]|0,this.H=Nr[7]|0}get(){let{A:t,B:e,C:n,D:i,E:o,F:u,G:d,H:g}=this;return[t,e,n,i,o,u,d,g]}set(t,e,n,i,o,u,d,g){this.A=t|0,this.B=e|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=u|0,this.G=d|0,this.H=g|0}process(t,e){for(let S=0;S<16;S++,e+=4)Ur[S]=t.getUint32(e,!1);for(let S=16;S<64;S++){let P=Ur[S-15],I=Ur[S-2],R=(0,Xe.rotr)(P,7)^(0,Xe.rotr)(P,18)^P>>>3,E=(0,Xe.rotr)(I,17)^(0,Xe.rotr)(I,19)^I>>>10;Ur[S]=E+Ur[S-7]+R+Ur[S-16]|0}let{A:n,B:i,C:o,D:u,E:d,F:g,G:x,H:k}=this;for(let S=0;S<64;S++){let P=(0,Xe.rotr)(d,6)^(0,Xe.rotr)(d,11)^(0,Xe.rotr)(d,25),I=k+P+(0,ca.Chi)(d,g,x)+Od[S]+Ur[S]|0,E=((0,Xe.rotr)(n,2)^(0,Xe.rotr)(n,13)^(0,Xe.rotr)(n,22))+(0,ca.Maj)(n,i,o)|0;k=x,x=g,g=d,d=u+I|0,u=o,o=i,i=n,n=I+E|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,u=u+this.D|0,d=d+this.E|0,g=g+this.F|0,x=x+this.G|0,k=k+this.H|0,this.set(n,i,o,u,d,g,x,k)}roundClean(){Ur.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},fa=class extends as{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Un.sha256=(0,Xe.wrapConstructor)(()=>new as);Un.sha224=(0,Xe.wrapConstructor)(()=>new fa)});var sf=Ht((nf,ha)=>{var b1=V(j());(function(r,t){"use strict";function e(w,s){if(!w)throw new Error(s||"Assertion failed")}function n(w,s){w.super_=s;var c=function(){};c.prototype=s.prototype,w.prototype=new c,w.prototype.constructor=w}function i(w,s,c){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(c=s,s=10),this._init(w||0,s||10,c||"be"))}typeof r=="object"?r.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=sa().Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,c){return s.cmp(c)>0?s:c},i.min=function(s,c){return s.cmp(c)<0?s:c},i.prototype._init=function(s,c,f){if(typeof s=="number")return this._initNumber(s,c,f);if(typeof s=="object")return this._initArray(s,c,f);c==="hex"&&(c=16),e(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\\s+/g,"");var h=0;s[0]==="-"&&(h++,this.negative=1),h<s.length&&(c===16?this._parseHex(s,h,f):(this._parseBase(s,c,h),f==="le"&&this._initArray(this.toArray(),c,f)))},i.prototype._initNumber=function(s,c,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(e(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),c,f)},i.prototype._initArray=function(s,c,f){if(e(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p,b,v=0;if(f==="be")for(h=s.length-1,p=0;h>=0;h-=3)b=s[h]|s[h-1]<<8|s[h-2]<<16,this.words[p]|=b<<v&67108863,this.words[p+1]=b>>>26-v&67108863,v+=24,v>=26&&(v-=26,p++);else if(f==="le")for(h=0,p=0;h<s.length;h+=3)b=s[h]|s[h+1]<<8|s[h+2]<<16,this.words[p]|=b<<v&67108863,this.words[p+1]=b>>>26-v&67108863,v+=24,v>=26&&(v-=26,p++);return this._strip()};function u(w,s){var c=w.charCodeAt(s);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;e(!1,"Invalid character in "+w)}function d(w,s,c){var f=u(w,c);return c-1>=s&&(f|=u(w,c-1)<<4),f}i.prototype._parseHex=function(s,c,f){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p=0,b=0,v;if(f==="be")for(h=s.length-1;h>=c;h-=2)v=d(s,c,h)<<p,this.words[b]|=v&67108863,p>=18?(p-=18,b+=1,this.words[b]|=v>>>26):p+=8;else{var y=s.length-c;for(h=y%2===0?c+1:c;h<s.length;h+=2)v=d(s,c,h)<<p,this.words[b]|=v&67108863,p>=18?(p-=18,b+=1,this.words[b]|=v>>>26):p+=8}this._strip()};function g(w,s,c,f){for(var h=0,p=0,b=Math.min(w.length,c),v=s;v<b;v++){var y=w.charCodeAt(v)-48;h*=f,y>=49?p=y-49+10:y>=17?p=y-17+10:p=y,e(y>=0&&p<f,"Invalid character"),h+=p}return h}i.prototype._parseBase=function(s,c,f){this.words=[0],this.length=1;for(var h=0,p=1;p<=67108863;p*=c)h++;h--,p=p/c|0;for(var b=s.length-f,v=b%h,y=Math.min(b,b-v)+f,a=0,m=f;m<y;m+=h)a=g(s,m,m+h,c),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var O=1;for(a=g(s,m,s.length,c),m=0;m<v;m++)O*=c;this.imuln(O),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function x(w,s){w.words=s.words,w.length=s.length,w.negative=s.negative,w.red=s.red}if(i.prototype._move=function(s){x(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=k}catch{i.prototype.inspect=k}else i.prototype.inspect=k;function k(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,c){s=s||10,c=c|0||1;var f;if(s===16||s==="hex"){f="";for(var h=0,p=0,b=0;b<this.length;b++){var v=this.words[b],y=((v<<h|p)&16777215).toString(16);p=v>>>24-h&16777215,h+=2,h>=26&&(h-=26,b--),p!==0||b!==this.length-1?f=S[6-y.length]+y+f:f=y+f}for(p!==0&&(f=p.toString(16)+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=P[s],m=I[s];f="";var O=this.clone();for(O.negative=0;!O.isZero();){var N=O.modrn(m).toString(s);O=O.idivn(m),O.isZero()?f=N+f:f=S[a-N.length]+N+f}for(this.isZero()&&(f="0"+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(s,c){return this.toArrayLike(o,s,c)}),i.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var R=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};i.prototype.toArrayLike=function(s,c,f){this._strip();var h=this.byteLength(),p=f||Math.max(1,h);e(h<=p,"byte array longer than desired length"),e(p>0,"Requested array length <= 0");var b=R(s,p),v=c==="le"?"LE":"BE";return this["_toArrayLike"+v](b,h),b},i.prototype._toArrayLikeLE=function(s,c){for(var f=0,h=0,p=0,b=0;p<this.length;p++){var v=this.words[p]<<b|h;s[f++]=v&255,f<s.length&&(s[f++]=v>>8&255),f<s.length&&(s[f++]=v>>16&255),b===6?(f<s.length&&(s[f++]=v>>24&255),h=0,b=0):(h=v>>>24,b+=2)}if(f<s.length)for(s[f++]=h;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,c){for(var f=s.length-1,h=0,p=0,b=0;p<this.length;p++){var v=this.words[p]<<b|h;s[f--]=v&255,f>=0&&(s[f--]=v>>8&255),f>=0&&(s[f--]=v>>16&255),b===6?(f>=0&&(s[f--]=v>>24&255),h=0,b=0):(h=v>>>24,b+=2)}if(f>=0)for(s[f--]=h;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var c=s,f=0;return c>=4096&&(f+=13,c>>>=13),c>=64&&(f+=7,c>>>=7),c>=8&&(f+=4,c>>>=4),c>=2&&(f+=2,c>>>=2),f+c},i.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,f=0;return c&8191||(f+=13,c>>>=13),c&127||(f+=7,c>>>=7),c&15||(f+=4,c>>>=4),c&3||(f+=2,c>>>=2),c&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function E(w){for(var s=new Array(w.bitLength()),c=0;c<s.length;c++){var f=c/26|0,h=c%26;s[c]=w.words[f]>>>h&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var f=this._zeroBits(this.words[c]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},i.prototype.ior=function(s){return e((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var f=0;f<c.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=c.length,this._strip()},i.prototype.iand=function(s){return e((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var c,f;this.length>s.length?(c=this,f=s):(c=s,f=this);for(var h=0;h<f.length;h++)this.words[h]=c.words[h]^f.words[h];if(this!==c)for(;h<c.length;h++)this.words[h]=c.words[h];return this.length=c.length,this._strip()},i.prototype.ixor=function(s){return e((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){e(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,f=s%26;this._expand(c),f>0&&c--;for(var h=0;h<c;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,c){e(typeof s=="number"&&s>=0);var f=s/26|0,h=s%26;return this._expand(f+1),c?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this._strip()},i.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var f,h;this.length>s.length?(f=this,h=s):(f=s,h=this);for(var p=0,b=0;b<h.length;b++)c=(f.words[b]|0)+(h.words[b]|0)+p,this.words[b]=c&67108863,p=c>>>26;for(;p!==0&&b<f.length;b++)c=(f.words[b]|0)+p,this.words[b]=c&67108863,p=c>>>26;if(this.length=f.length,p!==0)this.words[this.length]=p,this.length++;else if(f!==this)for(;b<f.length;b++)this.words[b]=f.words[b];return this},i.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,p;f>0?(h=this,p=s):(h=s,p=this);for(var b=0,v=0;v<p.length;v++)c=(h.words[v]|0)-(p.words[v]|0)+b,b=c>>26,this.words[v]=c&67108863;for(;b!==0&&v<h.length;v++)c=(h.words[v]|0)+b,b=c>>26,this.words[v]=c&67108863;if(b===0&&v<h.length&&h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=Math.max(this.length,v),h!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function M(w,s,c){c.negative=s.negative^w.negative;var f=w.length+s.length|0;c.length=f,f=f-1|0;var h=w.words[0]|0,p=s.words[0]|0,b=h*p,v=b&67108863,y=b/67108864|0;c.words[0]=v;for(var a=1;a<f;a++){for(var m=y>>>26,O=y&67108863,N=Math.min(a,s.length-1),q=Math.max(0,a-w.length+1);q<=N;q++){var W=a-q|0;h=w.words[W]|0,p=s.words[q]|0,b=h*p+O,m+=b/67108864|0,O=b&67108863}c.words[a]=O|0,y=m|0}return y!==0?c.words[a]=y|0:c.length--,c._strip()}var C=function(s,c,f){var h=s.words,p=c.words,b=f.words,v=0,y,a,m,O=h[0]|0,N=O&8191,q=O>>>13,W=h[1]|0,J=W&8191,Q=W>>>13,Gt=h[2]|0,it=Gt&8191,nt=Gt>>>13,fe=h[3]|0,ft=fe&8191,ht=fe>>>13,He=h[4]|0,bt=He&8191,St=He>>>13,nr=h[5]|0,_t=nr&8191,Et=nr>>>13,ir=h[6]|0,wt=ir&8191,gt=ir>>>13,Ie=h[7]|0,_=Ie&8191,A=Ie>>>13,T=h[8]|0,L=T&8191,$=T>>>13,ct=h[9]|0,tt=ct&8191,ot=ct>>>13,se=p[0]|0,ut=se&8191,lt=se>>>13,Gr=p[1]|0,It=Gr&8191,vt=Gr>>>13,Qn=p[2]|0,At=Qn&8191,Mt=Qn>>>13,ti=p[3]|0,Rt=ti&8191,Tt=ti>>>13,ei=p[4]|0,Lt=ei&8191,Pt=ei>>>13,ri=p[5]|0,Ct=ri&8191,Ot=ri>>>13,ni=p[6]|0,Nt=ni&8191,Ut=ni>>>13,ii=p[7]|0,qt=ii&8191,zt=ii>>>13,si=p[8]|0,Ft=si&8191,Kt=si>>>13,oi=p[9]|0,Dt=oi&8191,Wt=oi>>>13;f.negative=s.negative^c.negative,f.length=19,y=Math.imul(N,ut),a=Math.imul(N,lt),a=a+Math.imul(q,ut)|0,m=Math.imul(q,lt);var Zr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,y=Math.imul(J,ut),a=Math.imul(J,lt),a=a+Math.imul(Q,ut)|0,m=Math.imul(Q,lt),y=y+Math.imul(N,It)|0,a=a+Math.imul(N,vt)|0,a=a+Math.imul(q,It)|0,m=m+Math.imul(q,vt)|0;var Yr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,y=Math.imul(it,ut),a=Math.imul(it,lt),a=a+Math.imul(nt,ut)|0,m=Math.imul(nt,lt),y=y+Math.imul(J,It)|0,a=a+Math.imul(J,vt)|0,a=a+Math.imul(Q,It)|0,m=m+Math.imul(Q,vt)|0,y=y+Math.imul(N,At)|0,a=a+Math.imul(N,Mt)|0,a=a+Math.imul(q,At)|0,m=m+Math.imul(q,Mt)|0;var Jr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,y=Math.imul(ft,ut),a=Math.imul(ft,lt),a=a+Math.imul(ht,ut)|0,m=Math.imul(ht,lt),y=y+Math.imul(it,It)|0,a=a+Math.imul(it,vt)|0,a=a+Math.imul(nt,It)|0,m=m+Math.imul(nt,vt)|0,y=y+Math.imul(J,At)|0,a=a+Math.imul(J,Mt)|0,a=a+Math.imul(Q,At)|0,m=m+Math.imul(Q,Mt)|0,y=y+Math.imul(N,Rt)|0,a=a+Math.imul(N,Tt)|0,a=a+Math.imul(q,Rt)|0,m=m+Math.imul(q,Tt)|0;var Xr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,y=Math.imul(bt,ut),a=Math.imul(bt,lt),a=a+Math.imul(St,ut)|0,m=Math.imul(St,lt),y=y+Math.imul(ft,It)|0,a=a+Math.imul(ft,vt)|0,a=a+Math.imul(ht,It)|0,m=m+Math.imul(ht,vt)|0,y=y+Math.imul(it,At)|0,a=a+Math.imul(it,Mt)|0,a=a+Math.imul(nt,At)|0,m=m+Math.imul(nt,Mt)|0,y=y+Math.imul(J,Rt)|0,a=a+Math.imul(J,Tt)|0,a=a+Math.imul(Q,Rt)|0,m=m+Math.imul(Q,Tt)|0,y=y+Math.imul(N,Lt)|0,a=a+Math.imul(N,Pt)|0,a=a+Math.imul(q,Lt)|0,m=m+Math.imul(q,Pt)|0;var Qr=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,y=Math.imul(_t,ut),a=Math.imul(_t,lt),a=a+Math.imul(Et,ut)|0,m=Math.imul(Et,lt),y=y+Math.imul(bt,It)|0,a=a+Math.imul(bt,vt)|0,a=a+Math.imul(St,It)|0,m=m+Math.imul(St,vt)|0,y=y+Math.imul(ft,At)|0,a=a+Math.imul(ft,Mt)|0,a=a+Math.imul(ht,At)|0,m=m+Math.imul(ht,Mt)|0,y=y+Math.imul(it,Rt)|0,a=a+Math.imul(it,Tt)|0,a=a+Math.imul(nt,Rt)|0,m=m+Math.imul(nt,Tt)|0,y=y+Math.imul(J,Lt)|0,a=a+Math.imul(J,Pt)|0,a=a+Math.imul(Q,Lt)|0,m=m+Math.imul(Q,Pt)|0,y=y+Math.imul(N,Ct)|0,a=a+Math.imul(N,Ot)|0,a=a+Math.imul(q,Ct)|0,m=m+Math.imul(q,Ot)|0;var tn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(tn>>>26)|0,tn&=67108863,y=Math.imul(wt,ut),a=Math.imul(wt,lt),a=a+Math.imul(gt,ut)|0,m=Math.imul(gt,lt),y=y+Math.imul(_t,It)|0,a=a+Math.imul(_t,vt)|0,a=a+Math.imul(Et,It)|0,m=m+Math.imul(Et,vt)|0,y=y+Math.imul(bt,At)|0,a=a+Math.imul(bt,Mt)|0,a=a+Math.imul(St,At)|0,m=m+Math.imul(St,Mt)|0,y=y+Math.imul(ft,Rt)|0,a=a+Math.imul(ft,Tt)|0,a=a+Math.imul(ht,Rt)|0,m=m+Math.imul(ht,Tt)|0,y=y+Math.imul(it,Lt)|0,a=a+Math.imul(it,Pt)|0,a=a+Math.imul(nt,Lt)|0,m=m+Math.imul(nt,Pt)|0,y=y+Math.imul(J,Ct)|0,a=a+Math.imul(J,Ot)|0,a=a+Math.imul(Q,Ct)|0,m=m+Math.imul(Q,Ot)|0,y=y+Math.imul(N,Nt)|0,a=a+Math.imul(N,Ut)|0,a=a+Math.imul(q,Nt)|0,m=m+Math.imul(q,Ut)|0;var en=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(en>>>26)|0,en&=67108863,y=Math.imul(_,ut),a=Math.imul(_,lt),a=a+Math.imul(A,ut)|0,m=Math.imul(A,lt),y=y+Math.imul(wt,It)|0,a=a+Math.imul(wt,vt)|0,a=a+Math.imul(gt,It)|0,m=m+Math.imul(gt,vt)|0,y=y+Math.imul(_t,At)|0,a=a+Math.imul(_t,Mt)|0,a=a+Math.imul(Et,At)|0,m=m+Math.imul(Et,Mt)|0,y=y+Math.imul(bt,Rt)|0,a=a+Math.imul(bt,Tt)|0,a=a+Math.imul(St,Rt)|0,m=m+Math.imul(St,Tt)|0,y=y+Math.imul(ft,Lt)|0,a=a+Math.imul(ft,Pt)|0,a=a+Math.imul(ht,Lt)|0,m=m+Math.imul(ht,Pt)|0,y=y+Math.imul(it,Ct)|0,a=a+Math.imul(it,Ot)|0,a=a+Math.imul(nt,Ct)|0,m=m+Math.imul(nt,Ot)|0,y=y+Math.imul(J,Nt)|0,a=a+Math.imul(J,Ut)|0,a=a+Math.imul(Q,Nt)|0,m=m+Math.imul(Q,Ut)|0,y=y+Math.imul(N,qt)|0,a=a+Math.imul(N,zt)|0,a=a+Math.imul(q,qt)|0,m=m+Math.imul(q,zt)|0;var rn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(rn>>>26)|0,rn&=67108863,y=Math.imul(L,ut),a=Math.imul(L,lt),a=a+Math.imul($,ut)|0,m=Math.imul($,lt),y=y+Math.imul(_,It)|0,a=a+Math.imul(_,vt)|0,a=a+Math.imul(A,It)|0,m=m+Math.imul(A,vt)|0,y=y+Math.imul(wt,At)|0,a=a+Math.imul(wt,Mt)|0,a=a+Math.imul(gt,At)|0,m=m+Math.imul(gt,Mt)|0,y=y+Math.imul(_t,Rt)|0,a=a+Math.imul(_t,Tt)|0,a=a+Math.imul(Et,Rt)|0,m=m+Math.imul(Et,Tt)|0,y=y+Math.imul(bt,Lt)|0,a=a+Math.imul(bt,Pt)|0,a=a+Math.imul(St,Lt)|0,m=m+Math.imul(St,Pt)|0,y=y+Math.imul(ft,Ct)|0,a=a+Math.imul(ft,Ot)|0,a=a+Math.imul(ht,Ct)|0,m=m+Math.imul(ht,Ot)|0,y=y+Math.imul(it,Nt)|0,a=a+Math.imul(it,Ut)|0,a=a+Math.imul(nt,Nt)|0,m=m+Math.imul(nt,Ut)|0,y=y+Math.imul(J,qt)|0,a=a+Math.imul(J,zt)|0,a=a+Math.imul(Q,qt)|0,m=m+Math.imul(Q,zt)|0,y=y+Math.imul(N,Ft)|0,a=a+Math.imul(N,Kt)|0,a=a+Math.imul(q,Ft)|0,m=m+Math.imul(q,Kt)|0;var nn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863,y=Math.imul(tt,ut),a=Math.imul(tt,lt),a=a+Math.imul(ot,ut)|0,m=Math.imul(ot,lt),y=y+Math.imul(L,It)|0,a=a+Math.imul(L,vt)|0,a=a+Math.imul($,It)|0,m=m+Math.imul($,vt)|0,y=y+Math.imul(_,At)|0,a=a+Math.imul(_,Mt)|0,a=a+Math.imul(A,At)|0,m=m+Math.imul(A,Mt)|0,y=y+Math.imul(wt,Rt)|0,a=a+Math.imul(wt,Tt)|0,a=a+Math.imul(gt,Rt)|0,m=m+Math.imul(gt,Tt)|0,y=y+Math.imul(_t,Lt)|0,a=a+Math.imul(_t,Pt)|0,a=a+Math.imul(Et,Lt)|0,m=m+Math.imul(Et,Pt)|0,y=y+Math.imul(bt,Ct)|0,a=a+Math.imul(bt,Ot)|0,a=a+Math.imul(St,Ct)|0,m=m+Math.imul(St,Ot)|0,y=y+Math.imul(ft,Nt)|0,a=a+Math.imul(ft,Ut)|0,a=a+Math.imul(ht,Nt)|0,m=m+Math.imul(ht,Ut)|0,y=y+Math.imul(it,qt)|0,a=a+Math.imul(it,zt)|0,a=a+Math.imul(nt,qt)|0,m=m+Math.imul(nt,zt)|0,y=y+Math.imul(J,Ft)|0,a=a+Math.imul(J,Kt)|0,a=a+Math.imul(Q,Ft)|0,m=m+Math.imul(Q,Kt)|0,y=y+Math.imul(N,Dt)|0,a=a+Math.imul(N,Wt)|0,a=a+Math.imul(q,Dt)|0,m=m+Math.imul(q,Wt)|0;var sn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(sn>>>26)|0,sn&=67108863,y=Math.imul(tt,It),a=Math.imul(tt,vt),a=a+Math.imul(ot,It)|0,m=Math.imul(ot,vt),y=y+Math.imul(L,At)|0,a=a+Math.imul(L,Mt)|0,a=a+Math.imul($,At)|0,m=m+Math.imul($,Mt)|0,y=y+Math.imul(_,Rt)|0,a=a+Math.imul(_,Tt)|0,a=a+Math.imul(A,Rt)|0,m=m+Math.imul(A,Tt)|0,y=y+Math.imul(wt,Lt)|0,a=a+Math.imul(wt,Pt)|0,a=a+Math.imul(gt,Lt)|0,m=m+Math.imul(gt,Pt)|0,y=y+Math.imul(_t,Ct)|0,a=a+Math.imul(_t,Ot)|0,a=a+Math.imul(Et,Ct)|0,m=m+Math.imul(Et,Ot)|0,y=y+Math.imul(bt,Nt)|0,a=a+Math.imul(bt,Ut)|0,a=a+Math.imul(St,Nt)|0,m=m+Math.imul(St,Ut)|0,y=y+Math.imul(ft,qt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(ht,qt)|0,m=m+Math.imul(ht,zt)|0,y=y+Math.imul(it,Ft)|0,a=a+Math.imul(it,Kt)|0,a=a+Math.imul(nt,Ft)|0,m=m+Math.imul(nt,Kt)|0,y=y+Math.imul(J,Dt)|0,a=a+Math.imul(J,Wt)|0,a=a+Math.imul(Q,Dt)|0,m=m+Math.imul(Q,Wt)|0;var on=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(on>>>26)|0,on&=67108863,y=Math.imul(tt,At),a=Math.imul(tt,Mt),a=a+Math.imul(ot,At)|0,m=Math.imul(ot,Mt),y=y+Math.imul(L,Rt)|0,a=a+Math.imul(L,Tt)|0,a=a+Math.imul($,Rt)|0,m=m+Math.imul($,Tt)|0,y=y+Math.imul(_,Lt)|0,a=a+Math.imul(_,Pt)|0,a=a+Math.imul(A,Lt)|0,m=m+Math.imul(A,Pt)|0,y=y+Math.imul(wt,Ct)|0,a=a+Math.imul(wt,Ot)|0,a=a+Math.imul(gt,Ct)|0,m=m+Math.imul(gt,Ot)|0,y=y+Math.imul(_t,Nt)|0,a=a+Math.imul(_t,Ut)|0,a=a+Math.imul(Et,Nt)|0,m=m+Math.imul(Et,Ut)|0,y=y+Math.imul(bt,qt)|0,a=a+Math.imul(bt,zt)|0,a=a+Math.imul(St,qt)|0,m=m+Math.imul(St,zt)|0,y=y+Math.imul(ft,Ft)|0,a=a+Math.imul(ft,Kt)|0,a=a+Math.imul(ht,Ft)|0,m=m+Math.imul(ht,Kt)|0,y=y+Math.imul(it,Dt)|0,a=a+Math.imul(it,Wt)|0,a=a+Math.imul(nt,Dt)|0,m=m+Math.imul(nt,Wt)|0;var an=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(an>>>26)|0,an&=67108863,y=Math.imul(tt,Rt),a=Math.imul(tt,Tt),a=a+Math.imul(ot,Rt)|0,m=Math.imul(ot,Tt),y=y+Math.imul(L,Lt)|0,a=a+Math.imul(L,Pt)|0,a=a+Math.imul($,Lt)|0,m=m+Math.imul($,Pt)|0,y=y+Math.imul(_,Ct)|0,a=a+Math.imul(_,Ot)|0,a=a+Math.imul(A,Ct)|0,m=m+Math.imul(A,Ot)|0,y=y+Math.imul(wt,Nt)|0,a=a+Math.imul(wt,Ut)|0,a=a+Math.imul(gt,Nt)|0,m=m+Math.imul(gt,Ut)|0,y=y+Math.imul(_t,qt)|0,a=a+Math.imul(_t,zt)|0,a=a+Math.imul(Et,qt)|0,m=m+Math.imul(Et,zt)|0,y=y+Math.imul(bt,Ft)|0,a=a+Math.imul(bt,Kt)|0,a=a+Math.imul(St,Ft)|0,m=m+Math.imul(St,Kt)|0,y=y+Math.imul(ft,Dt)|0,a=a+Math.imul(ft,Wt)|0,a=a+Math.imul(ht,Dt)|0,m=m+Math.imul(ht,Wt)|0;var un=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(un>>>26)|0,un&=67108863,y=Math.imul(tt,Lt),a=Math.imul(tt,Pt),a=a+Math.imul(ot,Lt)|0,m=Math.imul(ot,Pt),y=y+Math.imul(L,Ct)|0,a=a+Math.imul(L,Ot)|0,a=a+Math.imul($,Ct)|0,m=m+Math.imul($,Ot)|0,y=y+Math.imul(_,Nt)|0,a=a+Math.imul(_,Ut)|0,a=a+Math.imul(A,Nt)|0,m=m+Math.imul(A,Ut)|0,y=y+Math.imul(wt,qt)|0,a=a+Math.imul(wt,zt)|0,a=a+Math.imul(gt,qt)|0,m=m+Math.imul(gt,zt)|0,y=y+Math.imul(_t,Ft)|0,a=a+Math.imul(_t,Kt)|0,a=a+Math.imul(Et,Ft)|0,m=m+Math.imul(Et,Kt)|0,y=y+Math.imul(bt,Dt)|0,a=a+Math.imul(bt,Wt)|0,a=a+Math.imul(St,Dt)|0,m=m+Math.imul(St,Wt)|0;var cn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(cn>>>26)|0,cn&=67108863,y=Math.imul(tt,Ct),a=Math.imul(tt,Ot),a=a+Math.imul(ot,Ct)|0,m=Math.imul(ot,Ot),y=y+Math.imul(L,Nt)|0,a=a+Math.imul(L,Ut)|0,a=a+Math.imul($,Nt)|0,m=m+Math.imul($,Ut)|0,y=y+Math.imul(_,qt)|0,a=a+Math.imul(_,zt)|0,a=a+Math.imul(A,qt)|0,m=m+Math.imul(A,zt)|0,y=y+Math.imul(wt,Ft)|0,a=a+Math.imul(wt,Kt)|0,a=a+Math.imul(gt,Ft)|0,m=m+Math.imul(gt,Kt)|0,y=y+Math.imul(_t,Dt)|0,a=a+Math.imul(_t,Wt)|0,a=a+Math.imul(Et,Dt)|0,m=m+Math.imul(Et,Wt)|0;var fn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(fn>>>26)|0,fn&=67108863,y=Math.imul(tt,Nt),a=Math.imul(tt,Ut),a=a+Math.imul(ot,Nt)|0,m=Math.imul(ot,Ut),y=y+Math.imul(L,qt)|0,a=a+Math.imul(L,zt)|0,a=a+Math.imul($,qt)|0,m=m+Math.imul($,zt)|0,y=y+Math.imul(_,Ft)|0,a=a+Math.imul(_,Kt)|0,a=a+Math.imul(A,Ft)|0,m=m+Math.imul(A,Kt)|0,y=y+Math.imul(wt,Dt)|0,a=a+Math.imul(wt,Wt)|0,a=a+Math.imul(gt,Dt)|0,m=m+Math.imul(gt,Wt)|0;var ln=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(ln>>>26)|0,ln&=67108863,y=Math.imul(tt,qt),a=Math.imul(tt,zt),a=a+Math.imul(ot,qt)|0,m=Math.imul(ot,zt),y=y+Math.imul(L,Ft)|0,a=a+Math.imul(L,Kt)|0,a=a+Math.imul($,Ft)|0,m=m+Math.imul($,Kt)|0,y=y+Math.imul(_,Dt)|0,a=a+Math.imul(_,Wt)|0,a=a+Math.imul(A,Dt)|0,m=m+Math.imul(A,Wt)|0;var hn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,y=Math.imul(tt,Ft),a=Math.imul(tt,Kt),a=a+Math.imul(ot,Ft)|0,m=Math.imul(ot,Kt),y=y+Math.imul(L,Dt)|0,a=a+Math.imul(L,Wt)|0,a=a+Math.imul($,Dt)|0,m=m+Math.imul($,Wt)|0;var dn=(v+y|0)+((a&8191)<<13)|0;v=(m+(a>>>13)|0)+(dn>>>26)|0,dn&=67108863,y=Math.imul(tt,Dt),a=Math.imul(tt,Wt),a=a+Math.imul(ot,Dt)|0,m=Math.imul(ot,Wt);var pn=(v+y|0)+((a&8191)<<13)|0;return v=(m+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,b[0]=Zr,b[1]=Yr,b[2]=Jr,b[3]=Xr,b[4]=Qr,b[5]=tn,b[6]=en,b[7]=rn,b[8]=nn,b[9]=sn,b[10]=on,b[11]=an,b[12]=un,b[13]=cn,b[14]=fn,b[15]=ln,b[16]=hn,b[17]=dn,b[18]=pn,v!==0&&(b[19]=v,f.length++),f};Math.imul||(C=M);function F(w,s,c){c.negative=s.negative^w.negative,c.length=w.length+s.length;for(var f=0,h=0,p=0;p<c.length-1;p++){var b=h;h=0;for(var v=f&67108863,y=Math.min(p,s.length-1),a=Math.max(0,p-w.length+1);a<=y;a++){var m=p-a,O=w.words[m]|0,N=s.words[a]|0,q=O*N,W=q&67108863;b=b+(q/67108864|0)|0,W=W+v|0,v=W&67108863,b=b+(W>>>26)|0,h+=b>>>26,b&=67108863}c.words[p]=v,f=b,b=h}return f!==0?c.words[p]=f:c.length--,c._strip()}function U(w,s,c){return F(w,s,c)}i.prototype.mulTo=function(s,c){var f,h=this.length+s.length;return this.length===10&&s.length===10?f=C(this,s,c):h<63?f=M(this,s,c):h<1024?f=F(this,s,c):f=U(this,s,c),f};function K(w,s){this.x=w,this.y=s}K.prototype.makeRBT=function(s){for(var c=new Array(s),f=i.prototype._countBits(s)-1,h=0;h<s;h++)c[h]=this.revBin(h,f,s);return c},K.prototype.revBin=function(s,c,f){if(s===0||s===f-1)return s;for(var h=0,p=0;p<c;p++)h|=(s&1)<<c-p-1,s>>=1;return h},K.prototype.permute=function(s,c,f,h,p,b){for(var v=0;v<b;v++)h[v]=c[s[v]],p[v]=f[s[v]]},K.prototype.transform=function(s,c,f,h,p,b){this.permute(b,s,c,f,h,p);for(var v=1;v<p;v<<=1)for(var y=v<<1,a=Math.cos(2*Math.PI/y),m=Math.sin(2*Math.PI/y),O=0;O<p;O+=y)for(var N=a,q=m,W=0;W<v;W++){var J=f[O+W],Q=h[O+W],Gt=f[O+W+v],it=h[O+W+v],nt=N*Gt-q*it;it=N*it+q*Gt,Gt=nt,f[O+W]=J+Gt,h[O+W]=Q+it,f[O+W+v]=J-Gt,h[O+W+v]=Q-it,W!==y&&(nt=a*N-m*q,q=a*q+m*N,N=nt)}},K.prototype.guessLen13b=function(s,c){var f=Math.max(c,s)|1,h=f&1,p=0;for(f=f/2|0;f;f=f>>>1)p++;return 1<<p+1+h},K.prototype.conjugate=function(s,c,f){if(!(f<=1))for(var h=0;h<f/2;h++){var p=s[h];s[h]=s[f-h-1],s[f-h-1]=p,p=c[h],c[h]=-c[f-h-1],c[f-h-1]=-p}},K.prototype.normalize13b=function(s,c){for(var f=0,h=0;h<c/2;h++){var p=Math.round(s[2*h+1]/c)*8192+Math.round(s[2*h]/c)+f;s[h]=p&67108863,p<67108864?f=0:f=p/67108864|0}return s},K.prototype.convert13b=function(s,c,f,h){for(var p=0,b=0;b<c;b++)p=p+(s[b]|0),f[2*b]=p&8191,p=p>>>13,f[2*b+1]=p&8191,p=p>>>13;for(b=2*c;b<h;++b)f[b]=0;e(p===0),e((p&-8192)===0)},K.prototype.stub=function(s){for(var c=new Array(s),f=0;f<s;f++)c[f]=0;return c},K.prototype.mulp=function(s,c,f){var h=2*this.guessLen13b(s.length,c.length),p=this.makeRBT(h),b=this.stub(h),v=new Array(h),y=new Array(h),a=new Array(h),m=new Array(h),O=new Array(h),N=new Array(h),q=f.words;q.length=h,this.convert13b(s.words,s.length,v,h),this.convert13b(c.words,c.length,m,h),this.transform(v,b,y,a,h,p),this.transform(m,b,O,N,h,p);for(var W=0;W<h;W++){var J=y[W]*O[W]-a[W]*N[W];a[W]=y[W]*N[W]+a[W]*O[W],y[W]=J}return this.conjugate(y,a,h),this.transform(y,a,q,b,h,p),this.conjugate(q,b,h),this.normalize13b(q,h),f.negative=s.negative^c.negative,f.length=s.length+c.length,f._strip()},i.prototype.mul=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},i.prototype.mulf=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),U(this,s,c)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var c=s<0;c&&(s=-s),e(typeof s=="number"),e(s<67108864);for(var f=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,b=(p&67108863)+(f&67108863);f>>=26,f+=p/67108864|0,f+=b>>>26,this.words[h]=b&67108863}return f!==0&&(this.words[h]=f,this.length++),c?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var c=E(s);if(c.length===0)return new i(1);for(var f=this,h=0;h<c.length&&c[h]===0;h++,f=f.sqr());if(++h<c.length)for(var p=f.sqr();h<c.length;h++,p=p.sqr())c[h]!==0&&(f=f.mul(p));return f},i.prototype.iushln=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,h=67108863>>>26-c<<26-c,p;if(c!==0){var b=0;for(p=0;p<this.length;p++){var v=this.words[p]&h,y=(this.words[p]|0)-v<<c;this.words[p]=y|b,b=v>>>26-c}b&&(this.words[p]=b,this.length++)}if(f!==0){for(p=this.length-1;p>=0;p--)this.words[p+f]=this.words[p];for(p=0;p<f;p++)this.words[p]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return e(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,c,f){e(typeof s=="number"&&s>=0);var h;c?h=(c-c%26)/26:h=0;var p=s%26,b=Math.min((s-p)/26,this.length),v=67108863^67108863>>>p<<p,y=f;if(h-=b,h=Math.max(0,h),y){for(var a=0;a<b;a++)y.words[a]=this.words[a];y.length=b}if(b!==0)if(this.length>b)for(this.length-=b,a=0;a<this.length;a++)this.words[a]=this.words[a+b];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=h);a--){var O=this.words[a]|0;this.words[a]=m<<26-p|O>>>p,m=O&v}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,c,f){return e(this.negative===0),this.iushrn(s,c,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,h=1<<c;if(this.length<=f)return!1;var p=this.words[f];return!!(p&h)},i.prototype.imaskn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(c!==0&&f++,this.length=Math.min(f,this.length),c!==0){var h=67108863^67108863>>>c<<c;this.words[this.length-1]&=h}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return e(typeof s=="number"),e(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(s){if(e(typeof s=="number"),e(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,c,f){var h=s.length+f,p;this._expand(h);var b,v=0;for(p=0;p<s.length;p++){b=(this.words[p+f]|0)+v;var y=(s.words[p]|0)*c;b-=y&67108863,v=(b>>26)-(y/67108864|0),this.words[p+f]=b&67108863}for(;p<this.length-f;p++)b=(this.words[p+f]|0)+v,v=b>>26,this.words[p+f]=b&67108863;if(v===0)return this._strip();for(e(v===-1),v=0,p=0;p<this.length;p++)b=-(this.words[p]|0)+v,v=b>>26,this.words[p]=b&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,c){var f=this.length-s.length,h=this.clone(),p=s,b=p.words[p.length-1]|0,v=this._countBits(b);f=26-v,f!==0&&(p=p.ushln(f),h.iushln(f),b=p.words[p.length-1]|0);var y=h.length-p.length,a;if(c!=="mod"){a=new i(null),a.length=y+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var O=h.clone()._ishlnsubmul(p,1,y);O.negative===0&&(h=O,a&&(a.words[y]=1));for(var N=y-1;N>=0;N--){var q=(h.words[p.length+N]|0)*67108864+(h.words[p.length+N-1]|0);for(q=Math.min(q/b|0,67108863),h._ishlnsubmul(p,q,N);h.negative!==0;)q--,h.negative=0,h._ishlnsubmul(p,1,N),h.isZero()||(h.negative^=1);a&&(a.words[N]=q)}return a&&a._strip(),h._strip(),c!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(s,c,f){if(e(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,p,b;return this.negative!==0&&s.negative===0?(b=this.neg().divmod(s,c),c!=="mod"&&(h=b.div.neg()),c!=="div"&&(p=b.mod.neg(),f&&p.negative!==0&&p.iadd(s)),{div:h,mod:p}):this.negative===0&&s.negative!==0?(b=this.divmod(s.neg(),c),c!=="mod"&&(h=b.div.neg()),{div:h,mod:b.mod}):this.negative&s.negative?(b=this.neg().divmod(s.neg(),c),c!=="div"&&(p=b.mod.neg(),f&&p.negative!==0&&p.isub(s)),{div:b.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,c)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var f=c.div.negative!==0?c.mod.isub(s):c.mod,h=s.ushrn(1),p=s.andln(1),b=f.cmp(h);return b<0||p===1&&b===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modrn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(f*h+(this.words[p]|0))%s;return c?-h:h},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+f*67108864;this.words[h]=p/s|0,f=p%s}return this._strip(),c?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var h=new i(1),p=new i(0),b=new i(0),v=new i(1),y=0;c.isEven()&&f.isEven();)c.iushrn(1),f.iushrn(1),++y;for(var a=f.clone(),m=c.clone();!c.isZero();){for(var O=0,N=1;!(c.words[0]&N)&&O<26;++O,N<<=1);if(O>0)for(c.iushrn(O);O-- >0;)(h.isOdd()||p.isOdd())&&(h.iadd(a),p.isub(m)),h.iushrn(1),p.iushrn(1);for(var q=0,W=1;!(f.words[0]&W)&&q<26;++q,W<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(a),v.isub(m)),b.iushrn(1),v.iushrn(1);c.cmp(f)>=0?(c.isub(f),h.isub(b),p.isub(v)):(f.isub(c),b.isub(h),v.isub(p))}return{a:b,b:v,gcd:f.iushln(y)}},i.prototype._invmp=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var h=new i(1),p=new i(0),b=f.clone();c.cmpn(1)>0&&f.cmpn(1)>0;){for(var v=0,y=1;!(c.words[0]&y)&&v<26;++v,y<<=1);if(v>0)for(c.iushrn(v);v-- >0;)h.isOdd()&&h.iadd(b),h.iushrn(1);for(var a=0,m=1;!(f.words[0]&m)&&a<26;++a,m<<=1);if(a>0)for(f.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(b),p.iushrn(1);c.cmp(f)>=0?(c.isub(f),h.isub(p)):(f.isub(c),p.isub(h))}var O;return c.cmpn(1)===0?O=h:O=p,O.cmpn(0)<0&&O.iadd(s),O},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),f=s.clone();c.negative=0,f.negative=0;for(var h=0;c.isEven()&&f.isEven();h++)c.iushrn(1),f.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;f.isEven();)f.iushrn(1);var p=c.cmp(f);if(p<0){var b=c;c=f,f=b}else if(p===0||f.cmpn(1)===0)break;c.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){e(typeof s=="number");var c=s%26,f=(s-c)/26,h=1<<c;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var p=h,b=f;p!==0&&b<this.length;b++){var v=this.words[b]|0;v+=p,p=v>>>26,v&=67108863,this.words[b]=v}return p!==0&&(this.words[b]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var f;if(this.length>1)f=1;else{c&&(s=-s),e(s<=67108863,"Number is too big");var h=this.words[0]|0;f=h===s?0:h<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,p=s.words[f]|0;if(h!==p){h<p?c=-1:h>p&&(c=1);break}}return c},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Z(s)},i.prototype.toRed=function(s){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return e(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return e(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var G={k256:null,p224:null,p192:null,p25519:null};function H(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},H.prototype.ireduce=function(s){var c=s,f;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),f=c.bitLength();while(f>this.n);var h=f<this.n?-1:c.ucmp(this.p);return h===0?(c.words[0]=0,c.length=1):h>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},H.prototype.split=function(s,c){s.iushrn(this.n,0,c)},H.prototype.imulK=function(s){return s.imul(this.k)};function Y(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Y,H),Y.prototype.split=function(s,c){for(var f=4194303,h=Math.min(s.length,9),p=0;p<h;p++)c.words[p]=s.words[p];if(c.length=h,s.length<=9){s.words[0]=0,s.length=1;return}var b=s.words[9];for(c.words[c.length++]=b&f,p=10;p<s.length;p++){var v=s.words[p]|0;s.words[p-10]=(v&f)<<4|b>>>22,b=v}b>>>=22,s.words[p-10]=b,b===0&&s.length>10?s.length-=10:s.length-=9},Y.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,f=0;f<s.length;f++){var h=s.words[f]|0;c+=h*977,s.words[f]=c&67108863,c=h*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function X(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(X,H);function xt(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(xt,H);function pt(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(pt,H),pt.prototype.imulK=function(s){for(var c=0,f=0;f<s.length;f++){var h=(s.words[f]|0)*19+c,p=h&67108863;h>>>=26,s.words[f]=p,c=h}return c!==0&&(s.words[s.length++]=c),s},i._prime=function(s){if(G[s])return G[s];var c;if(s==="k256")c=new Y;else if(s==="p224")c=new X;else if(s==="p192")c=new xt;else if(s==="p25519")c=new pt;else throw new Error("Unknown prime "+s);return G[s]=c,c};function Z(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else e(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Z.prototype._verify1=function(s){e(s.negative===0,"red works only with positives"),e(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,c){e((s.negative|c.negative)===0,"red works only with positives"),e(s.red&&s.red===c.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(x(s,s.umod(this.m)._forceRed(this)),s)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,c){this._verify2(s,c);var f=s.add(c);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},Z.prototype.iadd=function(s,c){this._verify2(s,c);var f=s.iadd(c);return f.cmp(this.m)>=0&&f.isub(this.m),f},Z.prototype.sub=function(s,c){this._verify2(s,c);var f=s.sub(c);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},Z.prototype.isub=function(s,c){this._verify2(s,c);var f=s.isub(c);return f.cmpn(0)<0&&f.iadd(this.m),f},Z.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},Z.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},Z.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(e(c%2===1),c===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var h=this.m.subn(1),p=0;!h.isZero()&&h.andln(1)===0;)p++,h.iushrn(1);e(!h.isZero());var b=new i(1).toRed(this),v=b.redNeg(),y=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,y).cmp(v)!==0;)a.redIAdd(v);for(var m=this.pow(a,h),O=this.pow(s,h.addn(1).iushrn(1)),N=this.pow(s,h),q=p;N.cmp(b)!==0;){for(var W=N,J=0;W.cmp(b)!==0;J++)W=W.redSqr();e(J<q);var Q=this.pow(m,new i(1).iushln(q-J-1));O=O.redMul(Q),m=Q.redSqr(),N=N.redMul(m),q=J}return O},Z.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Z.prototype.pow=function(s,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=s;for(var p=2;p<h.length;p++)h[p]=this.mul(h[p-1],s);var b=h[0],v=0,y=0,a=c.bitLength()%26;for(a===0&&(a=26),p=c.length-1;p>=0;p--){for(var m=c.words[p],O=a-1;O>=0;O--){var N=m>>O&1;if(b!==h[0]&&(b=this.sqr(b)),N===0&&v===0){y=0;continue}v<<=1,v|=N,y++,!(y!==f&&(p!==0||O!==0))&&(b=this.mul(b,h[v]),y=0,v=0)}a=26}return b},Z.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},Z.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},i.mont=function(s){return new kt(s)};function kt(w){Z.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(kt,Z),kt.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},kt.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},kt.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(c),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(h).iushrn(this.shift),b=p;return p.cmp(this.m)>=0?b=p.isub(this.m):p.cmpn(0)<0&&(b=p.iadd(this.m)),b._forceRed(this)},kt.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new i(0)._forceRed(this);var f=s.mul(c),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(h).iushrn(this.shift),b=p;return p.cmp(this.m)>=0?b=p.isub(this.m):p.cmpn(0)<0&&(b=p.iadd(this.m)),b._forceRed(this)},kt.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof ha>"u"||ha,nf)});var af=Ht((w1,of)=>{var v1=V(j()),Nd=ua(),Ud="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";of.exports=Nd(Ud)});var uf=Ht(ya=>{"use strict";var k1=V(j());function Sr(r,t,e){return t<=r&&r<=e}function hs(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function qd(r){for(var t=String(r),e=t.length,n=0,i=[];n<e;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===e-1)i.push(65533);else{var u=r.charCodeAt(n+1);if(56320<=u&&u<=57343){var d=o&1023,g=u&1023;i.push(65536+(d<<10)+g),n+=1}else i.push(65533)}n+=1}return i}function zd(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var us=-1;function pa(r){this.tokens=[].slice.call(r)}pa.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():us},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var qn=-1;function da(r,t){if(r)throw TypeError("Decoder error");return t||65533}var cs="utf-8";function fs(r,t){if(!(this instanceof fs))return new fs(r,t);if(r=r!==void 0?String(r).toLowerCase():cs,r!==cs)throw new Error("Encoding not supported. Only utf-8 is supported");t=hs(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}fs.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=hs(e),this._streaming||(this._decoder=new Fd({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var i=new pa(n),o=[],u;!i.endOfStream()&&(u=this._decoder.handler(i,i.read()),u!==qn);)u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u));if(!this._streaming){do{if(u=this._decoder.handler(i,i.read()),u===qn)break;u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),zd(o)}};function ls(r,t){if(!(this instanceof ls))return new ls(r,t);if(r=r!==void 0?String(r).toLowerCase():cs,r!==cs)throw new Error("Encoding not supported. Only utf-8 is supported");t=hs(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ls.prototype={encode:function(t,e){t=t?String(t):"",e=hs(e),this._streaming||(this._encoder=new Kd(this._options)),this._streaming=!!e.stream;for(var n=[],i=new pa(qd(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==qn);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==qn;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function Fd(r){var t=r.fatal,e=0,n=0,i=0,o=128,u=191;this.handler=function(d,g){if(g===us&&i!==0)return i=0,da(t);if(g===us)return qn;if(i===0){if(Sr(g,0,127))return g;if(Sr(g,194,223))i=1,e=g-192;else if(Sr(g,224,239))g===224&&(o=160),g===237&&(u=159),i=2,e=g-224;else if(Sr(g,240,244))g===240&&(o=144),g===244&&(u=143),i=3,e=g-240;else return da(t);return e=e<<6*i,null}if(!Sr(g,o,u))return e=i=n=0,o=128,u=191,d.prepend(g),da(t);if(o=128,u=191,n+=1,e+=g-128<<6*(i-n),n!==i)return null;var x=e;return e=i=n=0,x}}function Kd(r){var t=r.fatal;this.handler=function(e,n){if(n===us)return qn;if(Sr(n,0,127))return n;var i,o;Sr(n,128,2047)?(i=1,o=192):Sr(n,2048,65535)?(i=2,o=224):Sr(n,65536,1114111)&&(i=3,o=240);for(var u=[(n>>6*i)+o];i>0;){var d=n>>6*(i-1);u.push(128|d&63),i-=1}return u}}ya.TextEncoder=ls;ya.TextDecoder=fs});var df=Ht(ie=>{"use strict";var _1=V(j()),Dd=ie&&ie.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Wd=ie&&ie.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),cr=ie&&ie.__decorate||function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var d=r.length-1;d>=0;d--)(u=r[d])&&(o=(i<3?u(o):i>3?u(t,e,o):u(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hd=ie&&ie.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&Dd(t,r,e);return Wd(t,r),t},cf=ie&&ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ie,"__esModule",{value:!0});ie.deserializeUnchecked=ie.deserialize=ie.serialize=ie.BinaryReader=ie.BinaryWriter=ie.BorshError=ie.baseDecode=ie.baseEncode=void 0;var qr=cf(sf()),ff=cf(af()),$d=Hd(uf()),Vd=typeof TextDecoder!="function"?$d.TextDecoder:TextDecoder,jd=new Vd("utf-8",{fatal:!0});function Gd(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),ff.default.encode(Buffer.from(r))}ie.baseEncode=Gd;function Zd(r){return Buffer.from(ff.default.decode(r))}ie.baseDecode=Zd;var ga=1024,Se=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ie.BorshError=Se;var ds=class{constructor(){this.buf=Buffer.alloc(ga),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ga)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new qr.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new qr.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new qr.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new qr.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(ga)]),this.length+=t.length}writeString(t){this.maybeResize();let e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(let n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};ie.BinaryWriter=ds;function fr(r,t,e){let n=e.value;e.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let u=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(u)>=0)throw new Se("Reached the end of buffer when deserializing")}throw o}}}var Ne=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new qr.default(t,"le")}readU128(){let t=this.readBuffer(16);return new qr.default(t,"le")}readU256(){let t=this.readBuffer(32);return new qr.default(t,"le")}readU512(){let t=this.readBuffer(64);return new qr.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Se(`Expected buffer length ${t} isn\'t within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return jd.decode(e)}catch(n){throw new Se(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),n=Array();for(let i=0;i<e;++i)n.push(t());return n}};cr([fr],Ne.prototype,"readU8",null);cr([fr],Ne.prototype,"readU16",null);cr([fr],Ne.prototype,"readU32",null);cr([fr],Ne.prototype,"readU64",null);cr([fr],Ne.prototype,"readU128",null);cr([fr],Ne.prototype,"readU256",null);cr([fr],Ne.prototype,"readU512",null);cr([fr],Ne.prototype,"readString",null);cr([fr],Ne.prototype,"readFixedArray",null);cr([fr],Ne.prototype,"readArray",null);ie.BinaryReader=Ne;function lf(r){return r.charAt(0).toUpperCase()+r.slice(1)}function xn(r,t,e,n,i){try{if(typeof n=="string")i[`write${lf(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Se(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);i.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Se(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let o=0;o<n[1];o++)xn(r,null,e[o],n[0],i)}else i.writeArray(e,o=>{xn(r,t,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?i.writeU8(0):(i.writeU8(1),xn(r,t,e,n.type,i));break}case"map":{i.writeU32(e.size),e.forEach((o,u)=>{xn(r,t,u,n.key,i),xn(r,t,o,n.value,i)});break}default:throw new Se(`FieldType ${n} unrecognized`)}else hf(r,e,i)}catch(o){throw o instanceof Se&&o.addToFieldPath(t),o}}function hf(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}let n=r.get(t.constructor);if(!n)throw new Se(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{xn(r,i,t[i],o,e)});else if(n.kind==="enum"){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[u,d]=n.values[o];if(u===i){e.writeU8(o),xn(r,u,t[u],d,e);break}}}else throw new Se(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Yd(r,t,e=ds){let n=new e;return hf(r,t,n),n.toArray()}ie.serialize=Yd;function kn(r,t,e,n){try{if(typeof e=="string")return n[`read${lf(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){let i=[];for(let o=0;o<e[1];o++)i.push(kn(r,null,e[0],n));return i}else return n.readArray(()=>kn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?kn(r,t,e.type,n):void 0;if(e.kind==="map"){let i=new Map,o=n.readU32();for(let u=0;u<o;u++){let d=kn(r,t,e.key,n),g=kn(r,t,e.value,n);i.set(d,g)}return i}return ma(r,e,n)}catch(i){throw i instanceof Se&&i.addToFieldPath(t),i}}function ma(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);let n=r.get(t);if(!n)throw new Se(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,u]of r.get(t).fields)i[o]=kn(r,o,u,e);return new t(i)}if(n.kind==="enum"){let i=e.readU8();if(i>=n.values.length)throw new Se(`Enum index: ${i} is out of range`);let[o,u]=n.values[i],d=kn(r,o,u,e);return new t({[o]:d})}throw new Se(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Jd(r,t,e,n=Ne){let i=new n(e),o=ma(r,t,i);if(i.offset<e.length)throw new Se(`Unexpected ${e.length-i.offset} bytes after deserialized data`);return o}ie.deserialize=Jd;function Xd(r,t,e,n=Ne){let i=new n(e);return ma(r,t,i)}ie.deserializeUnchecked=Xd});var pf=Ht(z=>{"use strict";var B1=V(j());Object.defineProperty(z,"__esModule",{value:!0});z.s16=z.s8=z.nu64be=z.u48be=z.u40be=z.u32be=z.u24be=z.u16be=z.nu64=z.u48=z.u40=z.u32=z.u24=z.u16=z.u8=z.offset=z.greedy=z.Constant=z.UTF8=z.CString=z.Blob=z.Boolean=z.BitField=z.BitStructure=z.VariantLayout=z.Union=z.UnionLayoutDiscriminator=z.UnionDiscriminator=z.Structure=z.Sequence=z.DoubleBE=z.Double=z.FloatBE=z.Float=z.NearInt64BE=z.NearInt64=z.NearUInt64BE=z.NearUInt64=z.IntBE=z.Int=z.UIntBE=z.UInt=z.OffsetLayout=z.GreedyCount=z.ExternalLayout=z.bindConstructorLayout=z.nameWithProperty=z.Layout=z.uint8ArrayToBuffer=z.checkUint8Array=void 0;z.constant=z.utf8=z.cstr=z.blob=z.unionLayoutDiscriminator=z.union=z.seq=z.bits=z.struct=z.f64be=z.f64=z.f32be=z.f32=z.ns64be=z.s48be=z.s40be=z.s32be=z.s24be=z.s16be=z.ns64=z.s48=z.s40=z.s32=z.s24=void 0;var wa=On();function Kn(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}z.checkUint8Array=Kn;function Jt(r){return Kn(r),wa.Buffer.from(r.buffer,r.byteOffset,r.length)}z.uint8ArrayToBuffer=Jt;var Qt=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};z.Layout=Qt;function va(r,t){return t.property?r+"["+t.property+"]":r}z.nameWithProperty=va;function Qd(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Qt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}z.bindConstructorLayout=Qd;var Me=class extends Qt{isCount(){throw new Error("ExternalLayout is abstract")}};z.ExternalLayout=Me;var ps=class extends Me{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Kn(t);let n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};z.GreedyCount=ps;var pi=class extends Me{constructor(t,e=0,n){if(!(t instanceof Qt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Fe||this.layout instanceof Ge}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};z.OffsetLayout=pi;var Fe=class extends Qt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Jt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Jt(e).writeUIntLE(t,n,this.span),this.span}};z.UInt=Fe;var Ge=class extends Qt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Jt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Jt(e).writeUIntBE(t,n,this.span),this.span}};z.UIntBE=Ge;var _r=class extends Qt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Jt(t).readIntLE(e,this.span)}encode(t,e,n=0){return Jt(e).writeIntLE(t,n,this.span),this.span}};z.Int=_r;var zr=class extends Qt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Jt(t).readIntBE(e,this.span)}encode(t,e,n=0){return Jt(e).writeIntBE(t,n,this.span),this.span}};z.IntBE=zr;var ba=Math.pow(2,32);function Ts(r){let t=Math.floor(r/ba),e=r-t*ba;return{hi32:t,lo32:e}}function Ls(r,t){return r*ba+t}var ys=class extends Qt{constructor(t){super(8,t)}decode(t,e=0){let n=Jt(t),i=n.readUInt32LE(e),o=n.readUInt32LE(e+4);return Ls(o,i)}encode(t,e,n=0){let i=Ts(t),o=Jt(e);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};z.NearUInt64=ys;var gs=class extends Qt{constructor(t){super(8,t)}decode(t,e=0){let n=Jt(t),i=n.readUInt32BE(e),o=n.readUInt32BE(e+4);return Ls(i,o)}encode(t,e,n=0){let i=Ts(t),o=Jt(e);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};z.NearUInt64BE=gs;var ms=class extends Qt{constructor(t){super(8,t)}decode(t,e=0){let n=Jt(t),i=n.readUInt32LE(e),o=n.readInt32LE(e+4);return Ls(o,i)}encode(t,e,n=0){let i=Ts(t),o=Jt(e);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};z.NearInt64=ms;var bs=class extends Qt{constructor(t){super(8,t)}decode(t,e=0){let n=Jt(t),i=n.readInt32BE(e),o=n.readUInt32BE(e+4);return Ls(i,o)}encode(t,e,n=0){let i=Ts(t),o=Jt(e);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};z.NearInt64BE=bs;var ws=class extends Qt{constructor(t){super(4,t)}decode(t,e=0){return Jt(t).readFloatLE(e)}encode(t,e,n=0){return Jt(e).writeFloatLE(t,n),4}};z.Float=ws;var vs=class extends Qt{constructor(t){super(4,t)}decode(t,e=0){return Jt(t).readFloatBE(e)}encode(t,e,n=0){return Jt(e).writeFloatBE(t,n),4}};z.FloatBE=vs;var xs=class extends Qt{constructor(t){super(8,t)}decode(t,e=0){return Jt(t).readDoubleLE(e)}encode(t,e,n=0){return Jt(e).writeDoubleLE(t,n),8}};z.Double=xs;var ks=class extends Qt{constructor(t){super(8,t)}decode(t,e=0){return Jt(t).readDoubleBE(e)}encode(t,e,n=0){return Jt(e).writeDoubleBE(t,n),8}};z.DoubleBE=ks;var Ss=class extends Qt{constructor(t,e,n){if(!(t instanceof Qt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Me&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(e instanceof Me)&&0<t.span&&(i=e*t.span),super(i,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Me&&(i=i.decode(t,e)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(t,e+n),++o}return n}decode(t,e=0){let n=[],i=0,o=this.count;for(o instanceof Me&&(o=o.decode(t,e));i<o;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return n}encode(t,e,n=0){let i=this.elementLayout,o=t.reduce((u,d)=>u+i.encode(d,e,n+u),0);return this.count instanceof Me&&this.count.encode(t.length,e,n),o}};z.Sequence=Ss;var _s=class extends Qt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((o,u)=>o&&u instanceof Qt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(let o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,u)=>o+u.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let u=o.getSpan(t,e);return e+=u,i+u},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Kn(t);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){let i=n,o=0,u=0;for(let d of this.fields){let g=d.span;if(u=0<g?g:0,d.property!==void 0){let x=t[d.property];x!==void 0&&(u=d.encode(x,e,n),0>g&&(g=d.getSpan(e,n)))}o=n,n+=g}return o+u-i}fromArray(t){let e=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(let n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};z.Structure=_s;var yi=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}};z.UnionDiscriminator=yi;var Fn=class extends yi{constructor(t,e){if(!(t instanceof Me&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};z.UnionLayoutDiscriminator=Fn;var gi=class extends Qt{constructor(t,e,n){let i;if(t instanceof Fe||t instanceof Ge)i=new Fn(new pi(t));else if(t instanceof Me&&t.isCount())i=new Fn(t);else if(t instanceof yi)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Qt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&(t instanceof Fe||t instanceof Ge)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Fe||t instanceof Ge,this.defaultLayout=e,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return u(d)},this.configGetSourceVariant=function(d){u=d.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n,i=this.discriminator,o=i.decode(t,e),u=this.registry[o];if(u===void 0){let d=this.defaultLayout,g=0;this.usesPrefixDiscriminator&&(g=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[d.property]=d.decode(t,e+g)}else n=u.decode(t,e);return n}encode(t,e,n=0){let i=this.getSourceVariant(t);if(i===void 0){let o=this.discriminator,u=this.defaultLayout,d=0;return this.usesPrefixDiscriminator&&(d=o.layout.span),o.encode(t[o.property],e,n),d+u.encode(t[u.property],e,n+d)}return i.encode(t,e,n)}addVariant(t,e,n){let i=new Es(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};z.Union=gi;var Es=class extends Qt{constructor(t,e,n,i){if(!(t instanceof gi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Qt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,e+n)),n+i}decode(t,e=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),o+=this.layout.getSpan(e,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};z.VariantLayout=Es;function zn(r){return 0>r&&(r+=4294967296),r}var mi=class extends Qt{constructor(t,e,n){if(!(t instanceof Fe||t instanceof Ge))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(o){return i=zn(o),this},this._packedGetValue=function(){return i}}decode(t,e=0){let n=this.makeDestinationObject(),i=this.word.decode(t,e);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(t));return n}encode(t,e,n=0){let i=this.word.decode(e,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let u=t[o.property];u!==void 0&&o.encode(u)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){let n=new bi(this,t,e);return this.fields.push(n),n}addBoolean(t){let e=new Bs(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}};z.BitStructure=mi;var bi=class{constructor(t,e,n){if(!(t instanceof mi))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");let i=8*t.span,o=t.fields.reduce((u,d)=>u+d.bits,0);if(e+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-e),this.wordMask=zn(this.valueMask<<this.start),this.property=n}decode(t,e){let n=this.container._packedGetValue();return zn(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==zn(t&this.valueMask))throw new TypeError(va("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),n=zn(t<<this.start);this.container._packedSetValue(zn(e&~this.wordMask)|n)}};z.BitField=bi;var Bs=class extends bi{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};z.Boolean=Bs;var Is=class extends Qt{constructor(t,e){if(!(t instanceof Me&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Me||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Jt(t).slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof Me&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(va("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>e.length)throw new RangeError("encoding overruns Uint8Array");let o=Jt(t);return Jt(e).write(o.toString("hex"),n,i,"hex"),this.length instanceof Me&&this.length.encode(i,e,n),i}};z.Blob=Is;var As=class extends Qt{constructor(t){super(-1,t)}getSpan(t,e=0){Kn(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){let n=this.getSpan(t,e);return Jt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let i=wa.Buffer.from(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");let u=Jt(e);return i.copy(u,n),u[n+o]=0,o+1}};z.CString=As;var Ms=class extends Qt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Kn(t),t.length-e}decode(t,e=0){let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Jt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let i=wa.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(Jt(e),n),o}};z.UTF8=Ms;var Rs=class extends Qt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};z.Constant=Rs;z.greedy=(r,t)=>new ps(r,t);z.offset=(r,t,e)=>new pi(r,t,e);z.u8=r=>new Fe(1,r);z.u16=r=>new Fe(2,r);z.u24=r=>new Fe(3,r);z.u32=r=>new Fe(4,r);z.u40=r=>new Fe(5,r);z.u48=r=>new Fe(6,r);z.nu64=r=>new ys(r);z.u16be=r=>new Ge(2,r);z.u24be=r=>new Ge(3,r);z.u32be=r=>new Ge(4,r);z.u40be=r=>new Ge(5,r);z.u48be=r=>new Ge(6,r);z.nu64be=r=>new gs(r);z.s8=r=>new _r(1,r);z.s16=r=>new _r(2,r);z.s24=r=>new _r(3,r);z.s32=r=>new _r(4,r);z.s40=r=>new _r(5,r);z.s48=r=>new _r(6,r);z.ns64=r=>new ms(r);z.s16be=r=>new zr(2,r);z.s24be=r=>new zr(3,r);z.s32be=r=>new zr(4,r);z.s40be=r=>new zr(5,r);z.s48be=r=>new zr(6,r);z.ns64be=r=>new bs(r);z.f32=r=>new ws(r);z.f32be=r=>new vs(r);z.f64=r=>new xs(r);z.f64be=r=>new ks(r);z.struct=(r,t,e)=>new _s(r,t,e);z.bits=(r,t,e)=>new mi(r,t,e);z.seq=(r,t,e)=>new Ss(r,t,e);z.union=(r,t,e)=>new gi(r,t,e);z.unionLayoutDiscriminator=(r,t)=>new Fn(r,t);z.blob=(r,t)=>new Is(r,t);z.cstr=r=>new As(r);z.utf8=(r,t)=>new Ms(r,t);z.constant=(r,t)=>new Rs(r,t)});var yf=Ht(Dn=>{"use strict";var A1=V(j());Object.defineProperty(Dn,"__esModule",{value:!0});var Ps;function tp(r){{let t=Buffer.from(r);t.reverse();let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Ps.toBigInt(r,!1)}Dn.toBigIntLE=tp;function ep(r){{let t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return Ps.toBigInt(r,!0)}Dn.toBigIntBE=ep;function rp(r,t){{let e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}return Ps.fromBigInt(r,Buffer.allocUnsafe(t),!1)}Dn.toBufferLE=rp;function np(r,t){{let e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}return Ps.fromBigInt(r,Buffer.allocUnsafe(t),!0)}Dn.toBufferBE=np});var mf=Ht((Cs,gf)=>{var M1=V(j());(function(r,t){typeof Cs=="object"&&typeof gf<"u"?t(Cs):typeof define=="function"&&define.amd?define(["exports"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.Superstruct={}))})(Cs,function(r){"use strict";class t extends TypeError{constructor(A,T){let L,{message:$,explanation:ct,...tt}=A,{path:ot}=A,se=ot.length===0?$:`At path: ${ot.join(".")} -- ${$}`;super(ct??se),ct!=null&&(this.cause=se),Object.assign(this,tt),this.name=this.constructor.name,this.failures=()=>L??(L=[A,...T()])}}function e(_){return n(_)&&typeof _[Symbol.iterator]=="function"}function n(_){return typeof _=="object"&&_!=null}function i(_){return n(_)&&!Array.isArray(_)}function o(_){if(Object.prototype.toString.call(_)!=="[object Object]")return!1;let A=Object.getPrototypeOf(_);return A===null||A===Object.prototype}function u(_){return typeof _=="symbol"?_.toString():typeof _=="string"?JSON.stringify(_):`${_}`}function d(_){let{done:A,value:T}=_.next();return A?void 0:T}function g(_,A,T,L){if(_===!0)return;_===!1?_={}:typeof _=="string"&&(_={message:_});let{path:$,branch:ct}=A,{type:tt}=T,{refinement:ot,message:se=`Expected a value of type \\`${tt}\\`${ot?` with refinement \\`${ot}\\``:""}, but received: \\`${u(L)}\\``}=_;return{value:L,type:tt,refinement:ot,key:$[$.length-1],path:$,branch:ct,..._,message:se}}function*x(_,A,T,L){e(_)||(_=[_]);for(let $ of _){let ct=g($,A,T,L);ct&&(yield ct)}}function*k(_,A,T={}){let{path:L=[],branch:$=[_],coerce:ct=!1,mask:tt=!1}=T,ot={path:L,branch:$,mask:tt};ct&&(_=A.coercer(_,ot));let se="valid";for(let ut of A.validator(_,ot))ut.explanation=T.message,se="not_valid",yield[ut,void 0];for(let[ut,lt,Gr]of A.entries(_,ot)){let It=k(lt,Gr,{path:ut===void 0?L:[...L,ut],branch:ut===void 0?$:[...$,lt],coerce:ct,mask:tt,message:T.message});for(let vt of It)vt[0]?(se=vt[0].refinement!=null?"not_refined":"not_valid",yield[vt[0],void 0]):ct&&(lt=vt[1],ut===void 0?_=lt:_ instanceof Map?_.set(ut,lt):_ instanceof Set?_.add(lt):n(_)&&(lt!==void 0||ut in _)&&(_[ut]=lt))}if(se!=="not_valid")for(let ut of A.refiner(_,ot))ut.explanation=T.message,se="not_refined",yield[ut,void 0];se==="valid"&&(yield[void 0,_])}class S{constructor(A){let{type:T,schema:L,validator:$,refiner:ct,coercer:tt=se=>se,entries:ot=function*(){}}=A;this.type=T,this.schema=L,this.entries=ot,this.coercer=tt,$?this.validator=(se,ut)=>{let lt=$(se,ut);return x(lt,ut,this,se)}:this.validator=()=>[],ct?this.refiner=(se,ut)=>{let lt=ct(se,ut);return x(lt,ut,this,se)}:this.refiner=()=>[]}assert(A,T){return P(A,this,T)}create(A,T){return I(A,this,T)}is(A){return E(A,this)}mask(A,T){return R(A,this,T)}validate(A,T={}){return M(A,this,T)}}function P(_,A,T){let L=M(_,A,{message:T});if(L[0])throw L[0]}function I(_,A,T){let L=M(_,A,{coerce:!0,message:T});if(L[0])throw L[0];return L[1]}function R(_,A,T){let L=M(_,A,{coerce:!0,mask:!0,message:T});if(L[0])throw L[0];return L[1]}function E(_,A){return!M(_,A)[0]}function M(_,A,T={}){let L=k(_,A,T),$=d(L);return $[0]?[new t($[0],function*(){for(let tt of L)tt[0]&&(yield tt[0])}),void 0]:[void 0,$[1]]}function C(..._){let A=_[0].type==="type",T=_.map($=>$.schema),L=Object.assign({},...T);return A?nt(L):N(L)}function F(_,A){return new S({type:_,schema:null,validator:A})}function U(_,A){return new S({..._,refiner:(T,L)=>T===void 0||_.refiner(T,L),validator(T,L){return T===void 0?!0:(A(T,L),_.validator(T,L))}})}function K(_){return new S({type:"dynamic",schema:null,*entries(A,T){yield*_(A,T).entries(A,T)},validator(A,T){return _(A,T).validator(A,T)},coercer(A,T){return _(A,T).coercer(A,T)},refiner(A,T){return _(A,T).refiner(A,T)}})}function G(_){let A;return new S({type:"lazy",schema:null,*entries(T,L){A??(A=_()),yield*A.entries(T,L)},validator(T,L){return A??(A=_()),A.validator(T,L)},coercer(T,L){return A??(A=_()),A.coercer(T,L)},refiner(T,L){return A??(A=_()),A.refiner(T,L)}})}function H(_,A){let{schema:T}=_,L={...T};for(let $ of A)delete L[$];switch(_.type){case"type":return nt(L);default:return N(L)}}function Y(_){let A=_ instanceof S,T=A?{..._.schema}:{..._};for(let L in T)T[L]=q(T[L]);return A&&_.type==="type"?nt(T):N(T)}function X(_,A){let{schema:T}=_,L={};for(let $ of A)L[$]=T[$];switch(_.type){case"type":return nt(L);default:return N(L)}}function xt(_,A){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),F(_,A)}function pt(){return F("any",()=>!0)}function Z(_){return new S({type:"array",schema:_,*entries(A){if(_&&Array.isArray(A))for(let[T,L]of A.entries())yield[T,L,_]},coercer(A){return Array.isArray(A)?A.slice():A},validator(A){return Array.isArray(A)||`Expected an array value, but received: ${u(A)}`}})}function kt(){return F("bigint",_=>typeof _=="bigint")}function w(){return F("boolean",_=>typeof _=="boolean")}function s(){return F("date",_=>_ instanceof Date&&!isNaN(_.getTime())||`Expected a valid \\`Date\\` object, but received: ${u(_)}`)}function c(_){let A={},T=_.map(L=>u(L)).join();for(let L of _)A[L]=L;return new S({type:"enums",schema:A,validator(L){return _.includes(L)||`Expected one of \\`${T}\\`, but received: ${u(L)}`}})}function f(){return F("func",_=>typeof _=="function"||`Expected a function, but received: ${u(_)}`)}function h(_){return F("instance",A=>A instanceof _||`Expected a \\`${_.name}\\` instance, but received: ${u(A)}`)}function p(){return F("integer",_=>typeof _=="number"&&!isNaN(_)&&Number.isInteger(_)||`Expected an integer, but received: ${u(_)}`)}function b(_){return new S({type:"intersection",schema:null,*entries(A,T){for(let L of _)yield*L.entries(A,T)},*validator(A,T){for(let L of _)yield*L.validator(A,T)},*refiner(A,T){for(let L of _)yield*L.refiner(A,T)}})}function v(_){let A=u(_),T=typeof _;return new S({type:"literal",schema:T==="string"||T==="number"||T==="boolean"?_:null,validator(L){return L===_||`Expected the literal \\`${A}\\`, but received: ${u(L)}`}})}function y(_,A){return new S({type:"map",schema:null,*entries(T){if(_&&A&&T instanceof Map)for(let[L,$]of T.entries())yield[L,L,_],yield[L,$,A]},coercer(T){return T instanceof Map?new Map(T):T},validator(T){return T instanceof Map||`Expected a \\`Map\\` object, but received: ${u(T)}`}})}function a(){return F("never",()=>!1)}function m(_){return new S({..._,validator:(A,T)=>A===null||_.validator(A,T),refiner:(A,T)=>A===null||_.refiner(A,T)})}function O(){return F("number",_=>typeof _=="number"&&!isNaN(_)||`Expected a number, but received: ${u(_)}`)}function N(_){let A=_?Object.keys(_):[],T=a();return new S({type:"object",schema:_||null,*entries(L){if(_&&n(L)){let $=new Set(Object.keys(L));for(let ct of A)$.delete(ct),yield[ct,L[ct],_[ct]];for(let ct of $)yield[ct,L[ct],T]}},validator(L){return i(L)||`Expected an object, but received: ${u(L)}`},coercer(L,$){if(!i(L))return L;let ct={...L};if($.mask&&_)for(let tt in ct)_[tt]===void 0&&delete ct[tt];return ct}})}function q(_){return new S({..._,validator:(A,T)=>A===void 0||_.validator(A,T),refiner:(A,T)=>A===void 0||_.refiner(A,T)})}function W(_,A){return new S({type:"record",schema:null,*entries(T){if(n(T))for(let L in T){let $=T[L];yield[L,L,_],yield[L,$,A]}},validator(T){return i(T)||`Expected an object, but received: ${u(T)}`},coercer(T){return i(T)?{...T}:T}})}function J(){return F("regexp",_=>_ instanceof RegExp)}function Q(_){return new S({type:"set",schema:null,*entries(A){if(_&&A instanceof Set)for(let T of A)yield[T,T,_]},coercer(A){return A instanceof Set?new Set(A):A},validator(A){return A instanceof Set||`Expected a \\`Set\\` object, but received: ${u(A)}`}})}function Gt(){return F("string",_=>typeof _=="string"||`Expected a string, but received: ${u(_)}`)}function it(_){let A=a();return new S({type:"tuple",schema:null,*entries(T){if(Array.isArray(T)){let L=Math.max(_.length,T.length);for(let $=0;$<L;$++)yield[$,T[$],_[$]||A]}},validator(T){return Array.isArray(T)||`Expected an array, but received: ${u(T)}`},coercer(T){return Array.isArray(T)?T.slice():T}})}function nt(_){let A=Object.keys(_);return new S({type:"type",schema:_,*entries(T){if(n(T))for(let L of A)yield[L,T[L],_[L]]},validator(T){return i(T)||`Expected an object, but received: ${u(T)}`},coercer(T){return i(T)?{...T}:T}})}function fe(_){let A=_.map(T=>T.type).join(" | ");return new S({type:"union",schema:null,coercer(T,L){for(let $ of _){let[ct,tt]=$.validate(T,{coerce:!0,mask:L.mask});if(!ct)return tt}return T},validator(T,L){let $=[];for(let ct of _){let[...tt]=k(T,ct,L),[ot]=tt;if(ot[0])for(let[se]of tt)se&&$.push(se);else return[]}return[`Expected the value to satisfy a union of \\`${A}\\`, but received: ${u(T)}`,...$]}})}function ft(){return F("unknown",()=>!0)}function ht(_,A,T){return new S({..._,coercer:(L,$)=>E(L,A)?_.coercer(T(L,$),$):_.coercer(L,$)})}function He(_,A,T={}){return ht(_,ft(),L=>{let $=typeof A=="function"?A():A;if(L===void 0)return $;if(!T.strict&&o(L)&&o($)){let ct={...L},tt=!1;for(let ot in $)ct[ot]===void 0&&(ct[ot]=$[ot],tt=!0);if(tt)return ct}return L})}function bt(_){return ht(_,Gt(),A=>A.trim())}function St(_){return Ie(_,"empty",A=>{let T=nr(A);return T===0||`Expected an empty ${_.type} but received one with a size of \\`${T}\\``})}function nr(_){return _ instanceof Map||_ instanceof Set?_.size:_.length}function _t(_,A,T={}){let{exclusive:L}=T;return Ie(_,"max",$=>L?$<A:$<=A||`Expected a ${_.type} less than ${L?"":"or equal to "}${A} but received \\`${$}\\``)}function Et(_,A,T={}){let{exclusive:L}=T;return Ie(_,"min",$=>L?$>A:$>=A||`Expected a ${_.type} greater than ${L?"":"or equal to "}${A} but received \\`${$}\\``)}function ir(_){return Ie(_,"nonempty",A=>nr(A)>0||`Expected a nonempty ${_.type} but received an empty one`)}function wt(_,A){return Ie(_,"pattern",T=>A.test(T)||`Expected a ${_.type} matching \\`/${A.source}/\\` but received "${T}"`)}function gt(_,A,T=A){let L=`Expected a ${_.type}`,$=A===T?`of \\`${A}\\``:`between \\`${A}\\` and \\`${T}\\``;return Ie(_,"size",ct=>{if(typeof ct=="number"||ct instanceof Date)return A<=ct&&ct<=T||`${L} ${$} but received \\`${ct}\\``;if(ct instanceof Map||ct instanceof Set){let{size:tt}=ct;return A<=tt&&tt<=T||`${L} with a size ${$} but received one with a size of \\`${tt}\\``}else{let{length:tt}=ct;return A<=tt&&tt<=T||`${L} with a length ${$} but received one with a length of \\`${tt}\\``}})}function Ie(_,A,T){return new S({..._,*refiner(L,$){yield*_.refiner(L,$);let ct=T(L,$),tt=x(ct,$,_,L);for(let ot of tt)yield{...ot,refinement:A}}})}r.Struct=S,r.StructError=t,r.any=pt,r.array=Z,r.assert=P,r.assign=C,r.bigint=kt,r.boolean=w,r.coerce=ht,r.create=I,r.date=s,r.defaulted=He,r.define=F,r.deprecated=U,r.dynamic=K,r.empty=St,r.enums=c,r.func=f,r.instance=h,r.integer=p,r.intersection=b,r.is=E,r.lazy=G,r.literal=v,r.map=y,r.mask=R,r.max=_t,r.min=Et,r.never=a,r.nonempty=ir,r.nullable=m,r.number=O,r.object=N,r.omit=H,r.optional=q,r.partial=Y,r.pattern=wt,r.pick=X,r.record=W,r.refine=Ie,r.regexp=J,r.set=Q,r.size=gt,r.string=Gt,r.struct=xt,r.trimmed=bt,r.tuple=it,r.type=nt,r.union=fe,r.unknown=ft,r.validate=M})});function wi(){if(!Os&&(Os=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Os))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Os(ip)}var T1,Os,ip,xa=xe(()=>{T1=V(j()),ip=new Uint8Array(16)});var P1,bf,wf=xe(()=>{P1=V(j()),bf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function sp(r){return typeof r=="string"&&bf.test(r)}var N1,Fr,vi=xe(()=>{N1=V(j());wf();Fr=sp});function op(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(_e[r[t+0]]+_e[r[t+1]]+_e[r[t+2]]+_e[r[t+3]]+"-"+_e[r[t+4]]+_e[r[t+5]]+"-"+_e[r[t+6]]+_e[r[t+7]]+"-"+_e[r[t+8]]+_e[r[t+9]]+"-"+_e[r[t+10]]+_e[r[t+11]]+_e[r[t+12]]+_e[r[t+13]]+_e[r[t+14]]+_e[r[t+15]]).toLowerCase();if(!Fr(e))throw TypeError("Stringified UUID is invalid");return e}var z1,_e,Ns,Kr,xi=xe(()=>{z1=V(j());vi();_e=[];for(Ns=0;Ns<256;++Ns)_e.push((Ns+256).toString(16).substr(1));Kr=op});function ap(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var o=r.node||vf,u=r.clockseq!==void 0?r.clockseq:ka;if(o==null||u==null){var d=r.random||(r.rng||wi)();o==null&&(o=vf=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),u==null&&(u=ka=(d[6]<<8|d[7])&16383)}var g=r.msecs!==void 0?r.msecs:Date.now(),x=r.nsecs!==void 0?r.nsecs:_a+1,k=g-Sa+(x-_a)/1e4;if(k<0&&r.clockseq===void 0&&(u=u+1&16383),(k<0||g>Sa)&&r.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can\'t create more than 10M uuids/sec");Sa=g,_a=x,ka=u,g+=122192928e5;var S=((g&268435455)*1e4+x)%4294967296;i[n++]=S>>>24&255,i[n++]=S>>>16&255,i[n++]=S>>>8&255,i[n++]=S&255;var P=g/4294967296*1e4&268435455;i[n++]=P>>>8&255,i[n++]=P&255,i[n++]=P>>>24&15|16,i[n++]=P>>>16&255,i[n++]=u>>>8|128,i[n++]=u&255;for(var I=0;I<6;++I)i[n+I]=o[I];return t||Kr(i)}var W1,vf,ka,Sa,_a,xf,kf=xe(()=>{W1=V(j());xa();xi();Sa=0,_a=0;xf=ap});function up(r){if(!Fr(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var V1,Us,Ea=xe(()=>{V1=V(j());vi();Us=up});function cp(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function qs(r,t,e){function n(i,o,u,d){if(typeof i=="string"&&(i=cp(i)),typeof o=="string"&&(o=Us(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+i.length);if(g.set(o),g.set(i,o.length),g=e(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,u){d=d||0;for(var x=0;x<16;++x)u[d+x]=g[x];return u}return Kr(g)}try{n.name=r}catch{}return n.DNS=fp,n.URL=lp,n}var Y1,fp,lp,Ba=xe(()=>{Y1=V(j());xi();Ea();fp="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lp="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function hp(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return dp(pp(yp(r),r.length*8))}function dp(r){for(var t=[],e=r.length*32,n="0123456789abcdef",i=0;i<e;i+=8){var o=r[i>>5]>>>i%32&255,u=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(u)}return t}function Sf(r){return(r+64>>>9<<4)+14+1}function pp(r,t){r[t>>5]|=128<<t%32,r[Sf(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,o=271733878,u=0;u<r.length;u+=16){var d=e,g=n,x=i,k=o;e=Re(e,n,i,o,r[u],7,-680876936),o=Re(o,e,n,i,r[u+1],12,-389564586),i=Re(i,o,e,n,r[u+2],17,606105819),n=Re(n,i,o,e,r[u+3],22,-1044525330),e=Re(e,n,i,o,r[u+4],7,-176418897),o=Re(o,e,n,i,r[u+5],12,1200080426),i=Re(i,o,e,n,r[u+6],17,-1473231341),n=Re(n,i,o,e,r[u+7],22,-45705983),e=Re(e,n,i,o,r[u+8],7,1770035416),o=Re(o,e,n,i,r[u+9],12,-1958414417),i=Re(i,o,e,n,r[u+10],17,-42063),n=Re(n,i,o,e,r[u+11],22,-1990404162),e=Re(e,n,i,o,r[u+12],7,1804603682),o=Re(o,e,n,i,r[u+13],12,-40341101),i=Re(i,o,e,n,r[u+14],17,-1502002290),n=Re(n,i,o,e,r[u+15],22,1236535329),e=Te(e,n,i,o,r[u+1],5,-165796510),o=Te(o,e,n,i,r[u+6],9,-1069501632),i=Te(i,o,e,n,r[u+11],14,643717713),n=Te(n,i,o,e,r[u],20,-373897302),e=Te(e,n,i,o,r[u+5],5,-701558691),o=Te(o,e,n,i,r[u+10],9,38016083),i=Te(i,o,e,n,r[u+15],14,-660478335),n=Te(n,i,o,e,r[u+4],20,-405537848),e=Te(e,n,i,o,r[u+9],5,568446438),o=Te(o,e,n,i,r[u+14],9,-1019803690),i=Te(i,o,e,n,r[u+3],14,-187363961),n=Te(n,i,o,e,r[u+8],20,1163531501),e=Te(e,n,i,o,r[u+13],5,-1444681467),o=Te(o,e,n,i,r[u+2],9,-51403784),i=Te(i,o,e,n,r[u+7],14,1735328473),n=Te(n,i,o,e,r[u+12],20,-1926607734),e=Le(e,n,i,o,r[u+5],4,-378558),o=Le(o,e,n,i,r[u+8],11,-2022574463),i=Le(i,o,e,n,r[u+11],16,1839030562),n=Le(n,i,o,e,r[u+14],23,-35309556),e=Le(e,n,i,o,r[u+1],4,-1530992060),o=Le(o,e,n,i,r[u+4],11,1272893353),i=Le(i,o,e,n,r[u+7],16,-155497632),n=Le(n,i,o,e,r[u+10],23,-1094730640),e=Le(e,n,i,o,r[u+13],4,681279174),o=Le(o,e,n,i,r[u],11,-358537222),i=Le(i,o,e,n,r[u+3],16,-722521979),n=Le(n,i,o,e,r[u+6],23,76029189),e=Le(e,n,i,o,r[u+9],4,-640364487),o=Le(o,e,n,i,r[u+12],11,-421815835),i=Le(i,o,e,n,r[u+15],16,530742520),n=Le(n,i,o,e,r[u+2],23,-995338651),e=Pe(e,n,i,o,r[u],6,-198630844),o=Pe(o,e,n,i,r[u+7],10,1126891415),i=Pe(i,o,e,n,r[u+14],15,-1416354905),n=Pe(n,i,o,e,r[u+5],21,-57434055),e=Pe(e,n,i,o,r[u+12],6,1700485571),o=Pe(o,e,n,i,r[u+3],10,-1894986606),i=Pe(i,o,e,n,r[u+10],15,-1051523),n=Pe(n,i,o,e,r[u+1],21,-2054922799),e=Pe(e,n,i,o,r[u+8],6,1873313359),o=Pe(o,e,n,i,r[u+15],10,-30611744),i=Pe(i,o,e,n,r[u+6],15,-1560198380),n=Pe(n,i,o,e,r[u+13],21,1309151649),e=Pe(e,n,i,o,r[u+4],6,-145523070),o=Pe(o,e,n,i,r[u+11],10,-1120210379),i=Pe(i,o,e,n,r[u+2],15,718787259),n=Pe(n,i,o,e,r[u+9],21,-343485551),e=Dr(e,d),n=Dr(n,g),i=Dr(i,x),o=Dr(o,k)}return[e,n,i,o]}function yp(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(Sf(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Dr(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function gp(r,t){return r<<t|r>>>32-t}function zs(r,t,e,n,i,o){return Dr(gp(Dr(Dr(t,r),Dr(n,o)),i),e)}function Re(r,t,e,n,i,o,u){return zs(t&e|~t&n,r,t,i,o,u)}function Te(r,t,e,n,i,o,u){return zs(t&n|e&~n,r,t,i,o,u)}function Le(r,t,e,n,i,o,u){return zs(t^e^n,r,t,i,o,u)}function Pe(r,t,e,n,i,o,u){return zs(e^(t|~n),r,t,i,o,u)}var X1,_f,Ef=xe(()=>{X1=V(j());_f=hp});var rb,mp,Bf,If=xe(()=>{rb=V(j());Ba();Ef();mp=qs("v3",48,_f),Bf=mp});function bp(r,t,e){r=r||{};var n=r.random||(r.rng||wi)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return Kr(n)}var ob,Af,Mf=xe(()=>{ob=V(j());xa();xi();Af=bp});function wp(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Ia(r,t){return r<<t|r>>>32-t}function vp(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,u=Math.ceil(o/16),d=new Array(u),g=0;g<u;++g){for(var x=new Uint32Array(16),k=0;k<16;++k)x[k]=r[g*64+k*4]<<24|r[g*64+k*4+1]<<16|r[g*64+k*4+2]<<8|r[g*64+k*4+3];d[g]=x}d[u-1][14]=(r.length-1)*8/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=(r.length-1)*8&4294967295;for(var S=0;S<u;++S){for(var P=new Uint32Array(80),I=0;I<16;++I)P[I]=d[S][I];for(var R=16;R<80;++R)P[R]=Ia(P[R-3]^P[R-8]^P[R-14]^P[R-16],1);for(var E=e[0],M=e[1],C=e[2],F=e[3],U=e[4],K=0;K<80;++K){var G=Math.floor(K/20),H=Ia(E,5)+wp(G,M,C,F)+U+t[G]+P[K]>>>0;U=F,F=C,C=Ia(M,30)>>>0,M=E,E=H}e[0]=e[0]+E>>>0,e[1]=e[1]+M>>>0,e[2]=e[2]+C>>>0,e[3]=e[3]+F>>>0,e[4]=e[4]+U>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var ub,Rf,Tf=xe(()=>{ub=V(j());Rf=vp});var hb,xp,Lf,Pf=xe(()=>{hb=V(j());Ba();Tf();xp=qs("v5",80,Rf),Lf=xp});var pb,Cf,Of=xe(()=>{pb=V(j()),Cf="00000000-0000-0000-0000-000000000000"});function kp(r){if(!Fr(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var mb,Nf,Uf=xe(()=>{mb=V(j());vi();Nf=kp});var Aa={};mu(Aa,{NIL:()=>Cf,parse:()=>Us,stringify:()=>Kr,v1:()=>xf,v3:()=>Bf,v4:()=>Af,v5:()=>Lf,validate:()=>Fr,version:()=>Nf});var bb,Ma=xe(()=>{bb=V(j());kf();If();Mf();Pf();Of();Uf();vi();xi();Ea()});var zf=Ht((Ab,qf)=>{"use strict";var Mb=V(j()),Sp=(Ma(),po(Aa)).v4,_p=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:r};if(i===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof e>"u"){let u=typeof n.generator=="function"?n.generator:function(){return Sp()};o.id=u(o,n)}else i===2&&e===null?n.notificationIdNull&&(o.id=null):o.id=e;return o};qf.exports=_p});var Kf=Ht((Rb,Ff)=>{"use strict";var Tb=V(j()),Ep=(Ma(),po(Aa)).v4,Bp=zf(),ki=function(r,t){if(!(this instanceof ki))return new ki(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Ep()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};Ff.exports=ki;ki.prototype.request=function(r,t,e,n){let i=this,o=null,u=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&u)throw new TypeError("JSON-RPC 1.0 does not support batching");if(u||!u&&r&&typeof r=="object"&&typeof t=="function")n=t,o=r;else{typeof e=="function"&&(n=e,e=void 0);let x=typeof n=="function";try{o=Bp(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(k){if(x)return n(k);throw k}if(!x)return o}let g;try{g=JSON.stringify(o,this.options.replacer)}catch(x){return n(x)}return this.callServer(g,function(x,k){i._parseResponse(x,k,n)}),o};ki.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return e(i)}if(e.length===3)if(Array.isArray(n)){let i=function(u){return typeof u.error<"u"},o=function(u){return!i(u)};return e(null,n.filter(i),n.filter(o))}else return e(null,n.error,n.result);e(null,n)}});var Wf=Ht((Lb,Ra)=>{"use strict";var Pb=V(j()),Ip=Object.prototype.hasOwnProperty,Ue="~";function Si(){}Object.create&&(Si.prototype=Object.create(null),new Si().__proto__||(Ue=!1));function Ap(r,t,e){this.fn=r,this.context=t,this.once=e||!1}function Df(r,t,e,n,i){if(typeof e!="function")throw new TypeError("The listener must be a function");var o=new Ap(e,n||r,i),u=Ue?Ue+t:t;return r._events[u]?r._events[u].fn?r._events[u]=[r._events[u],o]:r._events[u].push(o):(r._events[u]=o,r._eventsCount++),r}function Fs(r,t){--r._eventsCount===0?r._events=new Si:delete r._events[t]}function Ce(){this._events=new Si,this._eventsCount=0}Ce.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)Ip.call(e,n)&&t.push(Ue?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};Ce.prototype.listeners=function(t){var e=Ue?Ue+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,u=new Array(o);i<o;i++)u[i]=n[i].fn;return u};Ce.prototype.listenerCount=function(t){var e=Ue?Ue+t:t,n=this._events[e];return n?n.fn?1:n.length:0};Ce.prototype.emit=function(t,e,n,i,o,u){var d=Ue?Ue+t:t;if(!this._events[d])return!1;var g=this._events[d],x=arguments.length,k,S;if(g.fn){switch(g.once&&this.removeListener(t,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,e),!0;case 3:return g.fn.call(g.context,e,n),!0;case 4:return g.fn.call(g.context,e,n,i),!0;case 5:return g.fn.call(g.context,e,n,i,o),!0;case 6:return g.fn.call(g.context,e,n,i,o,u),!0}for(S=1,k=new Array(x-1);S<x;S++)k[S-1]=arguments[S];g.fn.apply(g.context,k)}else{var P=g.length,I;for(S=0;S<P;S++)switch(g[S].once&&this.removeListener(t,g[S].fn,void 0,!0),x){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,e);break;case 3:g[S].fn.call(g[S].context,e,n);break;case 4:g[S].fn.call(g[S].context,e,n,i);break;default:if(!k)for(I=1,k=new Array(x-1);I<x;I++)k[I-1]=arguments[I];g[S].fn.apply(g[S].context,k)}}return!0};Ce.prototype.on=function(t,e,n){return Df(this,t,e,n,!1)};Ce.prototype.once=function(t,e,n){return Df(this,t,e,n,!0)};Ce.prototype.removeListener=function(t,e,n,i){var o=Ue?Ue+t:t;if(!this._events[o])return this;if(!e)return Fs(this,o),this;var u=this._events[o];if(u.fn)u.fn===e&&(!i||u.once)&&(!n||u.context===n)&&Fs(this,o);else{for(var d=0,g=[],x=u.length;d<x;d++)(u[d].fn!==e||i&&!u[d].once||n&&u[d].context!==n)&&g.push(u[d]);g.length?this._events[o]=g.length===1?g[0]:g:Fs(this,o)}return this};Ce.prototype.removeAllListeners=function(t){var e;return t?(e=Ue?Ue+t:t,this._events[e]&&Fs(this,e)):(this._events=new Si,this._eventsCount=0),this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.addListener=Ce.prototype.on;Ce.prefixed=Ue;Ce.EventEmitter=Ce;typeof Ra<"u"&&(Ra.exports=Ce)});var Gf=Ht(_i=>{"use strict";var Ob=V(j()),Mp=On(),Hf=Wf(),Rp=class extends Hf.EventEmitter{socket;constructor(r,t,e){super(),this.socket=new window.WebSocket(r,e),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(r,t,e){let n=e||t;try{this.socket.send(r),n()}catch(i){n(i)}}close(r,t){this.socket.close(r,t)}addEventListener(r,t,e){this.socket.addEventListener(r,t,e)}};function $f(r,t){return new Rp(r,t)}var Vf=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},jf=class extends Hf.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,t="ws://localhost:8080",{autoconnect:e=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...u}={},d,g){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=d||(()=>++this.rpc_id),g?this.dataPack=g:this.dataPack=new Vf,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,t,e,n){return!n&&typeof e=="object"&&(n=e,e=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));let u=this.generate_request_id(r,t),d={jsonrpc:"2.0",method:r,params:t||void 0,id:u};this.socket.send(this.dataPack.encode(d),n,g=>{if(g)return o(g);this.queue[u]={promise:[i,o]},e&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],o(new Error("reply timeout"))},e))})})}async login(r){let t=await this.call("rpc.login",r);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(r,t){return new Promise((e,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:r,params:t};this.socket.send(this.dataPack.encode(i),o=>{if(o)return n(o);e()})})}async subscribe(r){typeof r=="string"&&(r=[r]);let t=await this.call("rpc.on",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed subscribing to an event \'"+r+"\' with: "+t[r]);return t}async unsubscribe(r){typeof r=="string"&&(r=[r]);let t=await this.call("rpc.off",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(r,t){this.socket.close(r||1e3,t)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=Mp.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(let i=0;i<e.params.length;i++)n.push(e.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error(\'Server response malformed. Response must include either "result" or "error", but not both.\')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:e,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",e,n),0),this.ready=!1,this.socket=void 0,e!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,t),this.reconnect_interval)))})}},Tp=class extends jf{constructor(r="ws://localhost:8080",{autoconnect:t=!0,reconnect:e=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},o){super($f,r,{autoconnect:t,reconnect:e,reconnect_interval:n,max_reconnects:i},o)}};_i.Client=Tp;_i.CommonClient=jf;_i.DefaultDataPack=Vf;_i.WebSocket=$f});var rl=Ht(ae=>{"use strict";var Kb=V(j());Object.defineProperty(ae,"__esModule",{value:!0});ae.shake256=ae.shake128=ae.keccak_512=ae.keccak_384=ae.keccak_256=ae.keccak_224=ae.sha3_512=ae.sha3_384=ae.sha3_256=ae.sha3_224=ae.Keccak=ae.keccakP=void 0;var Wn=ui(),Bi=Co(),Er=vr(),Jf=[],Xf=[],Qf=[],Lp=BigInt(0),Ei=BigInt(1),Pp=BigInt(2),Cp=BigInt(7),Op=BigInt(256),Np=BigInt(113);for(let r=0,t=Ei,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],Jf.push(2*(5*n+e)),Xf.push((r+1)*(r+2)/2%64);let i=Lp;for(let o=0;o<7;o++)t=(t<<Ei^(t>>Cp)*Np)%Op,t&Pp&&(i^=Ei<<(Ei<<BigInt(o))-Ei);Qf.push(i)}var[Up,qp]=(0,Bi.split)(Qf,!0),Zf=(r,t,e)=>e>32?(0,Bi.rotlBH)(r,t,e):(0,Bi.rotlSH)(r,t,e),Yf=(r,t,e)=>e>32?(0,Bi.rotlBL)(r,t,e):(0,Bi.rotlSL)(r,t,e);function tl(r,t=24){let e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let u=0;u<10;u++)e[u]=r[u]^r[u+10]^r[u+20]^r[u+30]^r[u+40];for(let u=0;u<10;u+=2){let d=(u+8)%10,g=(u+2)%10,x=e[g],k=e[g+1],S=Zf(x,k,1)^e[d],P=Yf(x,k,1)^e[d+1];for(let I=0;I<50;I+=10)r[u+I]^=S,r[u+I+1]^=P}let i=r[2],o=r[3];for(let u=0;u<24;u++){let d=Xf[u],g=Zf(i,o,d),x=Yf(i,o,d),k=Jf[u];i=r[k],o=r[k+1],r[k]=g,r[k+1]=x}for(let u=0;u<50;u+=10){for(let d=0;d<10;d++)e[d]=r[u+d];for(let d=0;d<10;d++)r[u+d]^=~e[(d+2)%10]&e[(d+4)%10]}r[0]^=Up[n],r[1]^=qp[n]}e.fill(0)}ae.keccakP=tl;var Ii=class r extends Er.Hash{constructor(t,e,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Wn.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Er.u32)(this.state)}keccak(){Er.isLE||(0,Er.byteSwap32)(this.state32),tl(this.state32,this.rounds),Er.isLE||(0,Er.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,Wn.exists)(this);let{blockLen:e,state:n}=this;t=(0,Er.toBytes)(t);let i=t.length;for(let o=0;o<i;){let u=Math.min(e-this.pos,i-o);for(let d=0;d<u;d++)n[this.pos++]^=t[o++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:n,blockLen:i}=this;t[n]^=e,e&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,Wn.exists)(this,!1),(0,Wn.bytes)(t),this.finish();let e=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let u=Math.min(n-this.posOut,o-i);t.set(e.subarray(this.posOut,this.posOut+u),i),this.posOut+=u,i+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Wn.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Wn.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:n,outputLen:i,rounds:o,enableXOF:u}=this;return t||(t=new r(e,n,i,u,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=u,t.destroyed=this.destroyed,t}};ae.Keccak=Ii;var Wr=(r,t,e)=>(0,Er.wrapConstructor)(()=>new Ii(t,r,e));ae.sha3_224=Wr(6,144,224/8);ae.sha3_256=Wr(6,136,256/8);ae.sha3_384=Wr(6,104,384/8);ae.sha3_512=Wr(6,72,512/8);ae.keccak_224=Wr(1,144,224/8);ae.keccak_256=Wr(1,136,256/8);ae.keccak_384=Wr(1,104,384/8);ae.keccak_512=Wr(1,72,512/8);var el=(r,t,e)=>(0,Er.wrapXOFConstructorWithOpts)((n={})=>new Ii(t,r,n.dkLen===void 0?e:n.dkLen,!0));ae.shake128=el(31,168,128/8);ae.shake256=el(31,136,256/8)});var il=Ht(Sn=>{"use strict";var Wb=V(j());Object.defineProperty(Sn,"__esModule",{value:!0});Sn.hmac=Sn.HMAC=void 0;var Ks=ui(),nl=vr(),Ai=class extends nl.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,Ks.hash)(t);let n=(0,nl.toBytes)(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let u=0;u<o.length;u++)o[u]^=54;this.iHash.update(o),this.oHash=t.create();for(let u=0;u<o.length;u++)o[u]^=106;this.oHash.update(o),o.fill(0)}update(t){return(0,Ks.exists)(this),this.iHash.update(t),this}digestInto(t){(0,Ks.exists)(this),(0,Ks.bytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:i,destroyed:o,blockLen:u,outputLen:d}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=u,t.outputLen=d,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Sn.HMAC=Ai;var zp=(r,t,e)=>new Ai(r,t).update(e).digest();Sn.hmac=zp;Sn.hmac.create=(r,t)=>new Ai(r,t)});var La=Ht(qe=>{"use strict";var Vb=V(j());Object.defineProperty(qe,"__esModule",{value:!0});qe.DER=void 0;qe.weierstrassPoints=ol;qe.weierstrass=Hp;qe.SWUFpSqrtRatio=al;qe.mapToCurveSimpleSWU=$p;var Ta=$o(),Hn=Pr(),de=Qe(),lr=Qe();function Fp(r){let t=(0,Ta.validateBasic)(r);de.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:i}=t;if(e){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:Kp,hexToBytes:Dp}=de;qe.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){let{Err:t}=qe.DER;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Kp(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=qe.DER,e=typeof r=="string"?Dp(r):r;de.abytes(e);let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=qe.DER._parseInt(e.subarray(2)),{d:u,l:d}=qe.DER._parseInt(o);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:u}},hexFromSig(r){let t=x=>Number.parseInt(x[0],16)&8?"00"+x:x,e=x=>{let k=x.toString(16);return k.length&1?`0${k}`:k},n=t(e(r.s)),i=t(e(r.r)),o=n.length/2,u=i.length/2,d=e(o),g=e(u);return`30${e(u+o+4)}02${g}${i}02${d}${n}`}};var rr=BigInt(0),ye=BigInt(1),Hr=BigInt(2),Ds=BigInt(3),sl=BigInt(4);function ol(r){let t=Fp(r),{Fp:e}=t,n=t.toBytes||((R,E,M)=>{let C=E.toAffine();return de.concatBytes(Uint8Array.from([4]),e.toBytes(C.x),e.toBytes(C.y))}),i=t.fromBytes||(R=>{let E=R.subarray(1),M=e.fromBytes(E.subarray(0,e.BYTES)),C=e.fromBytes(E.subarray(e.BYTES,2*e.BYTES));return{x:M,y:C}});function o(R){let{a:E,b:M}=t,C=e.sqr(R),F=e.mul(C,R);return e.add(e.add(F,e.mul(R,E)),M)}if(!e.eql(e.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function u(R){return typeof R=="bigint"&&rr<R&&R<t.n}function d(R){if(!u(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function g(R){let{allowedPrivateKeyLengths:E,nByteLength:M,wrapPrivateKey:C,n:F}=t;if(E&&typeof R!="bigint"){if(de.isBytes(R)&&(R=de.bytesToHex(R)),typeof R!="string"||!E.includes(R.length))throw new Error("Invalid key");R=R.padStart(M*2,"0")}let U;try{U=typeof R=="bigint"?R:de.bytesToNumberBE((0,lr.ensureBytes)("private key",R,M))}catch{throw new Error(`private key must be ${M} bytes, hex or bigint, not ${typeof R}`)}return C&&(U=Hn.mod(U,F)),d(U),U}let x=new Map;function k(R){if(!(R instanceof S))throw new Error("ProjectivePoint expected")}class S{constructor(E,M,C){if(this.px=E,this.py=M,this.pz=C,E==null||!e.isValid(E))throw new Error("x required");if(M==null||!e.isValid(M))throw new Error("y required");if(C==null||!e.isValid(C))throw new Error("z required")}static fromAffine(E){let{x:M,y:C}=E||{};if(!E||!e.isValid(M)||!e.isValid(C))throw new Error("invalid affine point");if(E instanceof S)throw new Error("projective point not allowed");let F=U=>e.eql(U,e.ZERO);return F(M)&&F(C)?S.ZERO:new S(M,C,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){let M=e.invertBatch(E.map(C=>C.pz));return E.map((C,F)=>C.toAffine(M[F])).map(S.fromAffine)}static fromHex(E){let M=S.fromAffine(i((0,lr.ensureBytes)("pointHex",E)));return M.assertValidity(),M}static fromPrivateKey(E){return S.BASE.multiply(g(E))}_setWindowSize(E){this._WINDOW_SIZE=E,x.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:E,y:M}=this.toAffine();if(!e.isValid(E)||!e.isValid(M))throw new Error("bad point: x or y not FE");let C=e.sqr(M),F=o(E);if(!e.eql(C,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:E}=this.toAffine();if(e.isOdd)return!e.isOdd(E);throw new Error("Field doesn\'t support isOdd")}equals(E){k(E);let{px:M,py:C,pz:F}=this,{px:U,py:K,pz:G}=E,H=e.eql(e.mul(M,G),e.mul(U,F)),Y=e.eql(e.mul(C,G),e.mul(K,F));return H&&Y}negate(){return new S(this.px,e.neg(this.py),this.pz)}double(){let{a:E,b:M}=t,C=e.mul(M,Ds),{px:F,py:U,pz:K}=this,G=e.ZERO,H=e.ZERO,Y=e.ZERO,X=e.mul(F,F),xt=e.mul(U,U),pt=e.mul(K,K),Z=e.mul(F,U);return Z=e.add(Z,Z),Y=e.mul(F,K),Y=e.add(Y,Y),G=e.mul(E,Y),H=e.mul(C,pt),H=e.add(G,H),G=e.sub(xt,H),H=e.add(xt,H),H=e.mul(G,H),G=e.mul(Z,G),Y=e.mul(C,Y),pt=e.mul(E,pt),Z=e.sub(X,pt),Z=e.mul(E,Z),Z=e.add(Z,Y),Y=e.add(X,X),X=e.add(Y,X),X=e.add(X,pt),X=e.mul(X,Z),H=e.add(H,X),pt=e.mul(U,K),pt=e.add(pt,pt),X=e.mul(pt,Z),G=e.sub(G,X),Y=e.mul(pt,xt),Y=e.add(Y,Y),Y=e.add(Y,Y),new S(G,H,Y)}add(E){k(E);let{px:M,py:C,pz:F}=this,{px:U,py:K,pz:G}=E,H=e.ZERO,Y=e.ZERO,X=e.ZERO,xt=t.a,pt=e.mul(t.b,Ds),Z=e.mul(M,U),kt=e.mul(C,K),w=e.mul(F,G),s=e.add(M,C),c=e.add(U,K);s=e.mul(s,c),c=e.add(Z,kt),s=e.sub(s,c),c=e.add(M,F);let f=e.add(U,G);return c=e.mul(c,f),f=e.add(Z,w),c=e.sub(c,f),f=e.add(C,F),H=e.add(K,G),f=e.mul(f,H),H=e.add(kt,w),f=e.sub(f,H),X=e.mul(xt,c),H=e.mul(pt,w),X=e.add(H,X),H=e.sub(kt,X),X=e.add(kt,X),Y=e.mul(H,X),kt=e.add(Z,Z),kt=e.add(kt,Z),w=e.mul(xt,w),c=e.mul(pt,c),kt=e.add(kt,w),w=e.sub(Z,w),w=e.mul(xt,w),c=e.add(c,w),Z=e.mul(kt,c),Y=e.add(Y,Z),Z=e.mul(f,c),H=e.mul(s,H),H=e.sub(H,Z),Z=e.mul(s,kt),X=e.mul(f,X),X=e.add(X,Z),new S(H,Y,X)}subtract(E){return this.add(E.negate())}is0(){return this.equals(S.ZERO)}wNAF(E){return I.wNAFCached(this,x,E,M=>{let C=e.invertBatch(M.map(F=>F.pz));return M.map((F,U)=>F.toAffine(C[U])).map(S.fromAffine)})}multiplyUnsafe(E){let M=S.ZERO;if(E===rr)return M;if(d(E),E===ye)return this;let{endo:C}=t;if(!C)return I.unsafeLadder(this,E);let{k1neg:F,k1:U,k2neg:K,k2:G}=C.splitScalar(E),H=M,Y=M,X=this;for(;U>rr||G>rr;)U&ye&&(H=H.add(X)),G&ye&&(Y=Y.add(X)),X=X.double(),U>>=ye,G>>=ye;return F&&(H=H.negate()),K&&(Y=Y.negate()),Y=new S(e.mul(Y.px,C.beta),Y.py,Y.pz),H.add(Y)}multiply(E){d(E);let M=E,C,F,{endo:U}=t;if(U){let{k1neg:K,k1:G,k2neg:H,k2:Y}=U.splitScalar(M),{p:X,f:xt}=this.wNAF(G),{p:pt,f:Z}=this.wNAF(Y);X=I.constTimeNegate(K,X),pt=I.constTimeNegate(H,pt),pt=new S(e.mul(pt.px,U.beta),pt.py,pt.pz),C=X.add(pt),F=xt.add(Z)}else{let{p:K,f:G}=this.wNAF(M);C=K,F=G}return S.normalizeZ([C,F])[0]}multiplyAndAddUnsafe(E,M,C){let F=S.BASE,U=(G,H)=>H===rr||H===ye||!G.equals(F)?G.multiplyUnsafe(H):G.multiply(H),K=U(this,M).add(U(E,C));return K.is0()?void 0:K}toAffine(E){let{px:M,py:C,pz:F}=this,U=this.is0();E==null&&(E=U?e.ONE:e.inv(F));let K=e.mul(M,E),G=e.mul(C,E),H=e.mul(F,E);if(U)return{x:e.ZERO,y:e.ZERO};if(!e.eql(H,e.ONE))throw new Error("invZ was invalid");return{x:K,y:G}}isTorsionFree(){let{h:E,isTorsionFree:M}=t;if(E===ye)return!0;if(M)return M(S,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:E,clearCofactor:M}=t;return E===ye?this:M?M(S,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return this.assertValidity(),n(S,this,E)}toHex(E=!0){return de.bytesToHex(this.toRawBytes(E))}}S.BASE=new S(t.Gx,t.Gy,e.ONE),S.ZERO=new S(e.ZERO,e.ONE,e.ZERO);let P=t.nBitLength,I=(0,Ta.wNAF)(S,t.endo?Math.ceil(P/2):P);return{CURVE:t,ProjectivePoint:S,normPrivateKeyToScalar:g,weierstrassEquation:o,isWithinCurveOrder:u}}function Wp(r){let t=(0,Ta.validateBasic)(r);return de.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Hp(r){let t=Wp(r),{Fp:e,n}=t,i=e.BYTES+1,o=2*e.BYTES+1;function u(c){return rr<c&&c<e.ORDER}function d(c){return Hn.mod(c,n)}function g(c){return Hn.invert(c,n)}let{ProjectivePoint:x,normPrivateKeyToScalar:k,weierstrassEquation:S,isWithinCurveOrder:P}=ol({...t,toBytes(c,f,h){let p=f.toAffine(),b=e.toBytes(p.x),v=de.concatBytes;return h?v(Uint8Array.from([f.hasEvenY()?2:3]),b):v(Uint8Array.from([4]),b,e.toBytes(p.y))},fromBytes(c){let f=c.length,h=c[0],p=c.subarray(1);if(f===i&&(h===2||h===3)){let b=de.bytesToNumberBE(p);if(!u(b))throw new Error("Point is not on curve");let v=S(b),y;try{y=e.sqrt(v)}catch(O){let N=O instanceof Error?": "+O.message:"";throw new Error("Point is not on curve"+N)}let a=(y&ye)===ye;return(h&1)===1!==a&&(y=e.neg(y)),{x:b,y}}else if(f===o&&h===4){let b=e.fromBytes(p.subarray(0,e.BYTES)),v=e.fromBytes(p.subarray(e.BYTES,2*e.BYTES));return{x:b,y:v}}else throw new Error(`Point of length ${f} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),I=c=>de.bytesToHex(de.numberToBytesBE(c,t.nByteLength));function R(c){let f=n>>ye;return c>f}function E(c){return R(c)?d(-c):c}let M=(c,f,h)=>de.bytesToNumberBE(c.slice(f,h));class C{constructor(f,h,p){this.r=f,this.s=h,this.recovery=p,this.assertValidity()}static fromCompact(f){let h=t.nByteLength;return f=(0,lr.ensureBytes)("compactSignature",f,h*2),new C(M(f,0,h),M(f,h,2*h))}static fromDER(f){let{r:h,s:p}=qe.DER.toSig((0,lr.ensureBytes)("DER",f));return new C(h,p)}assertValidity(){if(!P(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!P(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(f){return new C(this.r,this.s,f)}recoverPublicKey(f){let{r:h,s:p,recovery:b}=this,v=Y((0,lr.ensureBytes)("msgHash",f));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");let y=b===2||b===3?h+t.n:h;if(y>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let a=b&1?"03":"02",m=x.fromHex(a+I(y)),O=g(y),N=d(-v*O),q=d(p*O),W=x.BASE.multiplyAndAddUnsafe(m,N,q);if(!W)throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return de.hexToBytes(this.toDERHex())}toDERHex(){return qe.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return de.hexToBytes(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let F={isValidPrivateKey(c){try{return k(c),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{let c=Hn.getMinHashLength(t.n);return Hn.mapHashToField(t.randomBytes(c),t.n)},precompute(c=8,f=x.BASE){return f._setWindowSize(c),f.multiply(BigInt(3)),f}};function U(c,f=!0){return x.fromPrivateKey(c).toRawBytes(f)}function K(c){let f=de.isBytes(c),h=typeof c=="string",p=(f||h)&&c.length;return f?p===i||p===o:h?p===2*i||p===2*o:c instanceof x}function G(c,f,h=!0){if(K(c))throw new Error("first arg must be private key");if(!K(f))throw new Error("second arg must be public key");return x.fromHex(f).multiply(k(c)).toRawBytes(h)}let H=t.bits2int||function(c){let f=de.bytesToNumberBE(c),h=c.length*8-t.nBitLength;return h>0?f>>BigInt(h):f},Y=t.bits2int_modN||function(c){return d(H(c))},X=de.bitMask(t.nBitLength);function xt(c){if(typeof c!="bigint")throw new Error("bigint expected");if(!(rr<=c&&c<X))throw new Error(`bigint expected < 2^${t.nBitLength}`);return de.numberToBytesBE(c,t.nByteLength)}function pt(c,f,h=Z){if(["recovered","canonical"].some(Q=>Q in h))throw new Error("sign() legacy options not supported");let{hash:p,randomBytes:b}=t,{lowS:v,prehash:y,extraEntropy:a}=h;v==null&&(v=!0),c=(0,lr.ensureBytes)("msgHash",c),y&&(c=(0,lr.ensureBytes)("prehashed msgHash",p(c)));let m=Y(c),O=k(f),N=[xt(O),xt(m)];if(a!=null&&a!==!1){let Q=a===!0?b(e.BYTES):a;N.push((0,lr.ensureBytes)("extraEntropy",Q))}let q=de.concatBytes(...N),W=m;function J(Q){let Gt=H(Q);if(!P(Gt))return;let it=g(Gt),nt=x.BASE.multiply(Gt).toAffine(),fe=d(nt.x);if(fe===rr)return;let ft=d(it*d(W+fe*O));if(ft===rr)return;let ht=(nt.x===fe?0:2)|Number(nt.y&ye),He=ft;return v&&R(ft)&&(He=E(ft),ht^=1),new C(fe,He,ht)}return{seed:q,k2sig:J}}let Z={lowS:t.lowS,prehash:!1},kt={lowS:t.lowS,prehash:!1};function w(c,f,h=Z){let{seed:p,k2sig:b}=pt(c,f,h),v=t;return de.createHmacDrbg(v.hash.outputLen,v.nByteLength,v.hmac)(p,b)}x.BASE._setWindowSize(8);function s(c,f,h,p=kt){let b=c;if(f=(0,lr.ensureBytes)("msgHash",f),h=(0,lr.ensureBytes)("publicKey",h),"strict"in p)throw new Error("options.strict was renamed to lowS");let{lowS:v,prehash:y}=p,a,m;try{if(typeof b=="string"||de.isBytes(b))try{a=C.fromDER(b)}catch(nt){if(!(nt instanceof qe.DER.Err))throw nt;a=C.fromCompact(b)}else if(typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint"){let{r:nt,s:fe}=b;a=new C(nt,fe)}else throw new Error("PARSE");m=x.fromHex(h)}catch(nt){if(nt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&a.hasHighS())return!1;y&&(f=t.hash(f));let{r:O,s:N}=a,q=Y(f),W=g(N),J=d(q*W),Q=d(O*W),Gt=x.BASE.multiplyAndAddUnsafe(m,J,Q)?.toAffine();return Gt?d(Gt.x)===O:!1}return{CURVE:t,getPublicKey:U,getSharedSecret:G,sign:w,verify:s,ProjectivePoint:x,Signature:C,utils:F}}function al(r,t){let e=r.ORDER,n=rr;for(let R=e-ye;R%Hr===rr;R/=Hr)n+=ye;let i=n,o=Hr<<i-ye-ye,u=o*Hr,d=(e-ye)/u,g=(d-ye)/Hr,x=u-ye,k=o,S=r.pow(t,d),P=r.pow(t,(d+ye)/Hr),I=(R,E)=>{let M=S,C=r.pow(E,x),F=r.sqr(C);F=r.mul(F,E);let U=r.mul(R,F);U=r.pow(U,g),U=r.mul(U,C),C=r.mul(U,E),F=r.mul(U,R);let K=r.mul(F,C);U=r.pow(K,k);let G=r.eql(U,r.ONE);C=r.mul(F,P),U=r.mul(K,M),F=r.cmov(C,F,G),K=r.cmov(U,K,G);for(let H=i;H>ye;H--){let Y=H-Hr;Y=Hr<<Y-ye;let X=r.pow(K,Y),xt=r.eql(X,r.ONE);C=r.mul(F,M),M=r.mul(M,M),X=r.mul(K,M),F=r.cmov(C,F,xt),K=r.cmov(X,K,xt)}return{isValid:G,value:F}};if(r.ORDER%sl===Ds){let R=(r.ORDER-Ds)/sl,E=r.sqrt(r.neg(t));I=(M,C)=>{let F=r.sqr(C),U=r.mul(M,C);F=r.mul(F,U);let K=r.pow(F,R);K=r.mul(K,U);let G=r.mul(K,E),H=r.mul(r.sqr(K),C),Y=r.eql(H,M),X=r.cmov(G,K,Y);return{isValid:Y,value:X}}}return I}function $p(r,t){if(Hn.validateField(r),!r.isValid(t.A)||!r.isValid(t.B)||!r.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let e=al(r,t.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,u,d,g,x,k,S;i=r.sqr(n),i=r.mul(i,t.Z),o=r.sqr(i),o=r.add(o,i),u=r.add(o,r.ONE),u=r.mul(u,t.B),d=r.cmov(t.Z,r.neg(o),!r.eql(o,r.ZERO)),d=r.mul(d,t.A),o=r.sqr(u),x=r.sqr(d),g=r.mul(x,t.A),o=r.add(o,g),o=r.mul(o,u),x=r.mul(x,d),g=r.mul(x,t.B),o=r.add(o,g),k=r.mul(i,u);let{isValid:P,value:I}=e(o,x);S=r.mul(i,n),S=r.mul(S,I),k=r.cmov(k,u,P),S=r.cmov(S,I,P);let R=r.isOdd(n)===r.isOdd(S);return S=r.cmov(r.neg(S),S,R),k=r.div(k,d),{x:k,y:S}}}});var fl=Ht(Ws=>{"use strict";var Gb=V(j());Object.defineProperty(Ws,"__esModule",{value:!0});Ws.getHash=cl;Ws.createCurve=Gp;var Vp=il(),ul=vr(),jp=La();function cl(r){return{hash:r,hmac:(t,...e)=>(0,Vp.hmac)(r,t,(0,ul.concatBytes)(...e)),randomBytes:ul.randomBytes}}function Gp(r,t){let e=n=>(0,jp.weierstrass)({...r,...cl(n)});return Object.freeze({...e(t),create:e})}});var xl=Ht(Ke=>{"use strict";var Yb=V(j());Object.defineProperty(Ke,"__esModule",{value:!0});Ke.encodeToCurve=Ke.hashToCurve=Ke.schnorr=Ke.secp256k1=void 0;var Hs=la(),Zp=vr(),Yp=fl(),dl=Zo(),we=Pr(),Oe=Qe(),Jp=La(),Gs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$s=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pl=BigInt(1),Vs=BigInt(2),ll=(r,t)=>(r+t/Vs)/t;function yl(r){let t=Gs,e=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),u=BigInt(23),d=BigInt(44),g=BigInt(88),x=r*r*r%t,k=x*x*r%t,S=(0,we.pow2)(k,e,t)*k%t,P=(0,we.pow2)(S,e,t)*k%t,I=(0,we.pow2)(P,Vs,t)*x%t,R=(0,we.pow2)(I,i,t)*I%t,E=(0,we.pow2)(R,o,t)*R%t,M=(0,we.pow2)(E,d,t)*E%t,C=(0,we.pow2)(M,g,t)*M%t,F=(0,we.pow2)(C,d,t)*E%t,U=(0,we.pow2)(F,e,t)*k%t,K=(0,we.pow2)(U,u,t)*R%t,G=(0,we.pow2)(K,n,t)*x%t,H=(0,we.pow2)(G,Vs,t);if(!$r.eql($r.sqr(H),r))throw new Error("Cannot find square root");return H}var $r=(0,we.Field)(Gs,void 0,void 0,{sqrt:yl});Ke.secp256k1=(0,Yp.createCurve)({a:BigInt(0),b:BigInt(7),Fp:$r,n:$s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=$s,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=e,u=BigInt("0x100000000000000000000000000000000"),d=ll(o*r,t),g=ll(-n*r,t),x=(0,we.mod)(r-d*e-g*i,t),k=(0,we.mod)(-d*n-g*o,t),S=x>u,P=k>u;if(S&&(x=t-x),P&&(k=t-k),x>u||k>u)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:S,k1:x,k2neg:P,k2:k}}}},Hs.sha256);var Zs=BigInt(0),gl=r=>typeof r=="bigint"&&Zs<r&&r<Gs,Xp=r=>typeof r=="bigint"&&Zs<r&&r<$s,hl={};function js(r,...t){let e=hl[r];if(e===void 0){let n=(0,Hs.sha256)(Uint8Array.from(r,i=>i.charCodeAt(0)));e=(0,Oe.concatBytes)(n,n),hl[r]=e}return(0,Hs.sha256)((0,Oe.concatBytes)(e,...t))}var Na=r=>r.toRawBytes(!0).slice(1),Ca=r=>(0,Oe.numberToBytesBE)(r,32),Pa=r=>(0,we.mod)(r,Gs),Mi=r=>(0,we.mod)(r,$s),Ua=Ke.secp256k1.ProjectivePoint,Qp=(r,t,e)=>Ua.BASE.multiplyAndAddUnsafe(r,t,e);function Oa(r){let t=Ke.secp256k1.utils.normPrivateKeyToScalar(r),e=Ua.fromPrivateKey(t);return{scalar:e.hasEvenY()?t:Mi(-t),bytes:Na(e)}}function ml(r){if(!gl(r))throw new Error("bad x: need 0 < x < p");let t=Pa(r*r),e=Pa(t*r+BigInt(7)),n=yl(e);n%Vs!==Zs&&(n=Pa(-n));let i=new Ua(r,n,pl);return i.assertValidity(),i}function bl(...r){return Mi((0,Oe.bytesToNumberBE)(js("BIP0340/challenge",...r)))}function ty(r){return Oa(r).bytes}function ey(r,t,e=(0,Zp.randomBytes)(32)){let n=(0,Oe.ensureBytes)("message",r),{bytes:i,scalar:o}=Oa(t),u=(0,Oe.ensureBytes)("auxRand",e,32),d=Ca(o^(0,Oe.bytesToNumberBE)(js("BIP0340/aux",u))),g=js("BIP0340/nonce",d,i,n),x=Mi((0,Oe.bytesToNumberBE)(g));if(x===Zs)throw new Error("sign failed: k is zero");let{bytes:k,scalar:S}=Oa(x),P=bl(k,i,n),I=new Uint8Array(64);if(I.set(k,0),I.set(Ca(Mi(S+P*o)),32),!wl(I,n,i))throw new Error("sign: Invalid signature produced");return I}function wl(r,t,e){let n=(0,Oe.ensureBytes)("signature",r,64),i=(0,Oe.ensureBytes)("message",t),o=(0,Oe.ensureBytes)("publicKey",e,32);try{let u=ml((0,Oe.bytesToNumberBE)(o)),d=(0,Oe.bytesToNumberBE)(n.subarray(0,32));if(!gl(d))return!1;let g=(0,Oe.bytesToNumberBE)(n.subarray(32,64));if(!Xp(g))return!1;let x=bl(Ca(d),Na(u),i),k=Qp(u,g,Mi(-x));return!(!k||!k.hasEvenY()||k.toAffine().x!==d)}catch{return!1}}Ke.schnorr={getPublicKey:ty,sign:ey,verify:wl,utils:{randomPrivateKey:Ke.secp256k1.utils.randomPrivateKey,lift_x:ml,pointToBytes:Na,numberToBytesBE:Oe.numberToBytesBE,bytesToNumberBE:Oe.bytesToNumberBE,taggedHash:js,mod:we.mod}};var ry=(0,dl.isogenyMap)($r,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(t=>BigInt(t)))),ny=(0,Jp.mapToCurveSimpleSWU)($r,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:$r.create(BigInt("-11"))}),vl=(0,dl.createHasher)(Ke.secp256k1.ProjectivePoint,r=>{let{x:t,y:e}=ny($r.create(r[0]));return ry(t,e)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:$r.ORDER,m:1,k:128,expand:"xmd",hash:Hs.sha256});Ke.hashToCurve=vl.hashToCurve;Ke.encodeToCurve=vl.encodeToCurve});var lh=Ht(rt=>{"use strict";var Xb=V(j()),yt=On(),Jn=Gc(),iy=Yc(),sy=rf(),kl=la(),qa=df(),Wl=pf(),Ha=yf(),l=mf(),oy=Kf(),Sl=Gf(),_l=rl(),fu=xl();function lu(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function ay(r){if(r&&typeof r=="object"&&"default"in r)return r;var t=Object.create(null);return r&&Object.keys(r).forEach(function(e){if(e!=="default"){var n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:function(){return r[e]}})}}),t.default=r,Object.freeze(t)}var El=lu(iy),Ee=lu(sy),B=ay(Wl),uy=lu(oy),cy=Jn.ed25519.utils.randomPrivateKey,Bl=()=>{let r=Jn.ed25519.utils.randomPrivateKey(),t=Qs(r),e=new Uint8Array(64);return e.set(r),e.set(t,32),{publicKey:t,secretKey:e}},Qs=Jn.ed25519.getPublicKey;function Il(r){try{return Jn.ed25519.ExtendedPoint.fromHex(r),!0}catch{return!1}}var hu=(r,t)=>Jn.ed25519.sign(r,t.slice(0,32)),fy=Jn.ed25519.verify,jt=r=>yt.Buffer.isBuffer(r)?r:r instanceof Uint8Array?yt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):yt.Buffer.from(r),Pi=class{constructor(t){Object.assign(this,t)}encode(){return yt.Buffer.from(qa.serialize(Li,this))}static decode(t){return qa.deserialize(Li,this,t)}static decodeUnchecked(t){return qa.deserializeUnchecked(Li,this,t)}},$a=class extends Pi{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(e=>{this.enum=e})}},Li=new Map,Hl,$l=32,gr=32;function ly(r){return r._bn!==void 0}var Al=1,et=class r extends Pi{constructor(t){if(super({}),this._bn=void 0,ly(t))this._bn=t._bn;else{if(typeof t=="string"){let e=Ee.default.decode(t);if(e.length!=gr)throw new Error("Invalid public key input");this._bn=new El.default(e)}else this._bn=new El.default(t);if(this._bn.byteLength()>gr)throw new Error("Invalid public key input")}}static unique(){let t=new r(Al);return Al+=1,new r(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ee.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(yt.Buffer);if(t.length===gr)return t;let e=yt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){let i=yt.Buffer.concat([t.toBuffer(),yt.Buffer.from(e),n.toBuffer()]),o=kl.sha256(i);return new r(o)}static createProgramAddressSync(t,e){let n=yt.Buffer.alloc(0);t.forEach(function(o){if(o.length>$l)throw new TypeError("Max seed length exceeded");n=yt.Buffer.concat([n,jt(o)])}),n=yt.Buffer.concat([n,e.toBuffer(),yt.Buffer.from("ProgramDerivedAddress")]);let i=kl.sha256(n);if(Il(i))throw new Error("Invalid seeds, address must fall off the curve");return new r(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,i;for(;n!=0;){try{let o=t.concat(yt.Buffer.from([n]));i=this.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){let e=new r(t);return Il(e.toBytes())}};Hl=et;et.default=new Hl("11111111111111111111111111111111");Li.set(et,{kind:"struct",fields:[["_bn","u256"]]});var Va=class{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){let e=jt(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=jt(cy()),this._publicKey=jt(Qs(this._secretKey))}get publicKey(){return new et(this._publicKey)}get secretKey(){return yt.Buffer.concat([this._secretKey,this._publicKey],64)}},hy=new et("BPFLoader1111111111111111111111111111111111"),jr=1232,co=127,Ci=64,Oi=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Oi.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Ni=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Ni.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Vr=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Vr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Bn=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,u)=>{n.set(o.toBase58(),u)});let i=o=>{let u=n.get(o.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(u=>i(u.pubkey)),data:o.data}))}},Zt=(r="publicKey")=>B.blob(32,r),dy=(r="signature")=>B.blob(64,r),En=(r="string")=>{let t=B.struct([B.u32("length"),B.u32("lengthPadding"),B.blob(B.offset(B.u32(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(o,u)=>e(o,u).chars.toString(),i.encode=(o,u,d)=>{let g={chars:yt.Buffer.from(o,"utf8")};return n(g,u,d)},i.alloc=o=>B.u32().span+B.u32().span+yt.Buffer.from(o,"utf8").length,i},py=(r="authorized")=>B.struct([Zt("staker"),Zt("withdrawer")],r),yy=(r="lockup")=>B.struct([B.ns64("unixTimestamp"),B.ns64("epoch"),Zt("custodian")],r),gy=(r="voteInit")=>B.struct([Zt("nodePubkey"),Zt("authorizedVoter"),Zt("authorizedWithdrawer"),B.u8("commission")],r),my=(r="voteAuthorizeWithSeedArgs")=>B.struct([B.u32("voteAuthorizationType"),Zt("currentAuthorityDerivedKeyOwnerPubkey"),En("currentAuthorityDerivedKeySeed"),Zt("newAuthorized")],r);function Vl(r,t){let e=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){let o=t[i.property];if(Array.isArray(o))return o.length*e(i.elementLayout)}else if("fields"in i)return Vl({layout:i},t[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=e(i)}),n}function De(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Ze(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function Xt(r,t){if(!r)throw new Error(t||"Assertion failed")}var to=class r{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let n=new Map,i=u=>{let d=u.toBase58(),g=n.get(d);return g===void 0&&(g={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(d,g)),g},o=i(e);o.isSigner=!0,o.isWritable=!0;for(let u of t){i(u.programId).isInvoked=!0;for(let d of u.keys){let g=i(d.pubkey);g.isSigner||=d.isSigner,g.isWritable||=d.isWritable}}return new r(e,n)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];Xt(t.length<=256,"Max static account keys length exceeded");let e=t.filter(([,g])=>g.isSigner&&g.isWritable),n=t.filter(([,g])=>g.isSigner&&!g.isWritable),i=t.filter(([,g])=>!g.isSigner&&g.isWritable),o=t.filter(([,g])=>!g.isSigner&&!g.isWritable),u={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Xt(e.length>0,"Expected at least one writable signer key");let[g]=e[0];Xt(g===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let d=[...e.map(([g])=>new et(g)),...n.map(([g])=>new et(g)),...i.map(([g])=>new et(g)),...o.map(([g])=>new et(g))];return[u,d]}extractTableLookup(t){let[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(e.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(t,e){let n=new Array,i=new Array;for(let[o,u]of this.keyMetaMap.entries())if(e(u)){let d=new et(o),g=t.findIndex(x=>x.equals(d));g>=0&&(Xt(g<256,"Max lookup table index exceeded"),n.push(g),i.push(d),this.keyMetaMap.delete(o))}return[n,i]}},jl="Reached end of buffer unexpectedly";function dr(r){if(r.length===0)throw new Error(jl);return r.shift()}function We(r,...t){let[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(jl);return r.splice(...t)}var mr=class r{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new et(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ee.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Bn(this.staticAccountKeys)}static compile(t){let e=to.compile(t.instructions,t.payerKey),[n,i]=e.getMessageComponents(),u=new Bn(i).compileInstructions(t.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:Ee.default.encode(d.data)}));return new r({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:u})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let n=t-e,o=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];Ze(e,t);let n=this.instructions.map(S=>{let{accounts:P,programIdIndex:I}=S,R=Array.from(Ee.default.decode(S.data)),E=[];Ze(E,P.length);let M=[];return Ze(M,R.length),{programIdIndex:I,keyIndicesCount:yt.Buffer.from(E),keyIndices:P,dataLength:yt.Buffer.from(M),data:R}}),i=[];Ze(i,n.length);let o=yt.Buffer.alloc(jr);yt.Buffer.from(i).copy(o);let u=i.length;n.forEach(S=>{let I=B.struct([B.u8("programIdIndex"),B.blob(S.keyIndicesCount.length,"keyIndicesCount"),B.seq(B.u8("keyIndex"),S.keyIndices.length,"keyIndices"),B.blob(S.dataLength.length,"dataLength"),B.seq(B.u8("userdatum"),S.data.length,"data")]).encode(S,o,u);u+=I}),o=o.slice(0,u);let d=B.struct([B.blob(1,"numRequiredSignatures"),B.blob(1,"numReadonlySignedAccounts"),B.blob(1,"numReadonlyUnsignedAccounts"),B.blob(e.length,"keyCount"),B.seq(Zt("key"),t,"keys"),Zt("recentBlockhash")]),g={numRequiredSignatures:yt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yt.Buffer.from(e),keys:this.accountKeys.map(S=>jt(S.toBytes())),recentBlockhash:Ee.default.decode(this.recentBlockhash)},x=yt.Buffer.alloc(2048),k=d.encode(g,x);return o.copy(x,k),x.slice(0,k+o.length)}static from(t){let e=[...t],n=dr(e);if(n!==(n&co))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=dr(e),o=dr(e),u=De(e),d=[];for(let P=0;P<u;P++){let I=We(e,0,gr);d.push(new et(yt.Buffer.from(I)))}let g=We(e,0,gr),x=De(e),k=[];for(let P=0;P<x;P++){let I=dr(e),R=De(e),E=We(e,0,R),M=De(e),C=We(e,0,M),F=Ee.default.encode(yt.Buffer.from(C));k.push({programIdIndex:I,accounts:E,data:F})}let S={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Ee.default.encode(yt.Buffer.from(g)),accountKeys:d,instructions:k};return new r(S)}},$n=class r{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bn(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){let i=t-n,o=this.addressTableLookups.reduce((u,d)=>u+d.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){let i=t-e,u=n-e-this.header.numReadonlyUnsignedAccounts;return i<u}else{let i=e-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){let e={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=t.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)e.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)e.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){let e=to.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(let k of o){let S=e.extractTableLookup(k);if(S!==void 0){let[P,{writable:I,readonly:R}]=S;n.push(P),i.writable.push(...I),i.readonly.push(...R)}}let[u,d]=e.getMessageComponents(),x=new Bn(d,i).compileInstructions(t.instructions);return new r({header:u,staticAccountKeys:d,recentBlockhash:t.recentBlockhash,compiledInstructions:x,addressTableLookups:n})}serialize(){let t=Array();Ze(t,this.staticAccountKeys.length);let e=this.serializeInstructions(),n=Array();Ze(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Ze(o,this.addressTableLookups.length);let u=B.struct([B.u8("prefix"),B.struct([B.u8("numRequiredSignatures"),B.u8("numReadonlySignedAccounts"),B.u8("numReadonlyUnsignedAccounts")],"header"),B.blob(t.length,"staticAccountKeysLength"),B.seq(Zt(),this.staticAccountKeys.length,"staticAccountKeys"),Zt("recentBlockhash"),B.blob(n.length,"instructionsLength"),B.blob(e.length,"serializedInstructions"),B.blob(o.length,"addressTableLookupsLength"),B.blob(i.length,"serializedAddressTableLookups")]),d=new Uint8Array(jr),x=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(k=>k.toBytes()),recentBlockhash:Ee.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},d);return d.slice(0,x)}serializeInstructions(){let t=0,e=new Uint8Array(jr);for(let n of this.compiledInstructions){let i=Array();Ze(i,n.accountKeyIndexes.length);let o=Array();Ze(o,n.data.length);let u=B.struct([B.u8("programIdIndex"),B.blob(i.length,"encodedAccountKeyIndexesLength"),B.seq(B.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),B.blob(o.length,"encodedDataLength"),B.blob(n.data.length,"data")]);t+=u.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0,e=new Uint8Array(jr);for(let n of this.addressTableLookups){let i=Array();Ze(i,n.writableIndexes.length);let o=Array();Ze(o,n.readonlyIndexes.length);let u=B.struct([Zt("accountKey"),B.blob(i.length,"encodedWritableIndexesLength"),B.seq(B.u8(),n.writableIndexes.length,"writableIndexes"),B.blob(o.length,"encodedReadonlyIndexesLength"),B.seq(B.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=u.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t],n=dr(e),i=n&co;Xt(n!==i,"Expected versioned message but received legacy message");let o=i;Xt(o===0,`Expected versioned message with version 0 but found version ${o}`);let u={numRequiredSignatures:dr(e),numReadonlySignedAccounts:dr(e),numReadonlyUnsignedAccounts:dr(e)},d=[],g=De(e);for(let R=0;R<g;R++)d.push(new et(We(e,0,gr)));let x=Ee.default.encode(We(e,0,gr)),k=De(e),S=[];for(let R=0;R<k;R++){let E=dr(e),M=De(e),C=We(e,0,M),F=De(e),U=new Uint8Array(We(e,0,F));S.push({programIdIndex:E,accountKeyIndexes:C,data:U})}let P=De(e),I=[];for(let R=0;R<P;R++){let E=new et(We(e,0,gr)),M=De(e),C=We(e,0,M),F=De(e),U=We(e,0,F);I.push({accountKey:E,writableIndexes:C,readonlyIndexes:U})}return new r({header:u,staticAccountKeys:d,recentBlockhash:x,compiledInstructions:S,addressTableLookups:I})}},du={deserializeMessageVersion(r){let t=r[0],e=t&co;return e===t?"legacy":e},deserialize:r=>{let t=du.deserializeMessageVersion(r);if(t==="legacy")return mr.from(r);if(t===0)return $n.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},Br=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({}),by=yt.Buffer.alloc(Ci).fill(0),ne=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=yt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},re=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){let{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){let{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{let{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ne(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let E=0;E<e.length;E++)if(e[E].programId===void 0)throw new Error(`Transaction instruction index ${E} has undefined program id`);let i=[],o=[];e.forEach(E=>{E.keys.forEach(C=>{o.push({...C})});let M=E.programId.toString();i.includes(M)||i.push(M)}),i.forEach(E=>{o.push({pubkey:new et(E),isSigner:!1,isWritable:!1})});let u=[];o.forEach(E=>{let M=E.pubkey.toString(),C=u.findIndex(F=>F.pubkey.toString()===M);C>-1?(u[C].isWritable=u[C].isWritable||E.isWritable,u[C].isSigner=u[C].isSigner||E.isSigner):u.push(E)}),u.sort(function(E,M){if(E.isSigner!==M.isSigner)return E.isSigner?-1:1;if(E.isWritable!==M.isWritable)return E.isWritable?-1:1;let C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return E.pubkey.toBase58().localeCompare(M.pubkey.toBase58(),"en",C)});let d=u.findIndex(E=>E.pubkey.equals(n));if(d>-1){let[E]=u.splice(d,1);E.isSigner=!0,E.isWritable=!0,u.unshift(E)}else u.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let E of this.signatures){let M=u.findIndex(C=>C.pubkey.equals(E.publicKey));if(M>-1)u[M].isSigner||(u[M].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${E.publicKey.toString()}`)}let g=0,x=0,k=0,S=[],P=[];u.forEach(({pubkey:E,isSigner:M,isWritable:C})=>{M?(S.push(E.toString()),g+=1,C||(x+=1)):(P.push(E.toString()),C||(k+=1))});let I=S.concat(P),R=e.map(E=>{let{data:M,programId:C}=E;return{programIdIndex:I.indexOf(C.toString()),accounts:E.keys.map(F=>I.indexOf(F.pubkey.toString())),data:Ee.default.encode(M)}});return R.forEach(E=>{Xt(E.programIdIndex>=0),E.accounts.forEach(M=>Xt(M>=0))}),new mr({header:{numRequiredSignatures:g,numReadonlySignedAccounts:x,numReadonlyUnsignedAccounts:k},accountKeys:I,recentBlockhash:t,instructions:R})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((i,o)=>e[o].equals(i.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");let e=new Set;this.signatures=t.filter(n=>{let i=n.toString();return e.has(i)?!1:(e.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let o of t){let u=o.publicKey.toString();e.has(u)||(e.add(u),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let o of t){let u=o.publicKey.toString();e.has(u)||(e.add(u),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(t,...e){let n=t.serialize();e.forEach(i=>{let o=hu(n,i.secretKey);this._addSignature(i.publicKey,jt(o))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Xt(e.length===64);let n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=yt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){let n={};for(let{signature:i,publicKey:o}of this.signatures)i===null?e&&(n.missing||=[]).push(o):fy(i,t,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(t){let{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){let o=this._getMessageSignednessErrors(i,e);if(o){let u="Signature verification failed.";throw o.invalid&&(u+=`\nInvalid signature for public key${o.invalid.length===1?"":"(s)"} [\\`${o.invalid.map(d=>d.toBase58()).join("`, `")}\\`].`),o.missing&&(u+=`\nMissing signature for public key${o.missing.length===1?"":"(s)"} [\\`${o.missing.map(d=>d.toBase58()).join("`, `")}\\`].`),new Error(u)}}return this._serialize(i)}_serialize(t){let{signatures:e}=this,n=[];Ze(n,e.length);let i=n.length+e.length*64+t.length,o=yt.Buffer.alloc(i);return Xt(e.length<256),yt.Buffer.from(n).copy(o,0),e.forEach(({signature:u},d)=>{u!==null&&(Xt(u.length===64,"signature has invalid length"),yt.Buffer.from(u).copy(o,n.length+d*64))}),t.copy(o,n.length+e.length*64),Xt(o.length<=jr,`Transaction too large: ${o.length} > ${jr}`),o}get keys(){return Xt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Xt(this.instructions.length===1),this.instructions[0].programId}get data(){return Xt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t],n=De(e),i=[];for(let o=0;o<n;o++){let u=We(e,0,Ci);i.push(Ee.default.encode(yt.Buffer.from(u)))}return r.populate(mr.from(e),i)}static populate(t,e=[]){let n=new r;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((i,o)=>{let u={signature:i==Ee.default.encode(by)?null:Ee.default.decode(i),publicKey:t.accountKeys[o]};n.signatures.push(u)}),t.instructions.forEach(i=>{let o=i.accounts.map(u=>{let d=t.accountKeys[u];return{pubkey:d,isSigner:n.signatures.some(g=>g.publicKey.toString()===d.toString())||t.isAccountSigner(u),isWritable:t.isAccountWritable(u)}});n.instructions.push(new ne({keys:o,programId:t.accountKeys[i.programIdIndex],data:Ee.default.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}},ja=class r{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){let{header:n,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:u,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:g}=n,x=u-d;Xt(x>0,"Message header is invalid");let k=t.staticAccountKeys.length-u-g;Xt(k>=0,"Message header is invalid");let S=t.getAccountKeys(e),P=S.get(0);if(P===void 0)throw new Error("Failed to decompile message because no account keys were found");let I=[];for(let R of i){let E=[];for(let C of R.accountKeyIndexes){let F=S.get(C);if(F===void 0)throw new Error(`Failed to find key for account key index ${C}`);let U=C<u,K;U?K=C<x:C<S.staticAccountKeys.length?K=C-u<k:K=C-S.staticAccountKeys.length<S.accountKeysFromLookups.writable.length,E.push({pubkey:F,isSigner:C<n.numRequiredSignatures,isWritable:K})}let M=S.get(R.programIdIndex);if(M===void 0)throw new Error(`Failed to find program id for program id index ${R.programIdIndex}`);I.push(new ne({programId:M,data:jt(R.data),keys:E}))}return new r({payerKey:P,instructions:I,recentBlockhash:o})}compileToLegacyMessage(){return mr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return $n.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}},Ga=class r{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Xt(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{let n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(Ci));this.signatures=n}this.message=t}serialize(){let t=this.message.serialize(),e=Array();Ze(e,this.signatures.length);let n=B.struct([B.blob(e.length,"encodedSignaturesLength"),B.seq(dy(),this.signatures.length,"signatures"),B.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let e=[...t],n=[],i=De(e);for(let u=0;u<i;u++)n.push(new Uint8Array(We(e,0,Ci)));let o=du.deserialize(new Uint8Array(e));return new r(o,n)}sign(t){let e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of t){let o=n.findIndex(u=>u.equals(i.publicKey));Xt(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=hu(e,i.secretKey)}}addSignature(t,e){Xt(e.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));Xt(i>=0,`Can not add signature; \\`${t.toBase58()}\\` is not required to sign this transaction`),this.signatures[i]=e}},wy=160,vy=64,xy=wy/vy,Gl=1e3/xy,hr=new et("SysvarC1ock11111111111111111111111111111111"),ky=new et("SysvarEpochSchedu1e111111111111111111111111"),Sy=new et("Sysvar1nstructions1111111111111111111111111"),Js=new et("SysvarRecentB1ockHashes11111111111111111111"),Vn=new et("SysvarRent111111111111111111111111111111111"),_y=new et("SysvarRewards111111111111111111111111111111"),Ey=new et("SysvarS1otHashes111111111111111111111111111"),By=new et("SysvarS1otHistory11111111111111111111111111"),Xs=new et("SysvarStakeHistory1111111111111111111111111"),In=class extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:i}){let o=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:"",u="\\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",d;switch(t){case"send":d=`Transaction ${e} resulted in an error. \n${n}. `+o+u;break;case"simulate":d=`Simulation failed. \nMessage: ${n}. \n`+o+u;break;default:d=`Unknown action \'${(g=>g)(t)}\'`}super(d),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,e(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},Iy={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},at=class extends Error{constructor({code:t,message:e,data:n},i){super(i!=null?`${i}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}};async function Za(r,t,e,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await r.sendTransaction(t,e,i),u;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)u=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){let{nonceInstruction:d}=t.nonceInfo,g=d.keys[0].pubkey;u=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:g,nonceValue:t.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),u=(await r.confirmTransaction(o,n&&n.commitment)).value;if(u.err)throw o!=null?new In({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(u)})`);return o}function _n(r){return new Promise(t=>setTimeout(t,r))}function Yt(r,t){let e=r.layout.span>=0?r.layout.span:Vl(r,t),n=yt.Buffer.alloc(e),i=Object.assign({instruction:r.index},t);return r.layout.encode(i,n),n}function ee(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${e.instruction} != ${r.index}`);return e}var Zl=B.nu64("lamportsPerSignature"),Yl=B.struct([B.u32("version"),B.u32("state"),Zt("authorizedPubkey"),Zt("nonce"),B.struct([Zl],"feeCalculator")]),Ya=Yl.span,eo=class r{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){let e=Yl.decode(jt(t),0);return new r({authorizedPubkey:new et(e.authorizedPubkey),nonce:new et(e.nonce).toString(),feeCalculator:e.feeCalculator})}},Ay=r=>{let t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},My=r=>t=>{let e=Wl.blob(r,t),{encode:n,decode:i}=Ay(e),o=e;return o.decode=(u,d)=>{let g=i(u,d);return Ha.toBigIntLE(yt.Buffer.from(g))},o.encode=(u,d,g)=>{let x=Ha.toBufferLE(u,r);return n(x,d,g)},o},jn=My(8),Ja=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=B.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(ce))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e,space:n,programId:i}=ee(ce.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new et(i)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e}=ee(ce.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e,seed:n,programId:i}=ee(ce.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new et(i)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{space:e}=ee(ce.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:n,space:i,programId:o}=ee(ce.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new et(e),seed:n,space:i,programId:new et(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{programId:e}=ee(ce.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new et(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:n,programId:i}=ee(ce.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new et(e),seed:n,programId:new et(i)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{base:e,seed:n,lamports:i,space:o,programId:u}=ee(ce.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new et(e),seed:n,lamports:i,space:o,programId:new et(u)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{authorized:e}=ee(ce.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new et(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),ee(ce.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=ee(ce.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e}=ee(ce.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new et(e)}}static checkProgramId(t){if(!t.equals(Be.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},ce=Object.freeze({Create:{index:0,layout:B.struct([B.u32("instruction"),B.ns64("lamports"),B.ns64("space"),Zt("programId")])},Assign:{index:1,layout:B.struct([B.u32("instruction"),Zt("programId")])},Transfer:{index:2,layout:B.struct([B.u32("instruction"),jn("lamports")])},CreateWithSeed:{index:3,layout:B.struct([B.u32("instruction"),Zt("base"),En("seed"),B.ns64("lamports"),B.ns64("space"),Zt("programId")])},AdvanceNonceAccount:{index:4,layout:B.struct([B.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:B.struct([B.u32("instruction"),Zt("authorized")])},AuthorizeNonceAccount:{index:7,layout:B.struct([B.u32("instruction"),Zt("authorized")])},Allocate:{index:8,layout:B.struct([B.u32("instruction"),B.ns64("space")])},AllocateWithSeed:{index:9,layout:B.struct([B.u32("instruction"),Zt("base"),En("seed"),B.ns64("space"),Zt("programId")])},AssignWithSeed:{index:10,layout:B.struct([B.u32("instruction"),Zt("base"),En("seed"),Zt("programId")])},TransferWithSeed:{index:11,layout:B.struct([B.u32("instruction"),jn("lamports"),En("seed"),Zt("programId")])},UpgradeNonceAccount:{index:12,layout:B.struct([B.u32("instruction")])}}),Be=class r{constructor(){}static createAccount(t){let e=ce.Create,n=Yt(e,{lamports:t.lamports,space:t.space,programId:jt(t.programId.toBuffer())});return new ne({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let e,n;if("basePubkey"in t){let i=ce.TransferWithSeed;e=Yt(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:jt(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ce.Transfer;e=Yt(i,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new ne({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){let i=ce.AssignWithSeed;e=Yt(i,{base:jt(t.basePubkey.toBuffer()),seed:t.seed,programId:jt(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ce.Assign;e=Yt(i,{programId:jt(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new ne({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=ce.CreateWithSeed,n=Yt(e,{base:jt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:jt(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new ne({keys:i,programId:this.programId,data:n})}static createNonceAccount(t){let e=new re;"basePubkey"in t&&"seed"in t?e.add(r.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Ya,programId:this.programId})):e.add(r.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Ya,programId:this.programId}));let n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){let e=ce.InitializeNonceAccount,n=Yt(e,{authorized:jt(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Js,isSigner:!1,isWritable:!1},{pubkey:Vn,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ne(i)}static nonceAdvance(t){let e=ce.AdvanceNonceAccount,n=Yt(e),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Js,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ne(i)}static nonceWithdraw(t){let e=ce.WithdrawNonceAccount,n=Yt(e,{lamports:t.lamports});return new ne({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Js,isSigner:!1,isWritable:!1},{pubkey:Vn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){let e=ce.AuthorizeNonceAccount,n=Yt(e,{authorized:jt(t.newAuthorizedPubkey.toBuffer())});return new ne({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let e,n;if("basePubkey"in t){let i=ce.AllocateWithSeed;e=Yt(i,{base:jt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:jt(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ce.Allocate;e=Yt(i,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new ne({keys:n,programId:this.programId,data:e})}};Be.programId=new et("11111111111111111111111111111111");var Ry=jr-300,Gn=class r{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/r.chunkSize)+1+1)}static async load(t,e,n,i,o){{let S=await t.getMinimumBalanceForRentExemption(o.length),P=await t.getAccountInfo(n.publicKey,"confirmed"),I=null;if(P!==null){if(P.executable)return console.error("Program load failed, account is already executable"),!1;P.data.length!==o.length&&(I=I||new re,I.add(Be.allocate({accountPubkey:n.publicKey,space:o.length}))),P.owner.equals(i)||(I=I||new re,I.add(Be.assign({accountPubkey:n.publicKey,programId:i}))),P.lamports<S&&(I=I||new re,I.add(Be.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:S-P.lamports})))}else I=new re().add(Be.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:S>0?S:1,space:o.length,programId:i}));I!==null&&await Za(t,I,[e,n],{commitment:"confirmed"})}let u=B.struct([B.u32("instruction"),B.u32("offset"),B.u32("bytesLength"),B.u32("bytesLengthPadding"),B.seq(B.u8("byte"),B.offset(B.u32(),-8),"bytes")]),d=r.chunkSize,g=0,x=o,k=[];for(;x.length>0;){let S=x.slice(0,d),P=yt.Buffer.alloc(d+16);u.encode({instruction:0,offset:g,bytes:S,bytesLength:0,bytesLengthPadding:0},P);let I=new re().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:P});k.push(Za(t,I,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await _n(1e3/4),g+=d,x=x.slice(d)}await Promise.all(k);{let S=B.struct([B.u32("instruction")]),P=yt.Buffer.alloc(S.span);S.encode({instruction:1},P);let I=new re().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Vn,isSigner:!1,isWritable:!1}],programId:i,data:P}),R="processed",E=await t.sendTransaction(I,[e,n],{preflightCommitment:R}),{context:M,value:C}=await t.confirmTransaction({signature:E,lastValidBlockHeight:I.lastValidBlockHeight,blockhash:I.recentBlockhash},R);if(C.err)throw new Error(`Transaction ${E} failed (${JSON.stringify(C)})`);for(;;){try{if(await t.getSlot({commitment:R})>M.slot)break}catch{}await new Promise(F=>setTimeout(F,Math.round(Gl/2)))}}return!0}};Gn.chunkSize=Ry;var Ty=new et("BPFLoader2111111111111111111111111111111111"),Xa=class{static getMinNumSignatures(t){return Gn.getMinNumSignatures(t)}static load(t,e,n,i,o){return Gn.load(t,e,n,o,i)}};function Ly(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Py=Object.prototype.toString,Cy=Object.keys||function(r){var t=[];for(var e in r)t.push(e);return t};function Ti(r,t){var e,n,i,o,u,d,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return Ti(r.toJSON(),t);if(g=Py.call(r),g==="[object Array]"){for(i="[",n=r.length-1,e=0;e<n;e++)i+=Ti(r[e],!0)+",";return n>-1&&(i+=Ti(r[e],!0)),i+"]"}else if(g==="[object Object]"){for(o=Cy(r).sort(),n=o.length,i="",e=0;e<n;)u=o[e],d=Ti(r[u],!1),d!==void 0&&(i&&(i+=","),i+=JSON.stringify(u)+":"+d),e++;return"{"+i+"}"}else return JSON.stringify(r);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var Oy=function(r){var t=Ti(r,!1);if(t!==void 0)return""+t},Ml=Ly(Oy),Ri=32;function za(r){let t=0;for(;r>1;)r/=2,t++;return t}function Ny(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}var ro=class{constructor(t,e,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){let e=za(Ny(t+Ri+1))-za(Ri)-1,n=this.getSlotsInEpoch(e),i=t-(n-Ri);return[e,i]}else{let e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=e%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Ri:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+za(Ri)):this.slotsPerEpoch}},Uy=globalThis.fetch,Qa=class extends Sl.CommonClient{constructor(t,e,n){let i=o=>{let u=Sl.WebSocket(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(i,t,e,n),this.underlyingSocket=void 0}call(...t){let e=this.underlyingSocket?.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){let e=this.underlyingSocket?.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}};function qy(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}var Rl=56,Ui=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){let t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){let e=qy(zy,t),n=t.length-Rl;Xt(n>=0,"lookup table is invalid"),Xt(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=B.struct([B.seq(Zt(),i,"addresses")]).decode(t.slice(Rl));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new et(e.authority[0]):void 0,addresses:o.map(u=>new et(u))}}},zy={index:1,layout:B.struct([B.u32("typeIndex"),jn("deactivationSlot"),B.nu64("lastExtendedSlot"),B.u8("lastExtendedStartIndex"),B.u8(),B.seq(Zt(),B.offset(B.u8(),-1),"authority")])},Fy=/^[^:]+:\\/\\/([^:[]+|\\[[^\\]]+\\])(:\\d+)?(.*)/i;function Ky(r){let t=r.match(Fy);if(t==null)throw TypeError(`Failed to validate endpoint URL \\`${r}\\``);let[e,n,i,o]=t,u=r.startsWith("https:")?"wss:":"ws:",d=i==null?null:parseInt(i.slice(1),10),g=d==null?"":`:${d+1}`;return`${u}//${n}${g}${o}`}var pe=l.coerce(l.instance(et),l.string(),r=>new et(r)),Jl=l.tuple([l.string(),l.literal("base64")]),pu=l.coerce(l.instance(yt.Buffer),Jl,r=>yt.Buffer.from(r[0],"base64")),Xl=30*1e3;function Dy(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function ue(r){let t,e;if(typeof r=="string")t=r;else if(r){let{commitment:n,...i}=r;t=n,e=i}return{commitment:t,config:e}}function Tl(r){return r.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Ql(r){return l.union([l.type({jsonrpc:l.literal("2.0"),id:l.string(),result:r}),l.type({jsonrpc:l.literal("2.0"),id:l.string(),error:l.type({code:l.unknown(),message:l.string(),data:l.optional(l.any())})})])}var Wy=Ql(l.unknown());function Vt(r){return l.coerce(Ql(r),Wy,t=>"error"in t?t:{...t,result:l.create(t.result,r)})}function ge(r){return Vt(l.type({context:l.type({slot:l.number()}),value:r}))}function fo(r){return l.type({context:l.type({slot:l.number()}),value:r})}function Fa(r,t){return r===0?new $n({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new et(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ee.default.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new mr(t)}var Hy=l.type({foundation:l.number(),foundationTerm:l.number(),initial:l.number(),taper:l.number(),terminal:l.number()}),$y=Vt(l.array(l.nullable(l.type({epoch:l.number(),effectiveSlot:l.number(),amount:l.number(),postBalance:l.number(),commission:l.optional(l.nullable(l.number()))})))),Vy=l.array(l.type({slot:l.number(),prioritizationFee:l.number()})),jy=l.type({total:l.number(),validator:l.number(),foundation:l.number(),epoch:l.number()}),Gy=l.type({epoch:l.number(),slotIndex:l.number(),slotsInEpoch:l.number(),absoluteSlot:l.number(),blockHeight:l.optional(l.number()),transactionCount:l.optional(l.number())}),Zy=l.type({slotsPerEpoch:l.number(),leaderScheduleSlotOffset:l.number(),warmup:l.boolean(),firstNormalEpoch:l.number(),firstNormalSlot:l.number()}),Yy=l.record(l.string(),l.array(l.number())),Mn=l.nullable(l.union([l.type({}),l.string()])),Jy=l.type({err:Mn}),Xy=l.literal("receivedSignature"),Qy=l.type({"solana-core":l.string(),"feature-set":l.optional(l.number())}),tg=l.type({program:l.string(),programId:pe,parsed:l.unknown()}),eg=l.type({programId:pe,accounts:l.array(pe),data:l.string()}),Ll=ge(l.type({err:l.nullable(l.union([l.type({}),l.string()])),logs:l.nullable(l.array(l.string())),accounts:l.optional(l.nullable(l.array(l.nullable(l.type({executable:l.boolean(),owner:l.string(),lamports:l.number(),data:l.array(l.string()),rentEpoch:l.optional(l.number())}))))),unitsConsumed:l.optional(l.number()),returnData:l.optional(l.nullable(l.type({programId:l.string(),data:l.tuple([l.string(),l.literal("base64")])}))),innerInstructions:l.optional(l.nullable(l.array(l.type({index:l.number(),instructions:l.array(l.union([tg,eg]))}))))})),rg=ge(l.type({byIdentity:l.record(l.string(),l.array(l.number())),range:l.type({firstSlot:l.number(),lastSlot:l.number()})}));function ng(r,t,e,n,i,o){let u=e||Uy,d;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let g;return n&&(g=async(k,S)=>{let P=await new Promise((I,R)=>{try{n(k,S,(E,M)=>I([E,M]))}catch(E){R(E)}});return await u(...P)}),new uy.default(async(k,S)=>{let P={method:"POST",body:k,agent:d,headers:Object.assign({"Content-Type":"application/json"},t||{},im)};try{let I=5,R,E=500;for(;g?R=await g(r,P):R=await u(r,P),!(R.status!==429||i===!0||(I-=1,I===0));)console.error(`Server responded with ${R.status} ${R.statusText}.  Retrying after ${E}ms delay...`),await _n(E),E*=2;let M=await R.text();R.ok?S(null,M):S(new Error(`${R.status} ${R.statusText}: ${M}`))}catch(I){I instanceof Error&&S(I)}},{})}function ig(r){return(t,e)=>new Promise((n,i)=>{r.request(t,e,(o,u)=>{if(o){i(o);return}n(u)})})}function sg(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);let i=t.map(o=>r.request(o.methodName,o.args));r.request(i,(o,u)=>{if(o){n(o);return}e(u)})})}var og=Vt(Hy),ag=Vt(jy),ug=Vt(Vy),cg=Vt(Gy),fg=Vt(Zy),lg=Vt(Yy),hg=Vt(l.number()),dg=ge(l.type({total:l.number(),circulating:l.number(),nonCirculating:l.number(),nonCirculatingAccounts:l.array(pe)})),tu=l.type({amount:l.string(),uiAmount:l.nullable(l.number()),decimals:l.number(),uiAmountString:l.optional(l.string())}),pg=ge(l.array(l.type({address:pe,amount:l.string(),uiAmount:l.nullable(l.number()),decimals:l.number(),uiAmountString:l.optional(l.string())}))),yg=ge(l.array(l.type({pubkey:pe,account:l.type({executable:l.boolean(),owner:pe,lamports:l.number(),data:pu,rentEpoch:l.number()})}))),eu=l.type({program:l.string(),parsed:l.unknown(),space:l.number()}),gg=ge(l.array(l.type({pubkey:pe,account:l.type({executable:l.boolean(),owner:pe,lamports:l.number(),data:eu,rentEpoch:l.number()})}))),mg=ge(l.array(l.type({lamports:l.number(),address:pe}))),qi=l.type({executable:l.boolean(),owner:pe,lamports:l.number(),data:pu,rentEpoch:l.number()}),bg=l.type({pubkey:pe,account:qi}),wg=l.coerce(l.union([l.instance(yt.Buffer),eu]),l.union([Jl,eu]),r=>Array.isArray(r)?l.create(r,pu):r),ru=l.type({executable:l.boolean(),owner:pe,lamports:l.number(),data:wg,rentEpoch:l.number()}),vg=l.type({pubkey:pe,account:ru}),xg=l.type({state:l.union([l.literal("active"),l.literal("inactive"),l.literal("activating"),l.literal("deactivating")]),active:l.number(),inactive:l.number()}),kg=Vt(l.array(l.type({signature:l.string(),slot:l.number(),err:Mn,memo:l.nullable(l.string()),blockTime:l.optional(l.nullable(l.number()))}))),Sg=Vt(l.array(l.type({signature:l.string(),slot:l.number(),err:Mn,memo:l.nullable(l.string()),blockTime:l.optional(l.nullable(l.number()))}))),_g=l.type({subscription:l.number(),result:fo(qi)}),Eg=l.type({pubkey:pe,account:qi}),Bg=l.type({subscription:l.number(),result:fo(Eg)}),Ig=l.type({parent:l.number(),slot:l.number(),root:l.number()}),Ag=l.type({subscription:l.number(),result:Ig}),Mg=l.union([l.type({type:l.union([l.literal("firstShredReceived"),l.literal("completed"),l.literal("optimisticConfirmation"),l.literal("root")]),slot:l.number(),timestamp:l.number()}),l.type({type:l.literal("createdBank"),parent:l.number(),slot:l.number(),timestamp:l.number()}),l.type({type:l.literal("frozen"),slot:l.number(),timestamp:l.number(),stats:l.type({numTransactionEntries:l.number(),numSuccessfulTransactions:l.number(),numFailedTransactions:l.number(),maxTransactionsPerEntry:l.number()})}),l.type({type:l.literal("dead"),slot:l.number(),timestamp:l.number(),err:l.string()})]),Rg=l.type({subscription:l.number(),result:Mg}),Tg=l.type({subscription:l.number(),result:fo(l.union([Jy,Xy]))}),Lg=l.type({subscription:l.number(),result:l.number()}),Pg=l.type({pubkey:l.string(),gossip:l.nullable(l.string()),tpu:l.nullable(l.string()),rpc:l.nullable(l.string()),version:l.nullable(l.string())}),Pl=l.type({votePubkey:l.string(),nodePubkey:l.string(),activatedStake:l.number(),epochVoteAccount:l.boolean(),epochCredits:l.array(l.tuple([l.number(),l.number(),l.number()])),commission:l.number(),lastVote:l.number(),rootSlot:l.nullable(l.number())}),Cg=Vt(l.type({current:l.array(Pl),delinquent:l.array(Pl)})),Og=l.union([l.literal("processed"),l.literal("confirmed"),l.literal("finalized")]),Ng=l.type({slot:l.number(),confirmations:l.nullable(l.number()),err:Mn,confirmationStatus:l.optional(Og)}),Ug=ge(l.array(l.nullable(Ng))),qg=Vt(l.number()),th=l.type({accountKey:pe,writableIndexes:l.array(l.number()),readonlyIndexes:l.array(l.number())}),yu=l.type({signatures:l.array(l.string()),message:l.type({accountKeys:l.array(l.string()),header:l.type({numRequiredSignatures:l.number(),numReadonlySignedAccounts:l.number(),numReadonlyUnsignedAccounts:l.number()}),instructions:l.array(l.type({accounts:l.array(l.number()),data:l.string(),programIdIndex:l.number()})),recentBlockhash:l.string(),addressTableLookups:l.optional(l.array(th))})}),eh=l.type({pubkey:pe,signer:l.boolean(),writable:l.boolean(),source:l.optional(l.union([l.literal("transaction"),l.literal("lookupTable")]))}),rh=l.type({accountKeys:l.array(eh),signatures:l.array(l.string())}),nh=l.type({parsed:l.unknown(),program:l.string(),programId:pe}),ih=l.type({accounts:l.array(pe),data:l.string(),programId:pe}),zg=l.union([ih,nh]),Fg=l.union([l.type({parsed:l.unknown(),program:l.string(),programId:l.string()}),l.type({accounts:l.array(l.string()),data:l.string(),programId:l.string()})]),sh=l.coerce(zg,Fg,r=>"accounts"in r?l.create(r,ih):l.create(r,nh)),oh=l.type({signatures:l.array(l.string()),message:l.type({accountKeys:l.array(eh),instructions:l.array(sh),recentBlockhash:l.string(),addressTableLookups:l.optional(l.nullable(l.array(th)))})}),no=l.type({accountIndex:l.number(),mint:l.string(),owner:l.optional(l.string()),uiTokenAmount:tu}),ah=l.type({writable:l.array(pe),readonly:l.array(pe)}),lo=l.type({err:Mn,fee:l.number(),innerInstructions:l.optional(l.nullable(l.array(l.type({index:l.number(),instructions:l.array(l.type({accounts:l.array(l.number()),data:l.string(),programIdIndex:l.number()}))})))),preBalances:l.array(l.number()),postBalances:l.array(l.number()),logMessages:l.optional(l.nullable(l.array(l.string()))),preTokenBalances:l.optional(l.nullable(l.array(no))),postTokenBalances:l.optional(l.nullable(l.array(no))),loadedAddresses:l.optional(ah),computeUnitsConsumed:l.optional(l.number())}),gu=l.type({err:Mn,fee:l.number(),innerInstructions:l.optional(l.nullable(l.array(l.type({index:l.number(),instructions:l.array(sh)})))),preBalances:l.array(l.number()),postBalances:l.array(l.number()),logMessages:l.optional(l.nullable(l.array(l.string()))),preTokenBalances:l.optional(l.nullable(l.array(no))),postTokenBalances:l.optional(l.nullable(l.array(no))),loadedAddresses:l.optional(ah),computeUnitsConsumed:l.optional(l.number())}),Xn=l.union([l.literal(0),l.literal("legacy")]),Rn=l.type({pubkey:l.string(),lamports:l.number(),postBalance:l.nullable(l.number()),rewardType:l.nullable(l.string()),commission:l.optional(l.nullable(l.number()))}),Kg=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),transactions:l.array(l.type({transaction:yu,meta:l.nullable(lo),version:l.optional(Xn)})),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number()),blockHeight:l.nullable(l.number())}))),Dg=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number()),blockHeight:l.nullable(l.number())}))),Wg=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),transactions:l.array(l.type({transaction:rh,meta:l.nullable(lo),version:l.optional(Xn)})),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number()),blockHeight:l.nullable(l.number())}))),Hg=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),transactions:l.array(l.type({transaction:oh,meta:l.nullable(gu),version:l.optional(Xn)})),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number()),blockHeight:l.nullable(l.number())}))),$g=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),transactions:l.array(l.type({transaction:rh,meta:l.nullable(gu),version:l.optional(Xn)})),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number()),blockHeight:l.nullable(l.number())}))),Vg=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number()),blockHeight:l.nullable(l.number())}))),jg=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),transactions:l.array(l.type({transaction:yu,meta:l.nullable(lo)})),rewards:l.optional(l.array(Rn)),blockTime:l.nullable(l.number())}))),Cl=Vt(l.nullable(l.type({blockhash:l.string(),previousBlockhash:l.string(),parentSlot:l.number(),signatures:l.array(l.string()),blockTime:l.nullable(l.number())}))),Ka=Vt(l.nullable(l.type({slot:l.number(),meta:l.nullable(lo),blockTime:l.optional(l.nullable(l.number())),transaction:yu,version:l.optional(Xn)}))),Ys=Vt(l.nullable(l.type({slot:l.number(),transaction:oh,meta:l.nullable(gu),blockTime:l.optional(l.nullable(l.number())),version:l.optional(Xn)}))),Gg=ge(l.type({blockhash:l.string(),feeCalculator:l.type({lamportsPerSignature:l.number()})})),Zg=ge(l.type({blockhash:l.string(),lastValidBlockHeight:l.number()})),Yg=ge(l.boolean()),Jg=l.type({slot:l.number(),numTransactions:l.number(),numSlots:l.number(),samplePeriodSecs:l.number()}),Xg=Vt(l.array(Jg)),Qg=ge(l.nullable(l.type({feeCalculator:l.type({lamportsPerSignature:l.number()})}))),tm=Vt(l.string()),em=Vt(l.string()),rm=l.type({err:Mn,logs:l.array(l.string()),signature:l.string()}),nm=l.type({result:fo(rm),subscription:l.number()}),im={"solana-client":"js/0.0.0-development"},nu=class{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let x={};return async k=>{let{commitment:S,config:P}=ue(k),I=this._buildArgs([],S,void 0,P),R=Ml(I);return x[R]=x[R]??(async()=>{try{let E=await this._rpcRequest("getBlockHeight",I),M=l.create(E,Vt(l.number()));if("error"in M)throw new at(M.error,"failed to get block height information");return M.result}finally{delete x[R]}})(),await x[R]}})();let n,i,o,u,d,g;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,i=e.httpHeaders,o=e.fetch,u=e.fetchMiddleware,d=e.disableRetryOnRateLimit,g=e.httpAgent),this._rpcEndpoint=Dy(t),this._rpcWsEndpoint=n||Ky(t),this._rpcClient=ng(t,i,o,u,d,g),this._rpcRequest=ig(this._rpcClient),this._rpcBatchRequest=sg(this._rpcClient),this._rpcWebSocket=new Qa(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgs([t.toBase58()],n,void 0,i),u=await this._rpcRequest("getBalance",o),d=l.create(u,ge(l.number()));if("error"in d)throw new at(d.error,`failed to get balance for ${t.toBase58()}`);return d.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){let e=await this._rpcRequest("getBlockTime",[t]),n=l.create(e,Vt(l.nullable(l.number())));if("error"in n)throw new at(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){let t=await this._rpcRequest("minimumLedgerSlot",[]),e=l.create(t,Vt(l.number()));if("error"in e)throw new at(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){let t=await this._rpcRequest("getFirstAvailableBlock",[]),e=l.create(t,hg);if("error"in e)throw new at(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[e]),i=l.create(n,dg);if("error"in i)throw new at(i.error,"failed to get supply");return i.result}async getTokenSupply(t,e){let n=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest("getTokenSupply",n),o=l.create(i,ge(tu));if("error"in o)throw new at(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,e){let n=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest("getTokenAccountBalance",n),o=l.create(i,ge(tu));if("error"in o)throw new at(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,e,n){let{commitment:i,config:o}=ue(n),u=[t.toBase58()];"mint"in e?u.push({mint:e.mint.toBase58()}):u.push({programId:e.programId.toBase58()});let d=this._buildArgs(u,i,"base64",o),g=await this._rpcRequest("getTokenAccountsByOwner",d),x=l.create(g,yg);if("error"in x)throw new at(x.error,`failed to get token accounts owned by account ${t.toBase58()}`);return x.result}async getParsedTokenAccountsByOwner(t,e,n){let i=[t.toBase58()];"mint"in e?i.push({mint:e.mint.toBase58()}):i.push({programId:e.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",o),d=l.create(u,gg);if("error"in d)throw new at(d.error,`failed to get token accounts owned by account ${t.toBase58()}`);return d.result}async getLargestAccounts(t){let e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],i=await this._rpcRequest("getLargestAccounts",n),o=l.create(i,mg);if("error"in o)throw new at(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,e){let n=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest("getTokenLargestAccounts",n),o=l.create(i,pg);if("error"in o)throw new at(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgs([t.toBase58()],n,"base64",i),u=await this._rpcRequest("getAccountInfo",o),d=l.create(u,ge(l.nullable(qi)));if("error"in d)throw new at(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getParsedAccountInfo(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),u=await this._rpcRequest("getAccountInfo",o),d=l.create(u,ge(l.nullable(ru)));if("error"in d)throw new at(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){let{commitment:n,config:i}=ue(e),o=t.map(x=>x.toBase58()),u=this._buildArgs([o],n,"jsonParsed",i),d=await this._rpcRequest("getMultipleAccounts",u),g=l.create(d,ge(l.array(l.nullable(ru))));if("error"in g)throw new at(g.error,`failed to get info for accounts ${o}`);return g.result}async getMultipleAccountsInfoAndContext(t,e){let{commitment:n,config:i}=ue(e),o=t.map(x=>x.toBase58()),u=this._buildArgs([o],n,"base64",i),d=await this._rpcRequest("getMultipleAccounts",u),g=l.create(d,ge(l.array(l.nullable(qi))));if("error"in g)throw new at(g.error,`failed to get info for accounts ${o}`);return g.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){let{commitment:i,config:o}=ue(e),u=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),d=await this._rpcRequest("getStakeActivation",u),g=l.create(d,Vt(xg));if("error"in g)throw new at(g.error,`failed to get Stake Activation ${t.toBase58()}`);return g.result}async getProgramAccounts(t,e){let{commitment:n,config:i}=ue(e),{encoding:o,...u}=i||{},d=this._buildArgs([t.toBase58()],n,o||"base64",{...u,...u.filters?{filters:Tl(u.filters)}:null}),g=await this._rpcRequest("getProgramAccounts",d),x=l.array(bg),k=u.withContext===!0?l.create(g,ge(x)):l.create(g,Vt(x));if("error"in k)throw new at(k.error,`failed to get accounts owned by program ${t.toBase58()}`);return k.result}async getParsedProgramAccounts(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),u=await this._rpcRequest("getProgramAccounts",o),d=l.create(u,Vt(l.array(vg)));if("error"in d)throw new at(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async confirmTransaction(t,e){let n;if(typeof t=="string")n=t;else{let o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Ee.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Xt(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,i,o=!1,u=new Promise((g,x)=>{try{n=this.onSignature(e,(S,P)=>{n=void 0;let I={context:P,value:S};g({__type:Br.PROCESSED,response:I})},t);let k=new Promise(S=>{n==null?S():i=this._onSubscriptionStateChange(n,P=>{P==="subscribed"&&S()})});(async()=>{if(await k,o)return;let S=await this.getSignatureStatus(e);if(o||S==null)return;let{context:P,value:I}=S;if(I!=null)if(I?.err)x(I.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(I.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(I.confirmationStatus==="processed"||I.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,g({__type:Br.PROCESSED,response:{context:P,value:I}})}})()}catch(k){x(k)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:i}}){let o=!1,u=new Promise(S=>{let P=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let I=await P();if(!o){for(;I<=n;)if(await _n(1e3),o||(I=await P(),o))return;S({__type:Br.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:d,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),x=this.getCancellationPromise(e),k;try{let S=await Promise.race([x,g,u]);if(S.__type===Br.PROCESSED)k=S.response;else throw new Oi(i)}finally{o=!0,d()}return k}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:u}}){let d=!1,g=new Promise(I=>{let R=o,E=null,M=async()=>{try{let{context:C,value:F}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return E=C.slot,F?.nonce}catch{return R}};(async()=>{if(R=await M(),!d)for(;;){if(o!==R){I({__type:Br.NONCE_INVALID,slotInWhichNonceDidAdvance:E});return}if(await _n(2e3),d||(R=await M(),d))return}})()}),{abortConfirmation:x,confirmationPromise:k}=this.getTransactionConfirmationPromise({commitment:t,signature:u}),S=this.getCancellationPromise(e),P;try{let I=await Promise.race([S,k,g]);if(I.__type===Br.PROCESSED)P=I.response;else{let R;for(;;){let E=await this.getSignatureStatus(u);if(E==null)break;if(E.context.slot<(I.slotInWhichNonceDidAdvance??n)){await _n(400);continue}R=E;break}if(R?.value){let E=t||"finalized",{confirmationStatus:M}=R.value;switch(E){case"processed":case"recent":if(M!=="processed"&&M!=="confirmed"&&M!=="finalized")throw new Vr(u);break;case"confirmed":case"single":case"singleGossip":if(M!=="confirmed"&&M!=="finalized")throw new Vr(u);break;case"finalized":case"max":case"root":if(M!=="finalized")throw new Vr(u);break;default:}P={context:R.context,value:{err:R.value.err}}}else throw new Vr(u)}}finally{d=!0,x()}return P}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n,i=new Promise(g=>{let x=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{x=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>g({__type:Br.TIMED_OUT,timeoutMs:x}),x)}),{abortConfirmation:o,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:e}),d;try{let g=await Promise.race([u,i]);if(g.__type===Br.PROCESSED)d=g.response;else throw new Ni(e,g.timeoutMs/1e3)}finally{clearTimeout(n),o()}return d}async getClusterNodes(){let t=await this._rpcRequest("getClusterNodes",[]),e=l.create(t,Vt(l.array(Pg)));if("error"in e)throw new at(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){let e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),i=l.create(n,Cg);if("error"in i)throw new at(i.error,"failed to get vote accounts");return i.result}async getSlot(t){let{commitment:e,config:n}=ue(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getSlot",i),u=l.create(o,Vt(l.number()));if("error"in u)throw new at(u.error,"failed to get slot");return u.result}async getSlotLeader(t){let{commitment:e,config:n}=ue(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getSlotLeader",i),u=l.create(o,Vt(l.string()));if("error"in u)throw new at(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(t,e){let n=[t,e],i=await this._rpcRequest("getSlotLeaders",n),o=l.create(i,Vt(l.array(pe)));if("error"in o)throw new at(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,e){let{context:n,value:i}=await this.getSignatureStatuses([t],e);Xt(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(t,e){let n=[t];e&&n.push(e);let i=await this._rpcRequest("getSignatureStatuses",n),o=l.create(i,Ug);if("error"in o)throw new at(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){let{commitment:e,config:n}=ue(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getTransactionCount",i),u=l.create(o,Vt(l.number()));if("error"in u)throw new at(u.error,"failed to get transaction count");return u.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){let e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),i=l.create(n,og);if("error"in i)throw new at(i.error,"failed to get inflation");return i.result}async getInflationReward(t,e,n){let{commitment:i,config:o}=ue(n),u=this._buildArgs([t.map(x=>x.toBase58())],i,void 0,{...o,epoch:e??o?.epoch}),d=await this._rpcRequest("getInflationReward",u),g=l.create(d,$y);if("error"in g)throw new at(g.error,"failed to get inflation reward");return g.result}async getInflationRate(){let t=await this._rpcRequest("getInflationRate",[]),e=l.create(t,ag);if("error"in e)throw new at(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){let{commitment:e,config:n}=ue(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getEpochInfo",i),u=l.create(o,cg);if("error"in u)throw new at(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){let t=await this._rpcRequest("getEpochSchedule",[]),e=l.create(t,fg);if("error"in e)throw new at(e.error,"failed to get epoch schedule");let n=e.result;return new ro(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let t=await this._rpcRequest("getLeaderSchedule",[]),e=l.create(t,lg);if("error"in e)throw new at(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){let n=this._buildArgs([t],e),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=l.create(i,qg);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){let e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),i=l.create(n,Gg);if("error"in i)throw new at(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){let e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=l.create(e,Xg);if("error"in n)throw new at(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){let n=this._buildArgs([t],e),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=l.create(i,Qg);if("error"in o)throw new at(o.error,"failed to get fee calculator");let{context:u,value:d}=o.result;return{context:u,value:d!==null?d.feeCalculator:null}}async getFeeForMessage(t,e){let n=jt(t.serialize()).toString("base64"),i=this._buildArgs([n],e),o=await this._rpcRequest("getFeeForMessage",i),u=l.create(o,ge(l.nullable(l.number())));if("error"in u)throw new at(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(t){let e=t?.lockedWritableAccounts?.map(u=>u.toBase58()),n=e?.length?[e]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),o=l.create(i,ug);if("error"in o)throw new at(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){let{commitment:e,config:n}=ue(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),u=l.create(o,Zg);if("error"in u)throw new at(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgs([t],n,void 0,i),u=await this._rpcRequest("isBlockhashValid",o),d=l.create(u,Yg);if("error"in d)throw new at(d.error,"failed to determine if the blockhash `"+t+"`is valid");return d.result}async getVersion(){let t=await this._rpcRequest("getVersion",[]),e=l.create(t,Vt(Qy));if("error"in e)throw new at(e.error,"failed to get version");return e.result}async getGenesisHash(){let t=await this._rpcRequest("getGenesisHash",[]),e=l.create(t,Vt(l.string()));if("error"in e)throw new at(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),u=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let d=l.create(u,Wg);if("error"in d)throw d.error;return d.result}case"none":{let d=l.create(u,Dg);if("error"in d)throw d.error;return d.result}default:{let d=l.create(u,Kg);if("error"in d)throw d.error;let{result:g}=d;return g?{...g,transactions:g.transactions.map(({transaction:x,meta:k,version:S})=>({meta:k,transaction:{...x,message:Fa(S,x.message)},version:S}))}:null}}}catch(d){throw new at(d,"failed to get confirmed block")}}async getParsedBlock(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),u=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let d=l.create(u,$g);if("error"in d)throw d.error;return d.result}case"none":{let d=l.create(u,Vg);if("error"in d)throw d.error;return d.result}default:{let d=l.create(u,Hg);if("error"in d)throw d.error;return d.result}}}catch(d){throw new at(d,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){let{commitment:d,...g}=t;n=d,e=g}let i=this._buildArgs([],n,"base64",e),o=await this._rpcRequest("getBlockProduction",i),u=l.create(o,rg);if("error"in u)throw new at(u.error,"failed to get block production information");return u.result}async getTransaction(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),u=await this._rpcRequest("getTransaction",o),d=l.create(u,Ka);if("error"in d)throw new at(d.error,"failed to get transaction");let g=d.result;return g&&{...g,transaction:{...g.transaction,message:Fa(g.version,g.transaction.message)}}}async getParsedTransaction(t,e){let{commitment:n,config:i}=ue(e),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),u=await this._rpcRequest("getTransaction",o),d=l.create(u,Ys);if("error"in d)throw new at(d.error,"failed to get transaction");return d.result}async getParsedTransactions(t,e){let{commitment:n,config:i}=ue(e),o=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(g=>{let x=l.create(g,Ys);if("error"in x)throw new at(x.error,"failed to get transactions");return x.result})}async getTransactions(t,e){let{commitment:n,config:i}=ue(e),o=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(g=>{let x=l.create(g,Ka);if("error"in x)throw new at(x.error,"failed to get transactions");let k=x.result;return k&&{...k,transaction:{...k.transaction,message:Fa(k.version,k.transaction.message)}}})}async getConfirmedBlock(t,e){let n=this._buildArgsAtLeastConfirmed([t],e),i=await this._rpcRequest("getConfirmedBlock",n),o=l.create(i,jg);if("error"in o)throw new at(o.error,"failed to get confirmed block");let u=o.result;if(!u)throw new Error("Confirmed block "+t+" not found");let d={...u,transactions:u.transactions.map(({transaction:g,meta:x})=>{let k=new mr(g.message);return{meta:x,transaction:{...g,message:k}}})};return{...d,transactions:d.transactions.map(({transaction:g,meta:x})=>({meta:x,transaction:re.populate(g.message,g.signatures)}))}}async getBlocks(t,e,n){let i=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),o=await this._rpcRequest("getBlocks",i),u=l.create(o,Vt(l.array(l.number())));if("error"in u)throw new at(u.error,"failed to get blocks");return u.result}async getBlockSignatures(t,e){let n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=l.create(i,Cl);if("error"in o)throw new at(o.error,"failed to get block");let u=o.result;if(!u)throw new Error("Block "+t+" not found");return u}async getConfirmedBlockSignatures(t,e){let n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=l.create(i,Cl);if("error"in o)throw new at(o.error,"failed to get confirmed block");let u=o.result;if(!u)throw new Error("Confirmed block "+t+" not found");return u}async getConfirmedTransaction(t,e){let n=this._buildArgsAtLeastConfirmed([t],e),i=await this._rpcRequest("getConfirmedTransaction",n),o=l.create(i,Ka);if("error"in o)throw new at(o.error,"failed to get transaction");let u=o.result;if(!u)return u;let d=new mr(u.transaction.message),g=u.transaction.signatures;return{...u,transaction:re.populate(d,g)}}async getParsedConfirmedTransaction(t,e){let n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=l.create(i,Ys);if("error"in o)throw new at(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,e){let n=t.map(u=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([u],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(u=>{let d=l.create(u,Ys);if("error"in d)throw new at(d.error,"failed to get confirmed transactions");return d.result})}async getConfirmedSignaturesForAddress(t,e,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(e--,!(e<=0||e<o));)try{let g=await this.getConfirmedBlockSignatures(e,"finalized");g.signatures.length>0&&(i.until=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}let u=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>u));)try{let g=await this.getConfirmedBlockSignatures(n);g.signatures.length>0&&(i.before=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(g=>g.signature)}async getConfirmedSignaturesForAddress2(t,e,n){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),u=l.create(o,kg);if("error"in u)throw new at(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(t,e,n){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),o=await this._rpcRequest("getSignaturesForAddress",i),u=l.create(o,Sg);if("error"in u)throw new at(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(t,e){let{context:n,value:i}=await this.getAccountInfoAndContext(t,e),o=null;return i!==null&&(o=new Ui({key:t,state:Ui.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(t,e){let{context:n,value:i}=await this.getAccountInfoAndContext(t,e),o=null;return i!==null&&(o=eo.fromAccountData(i.data)),{context:n,value:o}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){let n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),i=l.create(n,tm);if("error"in i)throw new at(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await _n(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Xl;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await _n(Gl/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){let{commitment:e,config:n}=ue(t),i=this._buildArgs([],e,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),u=l.create(o,ge(l.number()));if("error"in u)throw new at(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(t,e,n){if("message"in t){let E=t.serialize(),M=yt.Buffer.from(E).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");let C=e||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(C.innerInstructions=e.innerInstructions);let F=[M,C],U=await this._rpcRequest("simulateTransaction",F),K=l.create(U,Ll);if("error"in K)throw new Error("failed to simulate transaction: "+K.error.message);return K.result}let i;if(t instanceof re){let R=t;i=new re,i.feePayer=R.feePayer,i.instructions=t.instructions,i.nonceInfo=R.nonceInfo,i.signatures=R.signatures}else i=re.populate(t),i._message=i._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");let o=e;if(i.nonceInfo&&o)i.sign(...o);else{let R=this._disableBlockhashCaching;for(;;){let E=await this._blockhashWithExpiryBlockHeight(R);if(i.lastValidBlockHeight=E.lastValidBlockHeight,i.recentBlockhash=E.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let M=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(M)&&!this._blockhashInfo.transactionSignatures.includes(M)){this._blockhashInfo.simulatedSignatures.push(M);break}else R=!0}}let u=i._compile(),d=u.serialize(),x=i._serialize(d).toString("base64"),k={encoding:"base64",commitment:this.commitment};if(n){let R=(Array.isArray(n)?n:u.nonProgramIds()).map(E=>E.toBase58());k.accounts={encoding:"base64",addresses:R}}o&&(k.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(k.innerInstructions=e.innerInstructions);let S=[x,k],P=await this._rpcRequest("simulateTransaction",S),I=l.create(P,Ll);if("error"in I){let R;if("data"in I.error&&(R=I.error.data.logs,R&&Array.isArray(R))){let E=`\n    `,M=E+R.join(E);console.error(I.error.message,M)}throw new In({action:"simulate",signature:"",transactionMessage:I.error.message,logs:R})}return I.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");let u=t.serialize();return await this.sendRawTransaction(u,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");let i=e;if(t.nonceInfo)t.sign(...i);else{let u=this._disableBlockhashCaching;for(;;){let d=await this._blockhashWithExpiryBlockHeight(u);if(t.lastValidBlockHeight=d.lastValidBlockHeight,t.recentBlockhash=d.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");let g=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(g))u=!0;else{this._blockhashInfo.transactionSignatures.push(g);break}}}let o=t.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(t,e){let n=jt(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){let n={encoding:"base64"},i=e&&e.skipPreflight,o=i===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let u=[t,n],d=await this._rpcRequest("sendTransaction",u),g=l.create(d,em);if("error"in g){let x;throw"data"in g.error&&(x=g.error.data.logs),new In({action:i?"send":"simulate",signature:"",transactionMessage:g.error.message,logs:x})}return g.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){let n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){let i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){let n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(e),()=>{i.delete(e),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:u}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let d=await this._rpcWebSocket.call(u,o);this._setSubscription(n,{...i,serverSubscriptionId:d,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[d]=i.callbacks,await this._updateSubscriptions()}catch(d){if(d instanceof Error&&console.error(`${u} error for argument`,o,d.message),!e())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:u}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[o])}catch(d){if(d instanceof Error&&console.error(`${u} error:`,d.message),!e())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){let n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...e)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){let{result:e,subscription:n}=l.create(t,_g);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){let n=this._nextClientSubscriptionId++,i=Ml([t.method,e]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let u=this._subscriptionsByHash[i];Xt(u!==void 0,`Could not find a \\`Subscription\\` when tearing down client subscription #${n}`),u.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){let{commitment:i,config:o}=ue(n),u=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){let{result:e,subscription:n}=l.create(t,Bg);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,i){let{commitment:o,config:u}=ue(n),d=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",u||(i?{filters:Tl(i)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){let i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){let{result:e,subscription:n}=l.create(t,nm);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){let{result:e,subscription:n}=l.create(t,Ag);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){let{result:e,subscription:n}=l.create(t,Rg);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \\`${t}\\` for \'${e}\' events could not be found.`)}_buildArgs(t,e,n,i){let o=e||this._commitment;if(o||n||i){let u={};n&&(u.encoding=n),o&&(u.commitment=o),i&&(u=Object.assign(u,i)),t.push(u)}return t}_buildArgsAtLeastConfirmed(t,e,n,i){let o=e||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,i)}_wsOnSignatureNotification(t){let{result:e,subscription:n}=l.create(t,Tg);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){let i=this._buildArgs([t],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(u,d)=>{if(u.type==="status"){e(u.result,d);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,e,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},u=this._buildArgs([t],i,void 0,o),d=this._makeSubscription({callback:(g,x)=>{e(g,x);try{this.removeSignatureListener(d)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return d}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){let{result:e,subscription:n}=l.create(t,Lg);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}},io=class r{constructor(t){this._keypair=void 0,this._keypair=t??Bl()}static generate(){return new r(Bl())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");let n=t.slice(32,64);if(!e||!e.skipValidation){let i=t.slice(0,32),o=Qs(i);for(let u=0;u<32;u++)if(n[u]!==o[u])throw new Error("provided secretKey is invalid")}return new r({publicKey:n,secretKey:t})}static fromSeed(t){let e=Qs(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new r({publicKey:e,secretKey:n})}get publicKey(){return new et(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Ir=Object.freeze({CreateLookupTable:{index:0,layout:B.struct([B.u32("instruction"),jn("recentSlot"),B.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:B.struct([B.u32("instruction")])},ExtendLookupTable:{index:2,layout:B.struct([B.u32("instruction"),jn(),B.seq(Zt(),B.offset(B.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:B.struct([B.u32("instruction")])},CloseLookupTable:{index:4,layout:B.struct([B.u32("instruction")])}}),iu=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=B.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(Ir))if(u.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);let{recentSlot:e}=ee(Ir.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);let{addresses:e}=ee(Ir.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map(n=>new et(n))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(zi.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},zi=class{constructor(){}static createLookupTable(t){let[e,n]=et.findProgramAddressSync([t.authority.toBuffer(),Ha.toBufferLE(BigInt(t.recentSlot),8)],this.programId),i=Ir.CreateLookupTable,o=Yt(i,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Be.programId,isSigner:!1,isWritable:!1}];return[new ne({programId:this.programId,keys:u,data:o}),e]}static freezeLookupTable(t){let e=Ir.FreezeLookupTable,n=Yt(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new ne({programId:this.programId,keys:i,data:n})}static extendLookupTable(t){let e=Ir.ExtendLookupTable,n=Yt(e,{addresses:t.addresses.map(o=>o.toBytes())}),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&i.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Be.programId,isSigner:!1,isWritable:!1}),new ne({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(t){let e=Ir.DeactivateLookupTable,n=Yt(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new ne({programId:this.programId,keys:i,data:n})}static closeLookupTable(t){let e=Ir.CloseLookupTable,n=Yt(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new ne({programId:this.programId,keys:i,data:n})}};zi.programId=new et("AddressLookupTab1e1111111111111111111111111");var su=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=B.u8("instruction").decode(t.data),i;for(let[o,u]of Object.entries(pr))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(t){this.checkProgramId(t.programId);let{units:e,additionalFee:n}=ee(pr.RequestUnits,t.data);return{units:e,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);let{bytes:e}=ee(pr.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);let{units:e}=ee(pr.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);let{microLamports:e}=ee(pr.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(Fi.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},pr=Object.freeze({RequestUnits:{index:0,layout:B.struct([B.u8("instruction"),B.u32("units"),B.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:B.struct([B.u8("instruction"),B.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:B.struct([B.u8("instruction"),B.u32("units")])},SetComputeUnitPrice:{index:3,layout:B.struct([B.u8("instruction"),jn("microLamports")])}}),Fi=class{constructor(){}static requestUnits(t){let e=pr.RequestUnits,n=Yt(e,t);return new ne({keys:[],programId:this.programId,data:n})}static requestHeapFrame(t){let e=pr.RequestHeapFrame,n=Yt(e,t);return new ne({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(t){let e=pr.SetComputeUnitLimit,n=Yt(e,t);return new ne({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(t){let e=pr.SetComputeUnitPrice,n=Yt(e,{microLamports:BigInt(t.microLamports)});return new ne({keys:[],programId:this.programId,data:n})}};Fi.programId=new et("ComputeBudget111111111111111111111111111111");var Ol=64,Nl=32,Ul=64,ql=B.struct([B.u8("numSignatures"),B.u8("padding"),B.u16("signatureOffset"),B.u16("signatureInstructionIndex"),B.u16("publicKeyOffset"),B.u16("publicKeyInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u16("messageInstructionIndex")]),so=class r{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,instructionIndex:o}=t;Xt(e.length===Nl,`Public Key must be ${Nl} bytes but received ${e.length} bytes`),Xt(i.length===Ul,`Signature must be ${Ul} bytes but received ${i.length} bytes`);let u=ql.span,d=u+e.length,g=d+i.length,x=1,k=yt.Buffer.alloc(g+n.length),S=o??65535;return ql.encode({numSignatures:x,padding:0,signatureOffset:d,signatureInstructionIndex:S,publicKeyOffset:u,publicKeyInstructionIndex:S,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:S},k),k.fill(e,u),k.fill(i,d),k.fill(n,g),new ne({keys:[],programId:r.programId,data:k})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;Xt(e.length===Ol,`Private key must be ${Ol} bytes but received ${e.length} bytes`);try{let o=io.fromSecretKey(e),u=o.publicKey.toBytes(),d=hu(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:u,message:n,signature:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};so.programId=new et("Ed25519SigVerify111111111111111111111111111");var sm=(r,t)=>{let e=fu.secp256k1.sign(r,t);return[e.toCompactRawBytes(),e.recovery]};fu.secp256k1.utils.isValidPrivateKey;var om=fu.secp256k1.getPublicKey,zl=32,Da=20,Fl=64,am=11,Wa=B.struct([B.u8("numSignatures"),B.u16("signatureOffset"),B.u8("signatureInstructionIndex"),B.u16("ethAddressOffset"),B.u8("ethAddressInstructionIndex"),B.u16("messageDataOffset"),B.u16("messageDataSize"),B.u8("messageInstructionIndex"),B.blob(20,"ethAddress"),B.blob(64,"signature"),B.u8("recoveryId")]),oo=class r{constructor(){}static publicKeyToEthAddress(t){Xt(t.length===Fl,`Public key must be ${Fl} bytes but received ${t.length} bytes`);try{return yt.Buffer.from(_l.keccak_256(jt(t))).slice(-Da)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,recoveryId:o,instructionIndex:u}=t;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(e),message:n,signature:i,recoveryId:o,instructionIndex:u})}static createInstructionWithEthAddress(t){let{ethAddress:e,message:n,signature:i,recoveryId:o,instructionIndex:u=0}=t,d;typeof e=="string"?e.startsWith("0x")?d=yt.Buffer.from(e.substr(2),"hex"):d=yt.Buffer.from(e,"hex"):d=e,Xt(d.length===Da,`Address must be ${Da} bytes but received ${d.length} bytes`);let g=1+am,x=g,k=g+d.length,S=k+i.length+1,P=1,I=yt.Buffer.alloc(Wa.span+n.length);return Wa.encode({numSignatures:P,signatureOffset:k,signatureInstructionIndex:u,ethAddressOffset:x,ethAddressInstructionIndex:u,messageDataOffset:S,messageDataSize:n.length,messageInstructionIndex:u,signature:jt(i),ethAddress:jt(d),recoveryId:o},I),I.fill(jt(n),Wa.span),new ne({keys:[],programId:r.programId,data:I})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;Xt(e.length===zl,`Private key must be ${zl} bytes but received ${e.length} bytes`);try{let o=jt(e),u=om(o,!1).slice(1),d=yt.Buffer.from(_l.keccak_256(jt(n))),[g,x]=sm(d,o);return this.createInstructionWithPublicKey({publicKey:u,message:n,signature:g,recoveryId:x,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};oo.programId=new et("KeccakSecp256k11111111111111111111111111111");var uh,ch=new et("StakeConfig11111111111111111111111111111111"),ao=class{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}},An=class{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}};uh=An;An.default=new uh(0,0,et.default);var ou=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=B.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(ve))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e,lockup:n}=ee(ve.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new ao(new et(e.staker),new et(e.withdrawer)),lockup:new An(n.unixTimestamp,n.epoch,new et(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),ee(ve.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:e,stakeAuthorizationType:n}=ee(ve.Authorize,t.data),i={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new et(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(i.custodianPubkey=t.keys[3].pubkey),i}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{newAuthorized:e,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=ee(ve.AuthorizeWithSeed,t.data),u={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:i,authorityOwner:new et(o),newAuthorizedPubkey:new et(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(u.custodianPubkey=t.keys[3].pubkey),u}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e}=ee(ve.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),ee(ve.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=ee(ve.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),ee(ve.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(Zn.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},ve=Object.freeze({Initialize:{index:0,layout:B.struct([B.u32("instruction"),py(),yy()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Zt("newAuthorized"),B.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:B.struct([B.u32("instruction")])},Split:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Withdraw:{index:4,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},Deactivate:{index:5,layout:B.struct([B.u32("instruction")])},Merge:{index:7,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:B.struct([B.u32("instruction"),Zt("newAuthorized"),B.u32("stakeAuthorizationType"),En("authoritySeed"),Zt("authorityOwner")])}}),um=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Zn=class{constructor(){}static initialize(t){let{stakePubkey:e,authorized:n,lockup:i}=t,o=i||An.default,u=ve.Initialize,d=Yt(u,{authorized:{staker:jt(n.staker.toBuffer()),withdrawer:jt(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:jt(o.custodian.toBuffer())}}),g={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Vn,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new ne(g)}static createAccountWithSeed(t){let e=new re;e.add(Be.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(t){let e=new re;e.add(Be.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:n,votePubkey:i}=t,o=ve.Delegate,u=Yt(o);return new re().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:Xs,isSigner:!1,isWritable:!1},{pubkey:ch,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static authorize(t){let{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:u}=t,d=ve.Authorize,g=Yt(d,{newAuthorized:jt(i.toBuffer()),stakeAuthorizationType:o.index}),x=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return u&&x.push({pubkey:u,isSigner:!0,isWritable:!1}),new re().add({keys:x,programId:this.programId,data:g})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:u,stakeAuthorizationType:d,custodianPubkey:g}=t,x=ve.AuthorizeWithSeed,k=Yt(x,{newAuthorized:jt(u.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:i,authorityOwner:jt(o.toBuffer())}),S=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1}];return g&&S.push({pubkey:g,isSigner:!0,isWritable:!1}),new re().add({keys:S,programId:this.programId,data:k})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=t,u=ve.Split,d=Yt(u,{lamports:o});return new ne({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(t,e){let n=new re;return n.add(Be.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:u,seed:d,lamports:g}=t,x=new re;return x.add(Be.allocate({accountPubkey:o,basePubkey:u,seed:d,space:this.space,programId:this.programId})),e&&e>0&&x.add(Be.transfer({fromPubkey:t.authorizedPubkey,toPubkey:o,lamports:e})),x.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:g}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:i}=t,o=ve.Merge,u=Yt(o);return new re().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:Xs,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:u}=t,d=ve.Withdraw,g=Yt(d,{lamports:o}),x=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:Xs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return u&&x.push({pubkey:u,isSigner:!0,isWritable:!1}),new re().add({keys:x,programId:this.programId,data:g})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:n}=t,i=ve.Deactivate,o=Yt(i);return new re().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Zn.programId=new et("Stake11111111111111111111111111111111111111");Zn.space=200;var uo=class{constructor(t,e,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=i}},au=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=B.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(yr))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);let{voteInit:e}=ee(yr.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new uo(new et(e.nodePubkey),new et(e.authorizedVoter),new et(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:e,voteAuthorizationType:n}=ee(yr.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new et(e),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=ee(yr.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new et(e),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new et(i),voteAuthorizationType:{index:o},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e}=ee(yr.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Yn.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},yr=Object.freeze({InitializeAccount:{index:0,layout:B.struct([B.u32("instruction"),gy()])},Authorize:{index:1,layout:B.struct([B.u32("instruction"),Zt("newAuthorized"),B.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:B.struct([B.u32("instruction"),B.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:B.struct([B.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:B.struct([B.u32("instruction"),my()])}}),cm=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Yn=class r{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:n,voteInit:i}=t,o=yr.InitializeAccount,u=Yt(o,{voteInit:{nodePubkey:jt(i.nodePubkey.toBuffer()),authorizedVoter:jt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:jt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),d={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Vn,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new ne(d)}static createAccount(t){let e=new re;return e.add(Be.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=t,u=yr.Authorize,d=Yt(u,{newAuthorized:jt(i.toBuffer()),voteAuthorizationType:o.index}),g=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new re().add({keys:g,programId:this.programId,data:d})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:u,votePubkey:d}=t,g=yr.AuthorizeWithSeed,x=Yt(g,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:jt(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:jt(o.toBuffer()),voteAuthorizationType:u.index}}),k=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new re().add({keys:k,programId:this.programId,data:x})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=t,u=yr.Withdraw,d=Yt(u,{lamports:i}),g=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new re().add({keys:g,programId:this.programId,data:d})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return r.withdraw(t)}static updateValidatorIdentity(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,nodePubkey:i}=t,o=yr.UpdateValidatorIdentity,u=Yt(o),d=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new re().add({keys:d,programId:this.programId,data:u})}};Yn.programId=new et("Vote111111111111111111111111111111111111111");Yn.space=3762;var fh=new et("Va1idator1nfo111111111111111111111111111111"),fm=l.type({name:l.string(),website:l.optional(l.string()),details:l.optional(l.string()),iconUrl:l.optional(l.string()),keybaseUsername:l.optional(l.string())}),uu=class r{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(De(e)!==2)return null;let i=[];for(let o=0;o<2;o++){let u=new et(We(e,0,gr)),d=dr(e)===1;i.push({publicKey:u,isSigner:d})}if(i[0].publicKey.equals(fh)&&i[1].isSigner){let o=En().decode(yt.Buffer.from(e)),u=JSON.parse(o);return l.assert(u,fm),new r(i[1].publicKey,u)}return null}},lm=new et("Vote111111111111111111111111111111111111111"),hm=B.struct([Zt("nodePubkey"),Zt("authorizedWithdrawer"),B.u8("commission"),B.nu64(),B.seq(B.struct([B.nu64("slot"),B.u32("confirmationCount")]),B.offset(B.u32(),-8),"votes"),B.u8("rootSlotValid"),B.nu64("rootSlot"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),Zt("authorizedVoter")]),B.offset(B.u32(),-8),"authorizedVoters"),B.struct([B.seq(B.struct([Zt("authorizedPubkey"),B.nu64("epochOfLastAuthorizedSwitch"),B.nu64("targetEpoch")]),32,"buf"),B.nu64("idx"),B.u8("isEmpty")],"priorVoters"),B.nu64(),B.seq(B.struct([B.nu64("epoch"),B.nu64("credits"),B.nu64("prevCredits")]),B.offset(B.u32(),-8),"epochCredits"),B.struct([B.nu64("slot"),B.nu64("timestamp")],"lastTimestamp")]),cu=class r{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){let n=hm.decode(jt(t),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new r({nodePubkey:new et(n.nodePubkey),authorizedWithdrawer:new et(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(dm),priorVoters:pm(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function dm({authorizedVoter:r,epoch:t}){return{epoch:t,authorizedVoter:new et(r)}}function Kl({authorizedPubkey:r,epochOfLastAuthorizedSwitch:t,targetEpoch:e}){return{authorizedPubkey:new et(r),epochOfLastAuthorizedSwitch:t,targetEpoch:e}}function pm({buf:r,idx:t,isEmpty:e}){return e?[]:[...r.slice(t+1).map(Kl),...r.slice(0,t).map(Kl)]}var Dl={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ym(r,t){let e=t===!1?"http":"https";if(!r)return Dl[e].devnet;let n=Dl[e][r];if(!n)throw new Error(`Unknown ${e} cluster: ${r}`);return n}async function gm(r,t,e,n){let i,o;e&&Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")||e&&Object.prototype.hasOwnProperty.call(e,"nonceValue")?(i=e,o=n):o=e;let u=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},d=await r.sendRawTransaction(t,u),g=o&&o.commitment,k=(await(i?r.confirmTransaction(i,g):r.confirmTransaction(d,g))).value;if(k.err)throw d!=null?new In({action:u?.skipPreflight?"send":"simulate",signature:d,transactionMessage:`Status: (${JSON.stringify(k)})`}):new Error(`Raw transaction ${d} failed (${JSON.stringify(k)})`);return d}var mm=1e9;rt.Account=Va;rt.AddressLookupTableAccount=Ui;rt.AddressLookupTableInstruction=iu;rt.AddressLookupTableProgram=zi;rt.Authorized=ao;rt.BLOCKHASH_CACHE_TIMEOUT_MS=Xl;rt.BPF_LOADER_DEPRECATED_PROGRAM_ID=hy;rt.BPF_LOADER_PROGRAM_ID=Ty;rt.BpfLoader=Xa;rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=pr;rt.ComputeBudgetInstruction=su;rt.ComputeBudgetProgram=Fi;rt.Connection=nu;rt.Ed25519Program=so;rt.Enum=$a;rt.EpochSchedule=ro;rt.FeeCalculatorLayout=Zl;rt.Keypair=io;rt.LAMPORTS_PER_SOL=mm;rt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Ir;rt.Loader=Gn;rt.Lockup=An;rt.MAX_SEED_LENGTH=$l;rt.Message=mr;rt.MessageAccountKeys=Bn;rt.MessageV0=$n;rt.NONCE_ACCOUNT_LENGTH=Ya;rt.NonceAccount=eo;rt.PACKET_DATA_SIZE=jr;rt.PUBLIC_KEY_LENGTH=gr;rt.PublicKey=et;rt.SIGNATURE_LENGTH_IN_BYTES=Ci;rt.SOLANA_SCHEMA=Li;rt.STAKE_CONFIG_ID=ch;rt.STAKE_INSTRUCTION_LAYOUTS=ve;rt.SYSTEM_INSTRUCTION_LAYOUTS=ce;rt.SYSVAR_CLOCK_PUBKEY=hr;rt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=ky;rt.SYSVAR_INSTRUCTIONS_PUBKEY=Sy;rt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=Js;rt.SYSVAR_RENT_PUBKEY=Vn;rt.SYSVAR_REWARDS_PUBKEY=_y;rt.SYSVAR_SLOT_HASHES_PUBKEY=Ey;rt.SYSVAR_SLOT_HISTORY_PUBKEY=By;rt.SYSVAR_STAKE_HISTORY_PUBKEY=Xs;rt.Secp256k1Program=oo;rt.SendTransactionError=In;rt.SolanaJSONRPCError=at;rt.SolanaJSONRPCErrorCode=Iy;rt.StakeAuthorizationLayout=um;rt.StakeInstruction=ou;rt.StakeProgram=Zn;rt.Struct=Pi;rt.SystemInstruction=Ja;rt.SystemProgram=Be;rt.Transaction=re;rt.TransactionExpiredBlockheightExceededError=Oi;rt.TransactionExpiredNonceInvalidError=Vr;rt.TransactionExpiredTimeoutError=Ni;rt.TransactionInstruction=ne;rt.TransactionMessage=ja;rt.TransactionStatus=Br;rt.VALIDATOR_INFO_KEY=fh;rt.VERSION_PREFIX_MASK=co;rt.VOTE_PROGRAM_ID=lm;rt.ValidatorInfo=uu;rt.VersionedMessage=du;rt.VersionedTransaction=Ga;rt.VoteAccount=cu;rt.VoteAuthorizationLayout=cm;rt.VoteInit=uo;rt.VoteInstruction=au;rt.VoteProgram=Yn;rt.clusterApiUrl=ym;rt.sendAndConfirmRawTransaction=gm;rt.sendAndConfirmTransaction=Za});var tw,ho,hh=xe(()=>{"use strict";tw=V(j()),ho="lit_"});var dh={};mu(dh,{removeSaltFromDecryptedKey:()=>bm});function bm(r){if(!r.startsWith(ho))throw new Error(`Error: PKey was not encrypted with salt; all wrapped keys must be prefixed with \'${ho}\'`);return r.slice(ho.length)}var rw,ph=xe(()=>{"use strict";rw=V(j());hh()});var _m=Ht(()=>{var sw=V(j()),{clusterApiUrl:wm,Connection:vm,Keypair:xm,Transaction:km}=lh(),{removeSaltFromDecryptedKey:Sm}=(ph(),po(dh));(async()=>{if(!["devnet","testnet","mainnet-beta"].includes(unsignedTransaction.chain)){Lit.Actions.setResponse({response:`Error: Invalid Solana network: ${unsignedTransaction.chain}`});return}if(!unsignedTransaction.serializedTransaction||!unsignedTransaction.serializedTransaction.length===0){Lit.Actions.setResponse({response:`Error: Invalid serializedTransaction: ${unsignedTransaction.serializedTransaction}`});return}let t;try{t=await Lit.Actions.decryptToSingleNode({accessControlConditions,chain:"ethereum",ciphertext,dataToEncryptHash,authSig:null})}catch(i){Lit.Actions.setResponse({response:`Error: When decrypting data to private key: ${i.message}`});return}if(!t)return;let e;try{e=Sm(t)}catch(i){Lit.Actions.setResponse({response:i.message});return}let n=xm.fromSecretKey(Uint8Array.from(Buffer.from(e,"hex")));try{let i=km.from(Buffer.from(unsignedTransaction.serializedTransaction,"base64"));i.sign(n);let o=i.signature.toString("base64");if(broadcast){let d=await new vm(wm(unsignedTransaction.chain),"confirmed").sendRawTransaction(i.serialize());Lit.Actions.setResponse({response:d})}else Lit.Actions.setResponse({response:o})}catch(i){Lit.Actions.setResponse({response:`Error: During transaction signing and submission: ${i.message}`})}})()});_m();})();\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n\n@noble/hashes/utils.js:\n  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/modular.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/curve.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/edwards.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/montgomery.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/ed25519.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\nsafe-buffer/index.js:\n  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\n@solana/buffer-layout/lib/Layout.js:\n  (**\n   * Support for translating between Uint8Array instances and JavaScript\n   * native types.\n   *\n   * {@link module:Layout~Layout|Layout} is the basis of a class\n   * hierarchy that associates property names with sequences of encoded\n   * bytes.\n   *\n   * Layouts are supported for these scalar (numeric) types:\n   * * {@link module:Layout~UInt|Unsigned integers in little-endian\n   *   format} with {@link module:Layout.u8|8-bit}, {@link\n   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},\n   *   {@link module:Layout.u32|32-bit}, {@link\n   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian\n   *   format} with {@link module:Layout.u16be|16-bit}, {@link\n   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},\n   *   {@link module:Layout.u40be|40-bit}, and {@link\n   *   module:Layout.u48be|48-bit} representation ranges;\n   * * {@link module:Layout~Int|Signed integers in little-endian\n   *   format} with {@link module:Layout.s8|8-bit}, {@link\n   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},\n   *   {@link module:Layout.s32|32-bit}, {@link\n   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~IntBE|Signed integers in big-endian format}\n   *   with {@link module:Layout.s16be|16-bit}, {@link\n   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},\n   *   {@link module:Layout.s40be|40-bit}, and {@link\n   *   module:Layout.s48be|48-bit} representation ranges;\n   * * 64-bit integral values that decode to an exact (if magnitude is\n   *   less than 2^53) or nearby integral Number in {@link\n   *   module:Layout.nu64|unsigned little-endian}, {@link\n   *   module:Layout.nu64be|unsigned big-endian}, {@link\n   *   module:Layout.ns64|signed little-endian}, and {@link\n   *   module:Layout.ns64be|unsigned big-endian} encodings;\n   * * 32-bit floating point values with {@link\n   *   module:Layout.f32|little-endian} and {@link\n   *   module:Layout.f32be|big-endian} representations;\n   * * 64-bit floating point values with {@link\n   *   module:Layout.f64|little-endian} and {@link\n   *   module:Layout.f64be|big-endian} representations;\n   * * {@link module:Layout.const|Constants} that take no space in the\n   *   encoded expression.\n   *\n   * and for these aggregate types:\n   * * {@link module:Layout.seq|Sequence}s of instances of a {@link\n   *   module:Layout~Layout|Layout}, with JavaScript representation as\n   *   an Array and constant or data-dependent {@link\n   *   module:Layout~Sequence#count|length};\n   * * {@link module:Layout.struct|Structure}s that aggregate a\n   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}\n   *   instances, with JavaScript representation as an Object;\n   * * {@link module:Layout.union|Union}s that support multiple {@link\n   *   module:Layout~VariantLayout|variant layouts} over a fixed\n   *   (padded) or variable (not padded) span of bytes, using an\n   *   unsigned integer at the start of the data or a separate {@link\n   *   module:Layout.unionLayoutDiscriminator|layout element} to\n   *   determine which layout to use when interpreting the buffer\n   *   contents;\n   * * {@link module:Layout.bits|BitStructure}s that contain a sequence\n   *   of individual {@link\n   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,\n   *   16, 24, or 32-bit unsigned integer starting at the least- or\n   *   most-significant bit;\n   * * {@link module:Layout.cstr|C strings} of varying length;\n   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link\n   *   module:Layout~Blob#length|length} raw data.\n   *\n   * All {@link module:Layout~Layout|Layout} instances are immutable\n   * after construction, to prevent internal state from becoming\n   * inconsistent.\n   *\n   * @local Layout\n   * @local ExternalLayout\n   * @local GreedyCount\n   * @local OffsetLayout\n   * @local UInt\n   * @local UIntBE\n   * @local Int\n   * @local IntBE\n   * @local NearUInt64\n   * @local NearUInt64BE\n   * @local NearInt64\n   * @local NearInt64BE\n   * @local Float\n   * @local FloatBE\n   * @local Double\n   * @local DoubleBE\n   * @local Sequence\n   * @local Structure\n   * @local UnionDiscriminator\n   * @local UnionLayoutDiscriminator\n   * @local Union\n   * @local VariantLayout\n   * @local BitStructure\n   * @local BitField\n   * @local Boolean\n   * @local Blob\n   * @local CString\n   * @local Constant\n   * @local bindConstructorLayout\n   * @module Layout\n   * @license MIT\n   * @author Peter A. Bigot\n   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}\n   *)\n\n@noble/curves/abstract/weierstrass.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/_shortw_utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/secp256k1.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n*/\n';
module.exports = {
  code,
};
