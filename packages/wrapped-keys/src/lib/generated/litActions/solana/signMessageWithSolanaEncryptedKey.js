// ============== AUTOGENERATED ==============
// DO NOT EDIT THIS FILE. IT IS GENERATED ON BUILD. RUN `yarn bundle` IN THE ROOT DIRECTORY TO UPDATE THIS FILE.
const code =
  '"use strict";(()=>{var $0=Object.create;var us=Object.defineProperty;var V0=Object.getOwnPropertyDescriptor;var j0=Object.getOwnPropertyNames;var Y0=Object.getPrototypeOf,G0=Object.prototype.hasOwnProperty;var zu=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error(\'Dynamic require of "\'+r+\'" is not supported\')});var cr=(r,t)=>()=>(r&&(t=r(r=0)),t);var he=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Fu=(r,t)=>{for(var e in t)us(r,e,{get:t[e],enumerable:!0})},Ku=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of j0(t))!G0.call(r,i)&&i!==e&&us(r,i,{get:()=>t[i],enumerable:!(n=V0(t,i))||n.enumerable});return r};var it=(r,t,e)=>(e=r!=null?$0(Y0(r)):{},Ku(t||!r||!r.__esModule?us(e,"default",{value:r,enumerable:!0}):e,r)),Uo=r=>Ku(us({},"__esModule",{value:!0}),r);var Hu=he(cs=>{"use strict";var im=it(st());cs.byteLength=X0;cs.toByteArray=Q0;cs.fromByteArray=rl;var Xr=[],Hr=[],Z0=typeof Uint8Array<"u"?Uint8Array:Array,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Hn=0,Du=No.length;Hn<Du;++Hn)Xr[Hn]=No[Hn],Hr[No.charCodeAt(Hn)]=Hn;var Hn,Du;Hr[45]=62;Hr[95]=63;function Wu(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function X0(r){var t=Wu(r),e=t[0],n=t[1];return(e+n)*3/4-n}function J0(r,t,e){return(t+e)*3/4-e}function Q0(r){var t,e=Wu(r),n=e[0],i=e[1],o=new Z0(J0(r,n,i)),u=0,y=i>0?n-4:n,m;for(m=0;m<y;m+=4)t=Hr[r.charCodeAt(m)]<<18|Hr[r.charCodeAt(m+1)]<<12|Hr[r.charCodeAt(m+2)]<<6|Hr[r.charCodeAt(m+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=t&255;return i===2&&(t=Hr[r.charCodeAt(m)]<<2|Hr[r.charCodeAt(m+1)]>>4,o[u++]=t&255),i===1&&(t=Hr[r.charCodeAt(m)]<<10|Hr[r.charCodeAt(m+1)]<<4|Hr[r.charCodeAt(m+2)]>>2,o[u++]=t>>8&255,o[u++]=t&255),o}function tl(r){return Xr[r>>18&63]+Xr[r>>12&63]+Xr[r>>6&63]+Xr[r&63]}function el(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(tl(n));return i.join("")}function rl(r){for(var t,e=r.length,n=e%3,i=[],o=16383,u=0,y=e-n;u<y;u+=o)i.push(el(r,u,u+o>y?y:u+o));return n===1?(t=r[e-1],i.push(Xr[t>>2]+Xr[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],i.push(Xr[t>>10]+Xr[t>>4&63]+Xr[t<<2&63]+"=")),i.join("")}});var $u=he(qo=>{var om=it(st());qo.read=function(r,t,e,n,i){var o,u,y=i*8-n-1,m=(1<<y)-1,E=m>>1,A=-7,I=e?i-1:0,K=e?-1:1,T=r[t+I];for(I+=K,o=T&(1<<-A)-1,T>>=-A,A+=y;A>0;o=o*256+r[t+I],I+=K,A-=8);for(u=o&(1<<-A)-1,o>>=-A,A+=n;A>0;u=u*256+r[t+I],I+=K,A-=8);if(o===0)o=1-E;else{if(o===m)return u?NaN:(T?-1:1)*(1/0);u=u+Math.pow(2,n),o=o-E}return(T?-1:1)*u*Math.pow(2,o-n)};qo.write=function(r,t,e,n,i,o){var u,y,m,E=o*8-i-1,A=(1<<E)-1,I=A>>1,K=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:o-1,N=n?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,u=A):(u=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-u))<1&&(u--,m*=2),u+I>=1?t+=K/m:t+=K*Math.pow(2,1-I),t*m>=2&&(u++,m/=2),u+I>=A?(y=0,u=A):u+I>=1?(y=(t*m-1)*Math.pow(2,i),u=u+I):(y=t*Math.pow(2,I-1)*Math.pow(2,i),u=0));i>=8;r[e+T]=y&255,T+=N,y/=256,i-=8);for(u=u<<i|y,E+=i;E>0;r[e+T]=u&255,T+=N,u/=256,E-=8);r[e+T-N]|=R*128}});var fi=he(ci=>{"use strict";var cm=it(st());var zo=Hu(),ai=$u(),Vu=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ci.Buffer=rt;ci.SlowBuffer=ul;ci.INSPECT_MAX_BYTES=50;var fs=2147483647;ci.kMaxLength=fs;rt.TYPED_ARRAY_SUPPORT=nl();!rt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function nl(){try{let r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(rt.prototype,"parent",{enumerable:!0,get:function(){if(rt.isBuffer(this))return this.buffer}});Object.defineProperty(rt.prototype,"offset",{enumerable:!0,get:function(){if(rt.isBuffer(this))return this.byteOffset}});function ln(r){if(r>fs)throw new RangeError(\'The value "\'+r+\'" is invalid for option "size"\');let t=new Uint8Array(r);return Object.setPrototypeOf(t,rt.prototype),t}function rt(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError(\'The "string" argument must be of type string. Received type number\');return Wo(r)}return Zu(r,t,e)}rt.poolSize=8192;function Zu(r,t,e){if(typeof r=="string")return sl(r,t);if(ArrayBuffer.isView(r))return ol(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Jr(r,ArrayBuffer)||r&&Jr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jr(r,SharedArrayBuffer)||r&&Jr(r.buffer,SharedArrayBuffer)))return Ko(r,t,e);if(typeof r=="number")throw new TypeError(\'The "value" argument must not be of type number. Received type number\');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return rt.from(n,t,e);let i=al(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return rt.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}rt.from=function(r,t,e){return Zu(r,t,e)};Object.setPrototypeOf(rt.prototype,Uint8Array.prototype);Object.setPrototypeOf(rt,Uint8Array);function Xu(r){if(typeof r!="number")throw new TypeError(\'"size" argument must be of type number\');if(r<0)throw new RangeError(\'The value "\'+r+\'" is invalid for option "size"\')}function il(r,t,e){return Xu(r),r<=0?ln(r):t!==void 0?typeof e=="string"?ln(r).fill(t,e):ln(r).fill(t):ln(r)}rt.alloc=function(r,t,e){return il(r,t,e)};function Wo(r){return Xu(r),ln(r<0?0:Ho(r)|0)}rt.allocUnsafe=function(r){return Wo(r)};rt.allocUnsafeSlow=function(r){return Wo(r)};function sl(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!rt.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=Ju(r,t)|0,n=ln(e),i=n.write(r,t);return i!==e&&(n=n.slice(0,i)),n}function Fo(r){let t=r.length<0?0:Ho(r.length)|0,e=ln(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function ol(r){if(Jr(r,Uint8Array)){let t=new Uint8Array(r);return Ko(t.buffer,t.byteOffset,t.byteLength)}return Fo(r)}function Ko(r,t,e){if(t<0||r.byteLength<t)throw new RangeError(\'"offset" is outside of buffer bounds\');if(r.byteLength<t+(e||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,rt.prototype),n}function al(r){if(rt.isBuffer(r)){let t=Ho(r.length)|0,e=ln(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||Vo(r.length)?ln(0):Fo(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Fo(r.data)}function Ho(r){if(r>=fs)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fs.toString(16)+" bytes");return r|0}function ul(r){return+r!=r&&(r=0),rt.alloc(+r)}rt.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==rt.prototype};rt.compare=function(t,e){if(Jr(t,Uint8Array)&&(t=rt.from(t,t.offset,t.byteLength)),Jr(e,Uint8Array)&&(e=rt.from(e,e.offset,e.byteLength)),!rt.isBuffer(t)||!rt.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let n=t.length,i=e.length;for(let o=0,u=Math.min(n,i);o<u;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};rt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};rt.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(t.length===0)return rt.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let i=rt.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){let u=t[n];if(Jr(u,Uint8Array))o+u.length>i.length?(rt.isBuffer(u)||(u=rt.from(u)),u.copy(i,o)):Uint8Array.prototype.set.call(i,u,o);else if(rt.isBuffer(u))u.copy(i,o);else throw new TypeError(\'"list" argument must be an Array of Buffers\');o+=u.length}return i};function Ju(r,t){if(rt.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Jr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof r);let e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Do(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ac(r).length;default:if(i)return n?-1:Do(r).length;t=(""+t).toLowerCase(),i=!0}}rt.byteLength=Ju;function cl(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return wl(this,t,e);case"utf8":case"utf-8":return tc(this,t,e);case"ascii":return ml(this,t,e);case"latin1":case"binary":return bl(this,t,e);case"base64":return yl(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xl(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}rt.prototype._isBuffer=!0;function $n(r,t,e){let n=r[t];r[t]=r[e],r[e]=n}rt.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)$n(this,e,e+1);return this};rt.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)$n(this,e,e+3),$n(this,e+1,e+2);return this};rt.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)$n(this,e,e+7),$n(this,e+1,e+6),$n(this,e+2,e+5),$n(this,e+3,e+4);return this};rt.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?tc(this,0,t):cl.apply(this,arguments)};rt.prototype.toLocaleString=rt.prototype.toString;rt.prototype.equals=function(t){if(!rt.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:rt.compare(this,t)===0};rt.prototype.inspect=function(){let t="",e=ci.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};Vu&&(rt.prototype[Vu]=rt.prototype.inspect);rt.prototype.compare=function(t,e,n,i,o){if(Jr(t,Uint8Array)&&(t=rt.from(t,t.offset,t.byteLength)),!rt.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let u=o-i,y=n-e,m=Math.min(u,y),E=this.slice(i,o),A=t.slice(e,n);for(let I=0;I<m;++I)if(E[I]!==A[I]){u=E[I],y=A[I];break}return u<y?-1:y<u?1:0};function Qu(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Vo(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=rt.from(t,n)),rt.isBuffer(t))return t.length===0?-1:ju(r,t,e,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):ju(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function ju(r,t,e,n,i){let o=1,u=r.length,y=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,u/=2,y/=2,e/=2}function m(A,I){return o===1?A[I]:A.readUInt16BE(I*o)}let E;if(i){let A=-1;for(E=e;E<u;E++)if(m(r,E)===m(t,A===-1?0:E-A)){if(A===-1&&(A=E),E-A+1===y)return A*o}else A!==-1&&(E-=E-A),A=-1}else for(e+y>u&&(e=u-y),E=e;E>=0;E--){let A=!0;for(let I=0;I<y;I++)if(m(r,E+I)!==m(t,I)){A=!1;break}if(A)return E}return-1}rt.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};rt.prototype.indexOf=function(t,e,n){return Qu(this,t,e,n,!0)};rt.prototype.lastIndexOf=function(t,e,n){return Qu(this,t,e,n,!1)};function fl(r,t,e,n){e=Number(e)||0;let i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let u;for(u=0;u<n;++u){let y=parseInt(t.substr(u*2,2),16);if(Vo(y))return u;r[e+u]=y}return u}function hl(r,t,e,n){return hs(Do(t,r.length-e),r,e,n)}function ll(r,t,e,n){return hs(Sl(t),r,e,n)}function dl(r,t,e,n){return hs(ac(t),r,e,n)}function pl(r,t,e,n){return hs(El(t,r.length-e),r,e,n)}rt.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let u=!1;for(;;)switch(i){case"hex":return fl(this,t,e,n);case"utf8":case"utf-8":return hl(this,t,e,n);case"ascii":case"latin1":case"binary":return ll(this,t,e,n);case"base64":return dl(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pl(this,t,e,n);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}};rt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function yl(r,t,e){return t===0&&e===r.length?zo.fromByteArray(r):zo.fromByteArray(r.slice(t,e))}function tc(r,t,e){e=Math.min(r.length,e);let n=[],i=t;for(;i<e;){let o=r[i],u=null,y=o>239?4:o>223?3:o>191?2:1;if(i+y<=e){let m,E,A,I;switch(y){case 1:o<128&&(u=o);break;case 2:m=r[i+1],(m&192)===128&&(I=(o&31)<<6|m&63,I>127&&(u=I));break;case 3:m=r[i+1],E=r[i+2],(m&192)===128&&(E&192)===128&&(I=(o&15)<<12|(m&63)<<6|E&63,I>2047&&(I<55296||I>57343)&&(u=I));break;case 4:m=r[i+1],E=r[i+2],A=r[i+3],(m&192)===128&&(E&192)===128&&(A&192)===128&&(I=(o&15)<<18|(m&63)<<12|(E&63)<<6|A&63,I>65535&&I<1114112&&(u=I))}}u===null?(u=65533,y=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|u&1023),n.push(u),i+=y}return gl(n)}var Yu=4096;function gl(r){let t=r.length;if(t<=Yu)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Yu));return e}function ml(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function bl(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function wl(r,t,e){let n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let i="";for(let o=t;o<e;++o)i+=Bl[r[o]];return i}function xl(r,t,e){let n=r.slice(t,e),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}rt.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,rt.prototype),i};function or(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}rt.prototype.readUintLE=rt.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||or(t,e,this.length);let i=this[t],o=1,u=0;for(;++u<e&&(o*=256);)i+=this[t+u]*o;return i};rt.prototype.readUintBE=rt.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||or(t,e,this.length);let i=this[t+--e],o=1;for(;e>0&&(o*=256);)i+=this[t+--e]*o;return i};rt.prototype.readUint8=rt.prototype.readUInt8=function(t,e){return t=t>>>0,e||or(t,1,this.length),this[t]};rt.prototype.readUint16LE=rt.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||or(t,2,this.length),this[t]|this[t+1]<<8};rt.prototype.readUint16BE=rt.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||or(t,2,this.length),this[t]<<8|this[t+1]};rt.prototype.readUint32LE=rt.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||or(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};rt.prototype.readUint32BE=rt.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||or(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};rt.prototype.readBigUInt64LE=kn(function(t){t=t>>>0,ui(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ii(t,this.length-8);let i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});rt.prototype.readBigUInt64BE=kn(function(t){t=t>>>0,ui(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ii(t,this.length-8);let i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});rt.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||or(t,e,this.length);let i=this[t],o=1,u=0;for(;++u<e&&(o*=256);)i+=this[t+u]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};rt.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||or(t,e,this.length);let i=e,o=1,u=this[t+--i];for(;i>0&&(o*=256);)u+=this[t+--i]*o;return o*=128,u>=o&&(u-=Math.pow(2,8*e)),u};rt.prototype.readInt8=function(t,e){return t=t>>>0,e||or(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};rt.prototype.readInt16LE=function(t,e){t=t>>>0,e||or(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};rt.prototype.readInt16BE=function(t,e){t=t>>>0,e||or(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};rt.prototype.readInt32LE=function(t,e){return t=t>>>0,e||or(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};rt.prototype.readInt32BE=function(t,e){return t=t>>>0,e||or(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};rt.prototype.readBigInt64LE=kn(function(t){t=t>>>0,ui(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ii(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});rt.prototype.readBigInt64BE=kn(function(t){t=t>>>0,ui(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ii(t,this.length-8);let i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});rt.prototype.readFloatLE=function(t,e){return t=t>>>0,e||or(t,4,this.length),ai.read(this,t,!0,23,4)};rt.prototype.readFloatBE=function(t,e){return t=t>>>0,e||or(t,4,this.length),ai.read(this,t,!1,23,4)};rt.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||or(t,8,this.length),ai.read(this,t,!0,52,8)};rt.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||or(t,8,this.length),ai.read(this,t,!1,52,8)};function Pr(r,t,e,n,i,o){if(!rt.isBuffer(r))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(t>i||t<o)throw new RangeError(\'"value" argument is out of bounds\');if(e+n>r.length)throw new RangeError("Index out of range")}rt.prototype.writeUintLE=rt.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let y=Math.pow(2,8*n)-1;Pr(this,t,e,n,y,0)}let o=1,u=0;for(this[e]=t&255;++u<n&&(o*=256);)this[e+u]=t/o&255;return e+n};rt.prototype.writeUintBE=rt.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let y=Math.pow(2,8*n)-1;Pr(this,t,e,n,y,0)}let o=n-1,u=1;for(this[e+o]=t&255;--o>=0&&(u*=256);)this[e+o]=t/u&255;return e+n};rt.prototype.writeUint8=rt.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,1,255,0),this[e]=t&255,e+1};rt.prototype.writeUint16LE=rt.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};rt.prototype.writeUint16BE=rt.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};rt.prototype.writeUint32LE=rt.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};rt.prototype.writeUint32BE=rt.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function ec(r,t,e,n,i){oc(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o;let u=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=u,u=u>>8,r[e++]=u,u=u>>8,r[e++]=u,u=u>>8,r[e++]=u,e}function rc(r,t,e,n,i){oc(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e+7]=o,o=o>>8,r[e+6]=o,o=o>>8,r[e+5]=o,o=o>>8,r[e+4]=o;let u=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=u,u=u>>8,r[e+2]=u,u=u>>8,r[e+1]=u,u=u>>8,r[e]=u,e+8}rt.prototype.writeBigUInt64LE=kn(function(t,e=0){return ec(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});rt.prototype.writeBigUInt64BE=kn(function(t,e=0){return rc(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});rt.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let m=Math.pow(2,8*n-1);Pr(this,t,e,n,m-1,-m)}let o=0,u=1,y=0;for(this[e]=t&255;++o<n&&(u*=256);)t<0&&y===0&&this[e+o-1]!==0&&(y=1),this[e+o]=(t/u>>0)-y&255;return e+n};rt.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let m=Math.pow(2,8*n-1);Pr(this,t,e,n,m-1,-m)}let o=n-1,u=1,y=0;for(this[e+o]=t&255;--o>=0&&(u*=256);)t<0&&y===0&&this[e+o+1]!==0&&(y=1),this[e+o]=(t/u>>0)-y&255;return e+n};rt.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};rt.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};rt.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};rt.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};rt.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||Pr(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};rt.prototype.writeBigInt64LE=kn(function(t,e=0){return ec(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});rt.prototype.writeBigInt64BE=kn(function(t,e=0){return rc(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function nc(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ic(r,t,e,n,i){return t=+t,e=e>>>0,i||nc(r,t,e,4,34028234663852886e22,-34028234663852886e22),ai.write(r,t,e,n,23,4),e+4}rt.prototype.writeFloatLE=function(t,e,n){return ic(this,t,e,!0,n)};rt.prototype.writeFloatBE=function(t,e,n){return ic(this,t,e,!1,n)};function sc(r,t,e,n,i){return t=+t,e=e>>>0,i||nc(r,t,e,8,17976931348623157e292,-17976931348623157e292),ai.write(r,t,e,n,52,8),e+8}rt.prototype.writeDoubleLE=function(t,e,n){return sc(this,t,e,!0,n)};rt.prototype.writeDoubleBE=function(t,e,n){return sc(this,t,e,!1,n)};rt.prototype.copy=function(t,e,n,i){if(!rt.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o};rt.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!rt.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let u=t.charCodeAt(0);(i==="utf8"&&u<128||i==="latin1")&&(t=u)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{let u=rt.isBuffer(t)?t:rt.from(t,i),y=u.length;if(y===0)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(o=0;o<n-e;++o)this[o+e]=u[o%y]}return this};var oi={};function $o(r,t,e){oi[r]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}$o("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);$o("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError);$o("ERR_OUT_OF_RANGE",function(r,t,e){let n=`The value of "${r}" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=Gu(String(e)):typeof e=="bigint"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=Gu(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function Gu(r){let t="",e=r.length,n=r[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function vl(r,t,e){ui(t,"offset"),(r[t]===void 0||r[t+e]===void 0)&&Ii(t,r.length-(e+1))}function oc(r,t,e,n,i,o){if(r>e||r<t){let u=typeof t=="bigint"?"n":"",y;throw o>3?t===0||t===BigInt(0)?y=`>= 0${u} and < 2${u} ** ${(o+1)*8}${u}`:y=`>= -(2${u} ** ${(o+1)*8-1}${u}) and < 2 ** ${(o+1)*8-1}${u}`:y=`>= ${t}${u} and <= ${e}${u}`,new oi.ERR_OUT_OF_RANGE("value",y,r)}vl(n,i,o)}function ui(r,t){if(typeof r!="number")throw new oi.ERR_INVALID_ARG_TYPE(t,"number",r)}function Ii(r,t,e){throw Math.floor(r)!==r?(ui(r,e),new oi.ERR_OUT_OF_RANGE(e||"offset","an integer",r)):t<0?new oi.ERR_BUFFER_OUT_OF_BOUNDS:new oi.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,r)}var _l=/[^+/0-9A-Za-z-_]/g;function kl(r){if(r=r.split("=")[0],r=r.trim().replace(_l,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Do(r,t){t=t||1/0;let e,n=r.length,i=null,o=[];for(let u=0;u<n;++u){if(e=r.charCodeAt(u),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(u+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Sl(r){let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function El(r,t){let e,n,i,o=[];for(let u=0;u<r.length&&!((t-=2)<0);++u)e=r.charCodeAt(u),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function ac(r){return zo.toByteArray(kl(r))}function hs(r,t,e,n){let i;for(i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function Jr(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function Vo(r){return r!==r}var Bl=function(){let r="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let i=0;i<16;++i)t[n+i]=r[e]+r[i]}return t}();function kn(r){return typeof BigInt>"u"?Al:r}function Al(){throw new Error("BigInt not supported")}});var st=he(()=>{"use strict";var uc=it(fi());globalThis.Buffer=uc.Buffer});var Mi=he(fr=>{"use strict";var dm=it(st());Object.defineProperty(fr,"__esModule",{value:!0});fr.output=fr.exists=fr.hash=fr.bytes=fr.bool=fr.number=fr.isBytes=void 0;function ls(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}fr.number=ls;function cc(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}fr.bool=cc;function fc(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}fr.isBytes=fc;function jo(r,...t){if(!fc(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}fr.bytes=jo;function hc(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ls(r.outputLen),ls(r.blockLen)}fr.hash=hc;function lc(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}fr.exists=lc;function dc(r,t){jo(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}fr.output=dc;var Il={number:ls,bool:cc,bytes:jo,hash:hc,exists:lc,output:dc};fr.default=Il});var pc=he(ds=>{"use strict";var ym=it(st());Object.defineProperty(ds,"__esModule",{value:!0});ds.crypto=void 0;ds.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var pn=he(Yt=>{"use strict";var mm=it(st());Object.defineProperty(Yt,"__esModule",{value:!0});Yt.randomBytes=Yt.wrapXOFConstructorWithOpts=Yt.wrapConstructorWithOpts=Yt.wrapConstructor=Yt.checkOpts=Yt.Hash=Yt.concatBytes=Yt.toBytes=Yt.utf8ToBytes=Yt.asyncLoop=Yt.nextTick=Yt.hexToBytes=Yt.bytesToHex=Yt.byteSwap32=Yt.byteSwapIfBE=Yt.byteSwap=Yt.isLE=Yt.rotl=Yt.rotr=Yt.createView=Yt.u32=Yt.u8=Yt.isBytes=void 0;var Yo=pc(),Zo=Mi();function Ml(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}Yt.isBytes=Ml;var Rl=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);Yt.u8=Rl;var Tl=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));Yt.u32=Tl;var Ll=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);Yt.createView=Ll;var Pl=(r,t)=>r<<32-t|r>>>t;Yt.rotr=Pl;var Cl=(r,t)=>r<<t|r>>>32-t>>>0;Yt.rotl=Cl;Yt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var Ol=r=>r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255;Yt.byteSwap=Ol;Yt.byteSwapIfBE=Yt.isLE?r=>r:r=>(0,Yt.byteSwap)(r);function Ul(r){for(let t=0;t<r.length;t++)r[t]=(0,Yt.byteSwap)(r[t])}Yt.byteSwap32=Ul;var Nl=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ql(r){(0,Zo.bytes)(r);let t="";for(let e=0;e<r.length;e++)t+=Nl[r[e]];return t}Yt.bytesToHex=ql;var dn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function yc(r){if(r>=dn._0&&r<=dn._9)return r-dn._0;if(r>=dn._A&&r<=dn._F)return r-(dn._A-10);if(r>=dn._a&&r<=dn._f)return r-(dn._a-10)}function zl(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(e);for(let i=0,o=0;i<e;i++,o+=2){let u=yc(r.charCodeAt(o)),y=yc(r.charCodeAt(o+1));if(u===void 0||y===void 0){let m=r[o]+r[o+1];throw new Error(\'hex string expected, got non-hex character "\'+m+\'" at index \'+o)}n[i]=u*16+y}return n}Yt.hexToBytes=zl;var Fl=async()=>{};Yt.nextTick=Fl;async function Kl(r,t,e){let n=Date.now();for(let i=0;i<r;i++){e(i);let o=Date.now()-n;o>=0&&o<t||(await(0,Yt.nextTick)(),n+=o)}}Yt.asyncLoop=Kl;function gc(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}Yt.utf8ToBytes=gc;function ps(r){return typeof r=="string"&&(r=gc(r)),(0,Zo.bytes)(r),r}Yt.toBytes=ps;function Dl(...r){let t=0;for(let n=0;n<r.length;n++){let i=r[n];(0,Zo.bytes)(i),t+=i.length}let e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let o=r[n];e.set(o,i),i+=o.length}return e}Yt.concatBytes=Dl;var Go=class{clone(){return this._cloneInto()}};Yt.Hash=Go;var Wl={}.toString;function Hl(r,t){if(t!==void 0&&Wl.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,t)}Yt.checkOpts=Hl;function $l(r){let t=n=>r().update(ps(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}Yt.wrapConstructor=$l;function Vl(r){let t=(n,i)=>r(i).update(ps(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}Yt.wrapConstructorWithOpts=Vl;function jl(r){let t=(n,i)=>r(i).update(ps(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}Yt.wrapXOFConstructorWithOpts=jl;function Yl(r=32){if(Yo.crypto&&typeof Yo.crypto.getRandomValues=="function")return Yo.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}Yt.randomBytes=Yl});var Qo=he(Sn=>{"use strict";var wm=it(st());Object.defineProperty(Sn,"__esModule",{value:!0});Sn.HashMD=Sn.Maj=Sn.Chi=void 0;var Xo=Mi(),Ri=pn();function Gl(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let i=BigInt(32),o=BigInt(4294967295),u=Number(e>>i&o),y=Number(e&o),m=n?4:0,E=n?0:4;r.setUint32(t+m,u,n),r.setUint32(t+E,y,n)}var Zl=(r,t,e)=>r&t^~r&e;Sn.Chi=Zl;var Xl=(r,t,e)=>r&t^r&e^t&e;Sn.Maj=Xl;var Jo=class extends Ri.Hash{constructor(t,e,n,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Ri.createView)(this.buffer)}update(t){(0,Xo.exists)(this);let{view:e,buffer:n,blockLen:i}=this;t=(0,Ri.toBytes)(t);let o=t.length;for(let u=0;u<o;){let y=Math.min(i-this.pos,o-u);if(y===i){let m=(0,Ri.createView)(t);for(;i<=o-u;u+=i)this.process(m,u);continue}n.set(t.subarray(u,u+y),this.pos),this.pos+=y,u+=y,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Xo.exists)(this),(0,Xo.output)(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:i,isLE:o}=this,{pos:u}=this;e[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(n,0),u=0);for(let I=u;I<i;I++)e[I]=0;Gl(n,i-8,BigInt(this.length*8),o),this.process(n,0);let y=(0,Ri.createView)(t),m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let E=m/4,A=this.get();if(E>A.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<E;I++)y.setUint32(4*I,A[I],o)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:i,finished:o,destroyed:u,pos:y}=this;return t.length=i,t.pos=y,t.finished=o,t.destroyed=u,i%e&&t.buffer.set(n),t}};Sn.HashMD=Jo});var ra=he(ce=>{"use strict";var vm=it(st());Object.defineProperty(ce,"__esModule",{value:!0});ce.add5L=ce.add5H=ce.add4H=ce.add4L=ce.add3H=ce.add3L=ce.add=ce.rotlBL=ce.rotlBH=ce.rotlSL=ce.rotlSH=ce.rotr32L=ce.rotr32H=ce.rotrBL=ce.rotrBH=ce.rotrSL=ce.rotrSH=ce.shrSL=ce.shrSH=ce.toBig=ce.split=ce.fromBig=void 0;var ys=BigInt(2**32-1),ta=BigInt(32);function ea(r,t=!1){return t?{h:Number(r&ys),l:Number(r>>ta&ys)}:{h:Number(r>>ta&ys)|0,l:Number(r&ys)|0}}ce.fromBig=ea;function mc(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:o,l:u}=ea(r[i],t);[e[i],n[i]]=[o,u]}return[e,n]}ce.split=mc;var bc=(r,t)=>BigInt(r>>>0)<<ta|BigInt(t>>>0);ce.toBig=bc;var wc=(r,t,e)=>r>>>e;ce.shrSH=wc;var xc=(r,t,e)=>r<<32-e|t>>>e;ce.shrSL=xc;var vc=(r,t,e)=>r>>>e|t<<32-e;ce.rotrSH=vc;var _c=(r,t,e)=>r<<32-e|t>>>e;ce.rotrSL=_c;var kc=(r,t,e)=>r<<64-e|t>>>e-32;ce.rotrBH=kc;var Sc=(r,t,e)=>r>>>e-32|t<<64-e;ce.rotrBL=Sc;var Ec=(r,t)=>t;ce.rotr32H=Ec;var Bc=(r,t)=>r;ce.rotr32L=Bc;var Ac=(r,t,e)=>r<<e|t>>>32-e;ce.rotlSH=Ac;var Ic=(r,t,e)=>t<<e|r>>>32-e;ce.rotlSL=Ic;var Mc=(r,t,e)=>t<<e-32|r>>>64-e;ce.rotlBH=Mc;var Rc=(r,t,e)=>r<<e-32|t>>>64-e;ce.rotlBL=Rc;function Tc(r,t,e,n){let i=(t>>>0)+(n>>>0);return{h:r+e+(i/2**32|0)|0,l:i|0}}ce.add=Tc;var Lc=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0);ce.add3L=Lc;var Pc=(r,t,e,n)=>t+e+n+(r/2**32|0)|0;ce.add3H=Pc;var Cc=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0);ce.add4L=Cc;var Oc=(r,t,e,n,i)=>t+e+n+i+(r/2**32|0)|0;ce.add4H=Oc;var Uc=(r,t,e,n,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0);ce.add5L=Uc;var Nc=(r,t,e,n,i,o)=>t+e+n+i+o+(r/2**32|0)|0;ce.add5H=Nc;var Jl={fromBig:ea,split:mc,toBig:bc,shrSH:wc,shrSL:xc,rotrSH:vc,rotrSL:_c,rotrBH:kc,rotrBL:Sc,rotr32H:Ec,rotr32L:Bc,rotlSH:Ac,rotlSL:Ic,rotlBH:Mc,rotlBL:Rc,add:Tc,add3L:Lc,add3H:Pc,add4L:Cc,add4H:Oc,add5H:Nc,add5L:Uc};ce.default=Jl});var qc=he($r=>{"use strict";var km=it(st());Object.defineProperty($r,"__esModule",{value:!0});$r.sha384=$r.sha512_256=$r.sha512_224=$r.sha512=$r.SHA512=void 0;var Ql=Qo(),_e=ra(),gs=pn(),[td,ed]=_e.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),En=new Uint32Array(80),Bn=new Uint32Array(80),Vn=class extends Ql.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:i,Ch:o,Cl:u,Dh:y,Dl:m,Eh:E,El:A,Fh:I,Fl:K,Gh:T,Gl:N,Hh:R,Hl:O}=this;return[t,e,n,i,o,u,y,m,E,A,I,K,T,N,R,O]}set(t,e,n,i,o,u,y,m,E,A,I,K,T,N,R,O){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=u|0,this.Dh=y|0,this.Dl=m|0,this.Eh=E|0,this.El=A|0,this.Fh=I|0,this.Fl=K|0,this.Gh=T|0,this.Gl=N|0,this.Hh=R|0,this.Hl=O|0}process(t,e){for(let W=0;W<16;W++,e+=4)En[W]=t.getUint32(e),Bn[W]=t.getUint32(e+=4);for(let W=16;W<80;W++){let J=En[W-15]|0,et=Bn[W-15]|0,Q=_e.default.rotrSH(J,et,1)^_e.default.rotrSH(J,et,8)^_e.default.shrSH(J,et,7),ht=_e.default.rotrSL(J,et,1)^_e.default.rotrSL(J,et,8)^_e.default.shrSL(J,et,7),yt=En[W-2]|0,ee=Bn[W-2]|0,qt=_e.default.rotrSH(yt,ee,19)^_e.default.rotrBH(yt,ee,61)^_e.default.shrSH(yt,ee,6),lt=_e.default.rotrSL(yt,ee,19)^_e.default.rotrBL(yt,ee,61)^_e.default.shrSL(yt,ee,6),oe=_e.default.add4L(ht,lt,Bn[W-7],Bn[W-16]),x=_e.default.add4H(oe,Q,qt,En[W-7],En[W-16]);En[W]=x|0,Bn[W]=oe|0}let{Ah:n,Al:i,Bh:o,Bl:u,Ch:y,Cl:m,Dh:E,Dl:A,Eh:I,El:K,Fh:T,Fl:N,Gh:R,Gl:O,Hh:F,Hl:Y}=this;for(let W=0;W<80;W++){let J=_e.default.rotrSH(I,K,14)^_e.default.rotrSH(I,K,18)^_e.default.rotrBH(I,K,41),et=_e.default.rotrSL(I,K,14)^_e.default.rotrSL(I,K,18)^_e.default.rotrBL(I,K,41),Q=I&T^~I&R,ht=K&N^~K&O,yt=_e.default.add5L(Y,et,ht,ed[W],Bn[W]),ee=_e.default.add5H(yt,F,J,Q,td[W],En[W]),qt=yt|0,lt=_e.default.rotrSH(n,i,28)^_e.default.rotrBH(n,i,34)^_e.default.rotrBH(n,i,39),oe=_e.default.rotrSL(n,i,28)^_e.default.rotrBL(n,i,34)^_e.default.rotrBL(n,i,39),x=n&o^n&y^o&y,s=i&u^i&m^u&m;F=R|0,Y=O|0,R=T|0,O=N|0,T=I|0,N=K|0,{h:I,l:K}=_e.default.add(E|0,A|0,ee|0,qt|0),E=y|0,A=m|0,y=o|0,m=u|0,o=n|0,u=i|0;let c=_e.default.add3L(qt,oe,s);n=_e.default.add3H(c,ee,lt,x),i=c|0}({h:n,l:i}=_e.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:u}=_e.default.add(this.Bh|0,this.Bl|0,o|0,u|0),{h:y,l:m}=_e.default.add(this.Ch|0,this.Cl|0,y|0,m|0),{h:E,l:A}=_e.default.add(this.Dh|0,this.Dl|0,E|0,A|0),{h:I,l:K}=_e.default.add(this.Eh|0,this.El|0,I|0,K|0),{h:T,l:N}=_e.default.add(this.Fh|0,this.Fl|0,T|0,N|0),{h:R,l:O}=_e.default.add(this.Gh|0,this.Gl|0,R|0,O|0),{h:F,l:Y}=_e.default.add(this.Hh|0,this.Hl|0,F|0,Y|0),this.set(n,i,o,u,y,m,E,A,I,K,T,N,R,O,F,Y)}roundClean(){En.fill(0),Bn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};$r.SHA512=Vn;var na=class extends Vn{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},ia=class extends Vn{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},sa=class extends Vn{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};$r.sha512=(0,gs.wrapConstructor)(()=>new Vn);$r.sha512_224=(0,gs.wrapConstructor)(()=>new na);$r.sha512_256=(0,gs.wrapConstructor)(()=>new ia);$r.sha384=(0,gs.wrapConstructor)(()=>new sa)});var jr=he(je=>{"use strict";var Em=it(st());Object.defineProperty(je,"__esModule",{value:!0});je.bitMask=void 0;je.isBytes=bs;je.abytes=ws;je.bytesToHex=aa;je.numberToHexUnpadded=Dc;je.hexToNumber=ua;je.hexToBytes=xs;je.bytesToNumberBE=id;je.bytesToNumberLE=sd;je.numberToBytesBE=Wc;je.numberToBytesLE=od;je.numberToVarBytesBE=ad;je.ensureBytes=ud;je.concatBytes=Hc;je.equalBytes=cd;je.utf8ToBytes=fd;je.bitLen=hd;je.bitGet=ld;je.bitSet=dd;je.createHmacDrbg=yd;je.validateObject=md;var Kc=BigInt(0),ms=BigInt(1),rd=BigInt(2);function bs(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function ws(r){if(!bs(r))throw new Error("Uint8Array expected")}var nd=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function aa(r){ws(r);let t="";for(let e=0;e<r.length;e++)t+=nd[r[e]];return t}function Dc(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function ua(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}var yn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function zc(r){if(r>=yn._0&&r<=yn._9)return r-yn._0;if(r>=yn._A&&r<=yn._F)return r-(yn._A-10);if(r>=yn._a&&r<=yn._f)return r-(yn._a-10)}function xs(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(e);for(let i=0,o=0;i<e;i++,o+=2){let u=zc(r.charCodeAt(o)),y=zc(r.charCodeAt(o+1));if(u===void 0||y===void 0){let m=r[o]+r[o+1];throw new Error(\'hex string expected, got non-hex character "\'+m+\'" at index \'+o)}n[i]=u*16+y}return n}function id(r){return ua(aa(r))}function sd(r){return ws(r),ua(aa(Uint8Array.from(r).reverse()))}function Wc(r,t){return xs(r.toString(16).padStart(t*2,"0"))}function od(r,t){return Wc(r,t).reverse()}function ad(r){return xs(Dc(r))}function ud(r,t,e){let n;if(typeof t=="string")try{n=xs(t)}catch(o){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${o}`)}else if(bs(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let i=n.length;if(typeof e=="number"&&i!==e)throw new Error(`${r} expected ${e} bytes, got ${i}`);return n}function Hc(...r){let t=0;for(let n=0;n<r.length;n++){let i=r[n];ws(i),t+=i.length}let e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let o=r[n];e.set(o,i),i+=o.length}return e}function cd(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function fd(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function hd(r){let t;for(t=0;r>Kc;r>>=ms,t+=1);return t}function ld(r,t){return r>>BigInt(t)&ms}function dd(r,t,e){return r|(e?ms:Kc)<<BigInt(t)}var pd=r=>(rd<<BigInt(r-1))-ms;je.bitMask=pd;var oa=r=>new Uint8Array(r),Fc=r=>Uint8Array.from(r);function yd(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=oa(r),i=oa(r),o=0,u=()=>{n.fill(1),i.fill(0),o=0},y=(...I)=>e(i,n,...I),m=(I=oa())=>{i=y(Fc([0]),I),n=y(),I.length!==0&&(i=y(Fc([1]),I),n=y())},E=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let I=0,K=[];for(;I<t;){n=y();let T=n.slice();K.push(T),I+=n.length}return Hc(...K)};return(I,K)=>{u(),m(I);let T;for(;!(T=K(E()));)m();return u(),T}}var gd={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||bs(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function md(r,t,e={}){let n=(i,o,u)=>{let y=gd[o];if(typeof y!="function")throw new Error(`Invalid validator "${o}", expected function`);let m=r[i];if(!(u&&m===void 0)&&!y(m,r))throw new Error(`Invalid param ${String(i)}=${m} (${typeof m}), expected ${o}`)};for(let[i,o]of Object.entries(t))n(i,o,!1);for(let[i,o]of Object.entries(e))n(i,o,!0);return r}});var In=he(Ye=>{"use strict";var Am=it(st());Object.defineProperty(Ye,"__esModule",{value:!0});Ye.isNegativeLE=void 0;Ye.mod=zr;Ye.pow=jc;Ye.pow2=vd;Ye.invert=vs;Ye.tonelliShanks=Yc;Ye.FpSqrt=Gc;Ye.validateField=Sd;Ye.FpPow=Zc;Ye.FpInvertBatch=Xc;Ye.FpDiv=Ed;Ye.FpIsSquare=Bd;Ye.nLength=fa;Ye.Field=Ad;Ye.FpSqrtOdd=Id;Ye.FpSqrtEven=Md;Ye.hashToPrivateScalar=Rd;Ye.getFieldBytesLength=ha;Ye.getMinHashLength=Jc;Ye.mapHashToField=Td;var Fr=jr(),sr=BigInt(0),De=BigInt(1),An=BigInt(2),bd=BigInt(3),ca=BigInt(4),$c=BigInt(5),Vc=BigInt(8),wd=BigInt(9),xd=BigInt(16);function zr(r,t){let e=r%t;return e>=sr?e:t+e}function jc(r,t,e){if(e<=sr||t<sr)throw new Error("Expected power/modulo > 0");if(e===De)return sr;let n=De;for(;t>sr;)t&De&&(n=n*r%e),r=r*r%e,t>>=De;return n}function vd(r,t,e){let n=r;for(;t-- >sr;)n*=n,n%=e;return n}function vs(r,t){if(r===sr||t<=sr)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=zr(r,t),n=t,i=sr,o=De,u=De,y=sr;for(;e!==sr;){let E=n/e,A=n%e,I=i-u*E,K=o-y*E;n=e,e=A,i=u,o=y,u=I,y=K}if(n!==De)throw new Error("invert: does not exist");return zr(i,t)}function Yc(r){let t=(r-De)/An,e,n,i;for(e=r-De,n=0;e%An===sr;e/=An,n++);for(i=An;i<r&&jc(i,t,r)!==r-De;i++);if(n===1){let u=(r+De)/ca;return function(m,E){let A=m.pow(E,u);if(!m.eql(m.sqr(A),E))throw new Error("Cannot find square root");return A}}let o=(e+De)/An;return function(y,m){if(y.pow(m,t)===y.neg(y.ONE))throw new Error("Cannot find square root");let E=n,A=y.pow(y.mul(y.ONE,i),e),I=y.pow(m,o),K=y.pow(m,e);for(;!y.eql(K,y.ONE);){if(y.eql(K,y.ZERO))return y.ZERO;let T=1;for(let R=y.sqr(K);T<E&&!y.eql(R,y.ONE);T++)R=y.sqr(R);let N=y.pow(A,De<<BigInt(E-T-1));A=y.sqr(N),I=y.mul(I,N),K=y.mul(K,A),E=T}return I}}function Gc(r){if(r%ca===bd){let t=(r+De)/ca;return function(n,i){let o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(r%Vc===$c){let t=(r-$c)/Vc;return function(n,i){let o=n.mul(i,An),u=n.pow(o,t),y=n.mul(i,u),m=n.mul(n.mul(y,An),u),E=n.mul(y,n.sub(m,n.ONE));if(!n.eql(n.sqr(E),i))throw new Error("Cannot find square root");return E}}return r%xd,Yc(r)}var _d=(r,t)=>(zr(r,t)&De)===De;Ye.isNegativeLE=_d;var kd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sd(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=kd.reduce((n,i)=>(n[i]="function",n),t);return(0,Fr.validateObject)(r,e)}function Zc(r,t,e){if(e<sr)throw new Error("Expected power > 0");if(e===sr)return r.ONE;if(e===De)return t;let n=r.ONE,i=t;for(;e>sr;)e&De&&(n=r.mul(n,i)),i=r.sqr(i),e>>=De;return n}function Xc(r,t){let e=new Array(t.length),n=t.reduce((o,u,y)=>r.is0(u)?o:(e[y]=o,r.mul(o,u)),r.ONE),i=r.inv(n);return t.reduceRight((o,u,y)=>r.is0(u)?o:(e[y]=r.mul(o,e[y]),r.mul(o,u)),i),e}function Ed(r,t,e){return r.mul(t,typeof e=="bigint"?vs(e,r.ORDER):r.inv(e))}function Bd(r){let t=(r.ORDER-De)/An;return e=>{let n=r.pow(e,t);return r.eql(n,r.ZERO)||r.eql(n,r.ONE)}}function fa(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Ad(r,t,e=!1,n={}){if(r<=sr)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:i,nByteLength:o}=fa(r,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let u=Gc(r),y=Object.freeze({ORDER:r,BITS:i,BYTES:o,MASK:(0,Fr.bitMask)(i),ZERO:sr,ONE:De,create:m=>zr(m,r),isValid:m=>{if(typeof m!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof m}`);return sr<=m&&m<r},is0:m=>m===sr,isOdd:m=>(m&De)===De,neg:m=>zr(-m,r),eql:(m,E)=>m===E,sqr:m=>zr(m*m,r),add:(m,E)=>zr(m+E,r),sub:(m,E)=>zr(m-E,r),mul:(m,E)=>zr(m*E,r),pow:(m,E)=>Zc(y,m,E),div:(m,E)=>zr(m*vs(E,r),r),sqrN:m=>m*m,addN:(m,E)=>m+E,subN:(m,E)=>m-E,mulN:(m,E)=>m*E,inv:m=>vs(m,r),sqrt:n.sqrt||(m=>u(y,m)),invertBatch:m=>Xc(y,m),cmov:(m,E,A)=>A?E:m,toBytes:m=>e?(0,Fr.numberToBytesLE)(m,o):(0,Fr.numberToBytesBE)(m,o),fromBytes:m=>{if(m.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${m.length}`);return e?(0,Fr.bytesToNumberLE)(m):(0,Fr.bytesToNumberBE)(m)}});return Object.freeze(y)}function Id(r,t){if(!r.isOdd)throw new Error("Field doesn\'t have isOdd");let e=r.sqrt(t);return r.isOdd(e)?e:r.neg(e)}function Md(r,t){if(!r.isOdd)throw new Error("Field doesn\'t have isOdd");let e=r.sqrt(t);return r.isOdd(e)?r.neg(e):e}function Rd(r,t,e=!1){r=(0,Fr.ensureBytes)("privateHash",r);let n=r.length,i=fa(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let o=e?(0,Fr.bytesToNumberLE)(r):(0,Fr.bytesToNumberBE)(r);return zr(o,t-De)+De}function ha(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let t=r.toString(2).length;return Math.ceil(t/8)}function Jc(r){let t=ha(r);return t+Math.ceil(t/2)}function Td(r,t,e=!1){let n=r.length,i=ha(t),o=Jc(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let u=e?(0,Fr.bytesToNumberBE)(r):(0,Fr.bytesToNumberLE)(r),y=zr(u,t-De)+De;return e?(0,Fr.numberToBytesLE)(y,i):(0,Fr.numberToBytesBE)(y,i)}});var da=he(_s=>{"use strict";var Mm=it(st());Object.defineProperty(_s,"__esModule",{value:!0});_s.wNAF=Cd;_s.validateBasic=Od;var Qc=In(),Ld=jr(),Pd=BigInt(0),la=BigInt(1);function Cd(r,t){let e=(i,o)=>{let u=o.negate();return i?u:o},n=i=>{let o=Math.ceil(t/i)+1,u=2**(i-1);return{windows:o,windowSize:u}};return{constTimeNegate:e,unsafeLadder(i,o){let u=r.ZERO,y=i;for(;o>Pd;)o&la&&(u=u.add(y)),y=y.double(),o>>=la;return u},precomputeWindow(i,o){let{windows:u,windowSize:y}=n(o),m=[],E=i,A=E;for(let I=0;I<u;I++){A=E,m.push(A);for(let K=1;K<y;K++)A=A.add(E),m.push(A);E=A.double()}return m},wNAF(i,o,u){let{windows:y,windowSize:m}=n(i),E=r.ZERO,A=r.BASE,I=BigInt(2**i-1),K=2**i,T=BigInt(i);for(let N=0;N<y;N++){let R=N*m,O=Number(u&I);u>>=T,O>m&&(O-=K,u+=la);let F=R,Y=R+Math.abs(O)-1,W=N%2!==0,J=O<0;O===0?A=A.add(e(W,o[F])):E=E.add(e(J,o[Y]))}return{p:E,f:A}},wNAFCached(i,o,u,y){let m=i._WINDOW_SIZE||1,E=o.get(i);return E||(E=this.precomputeWindow(i,m),m!==1&&o.set(i,y(E))),this.wNAF(m,E,u)}}}function Od(r){return(0,Qc.validateField)(r.Fp),(0,Ld.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Qc.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}});var ef=he(pa=>{"use strict";var Tm=it(st());Object.defineProperty(pa,"__esModule",{value:!0});pa.twistedEdwards=Fd;var tf=da(),Ud=In(),gn=jr(),Mn=jr(),Yr=BigInt(0),Kr=BigInt(1),ks=BigInt(2),Nd=BigInt(8),qd={zip215:!0};function zd(r){let t=(0,tf.validateBasic)(r);return gn.validateObject(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Fd(r){let t=zd(r),{Fp:e,n,prehash:i,hash:o,randomBytes:u,nByteLength:y,h:m}=t,E=ks<<BigInt(y*8)-Kr,A=e.create,I=t.uvRatio||((p,w)=>{try{return{isValid:!0,value:e.sqrt(p*e.inv(w))}}catch{return{isValid:!1,value:Yr}}}),K=t.adjustScalarBytes||(p=>p),T=t.domain||((p,w,_)=>{if(w.length||_)throw new Error("Contexts/pre-hash are not supported");return p}),N=p=>typeof p=="bigint"&&Yr<p,R=(p,w)=>N(p)&&N(w)&&p<w,O=p=>p===Yr||R(p,E);function F(p,w){if(R(p,w))return p;throw new Error(`Expected valid scalar < ${w}, got ${typeof p} ${p}`)}function Y(p){return p===Yr?p:F(p,n)}let W=new Map;function J(p){if(!(p instanceof et))throw new Error("ExtendedPoint expected")}class et{constructor(w,_,g,a){if(this.ex=w,this.ey=_,this.ez=g,this.et=a,!O(w))throw new Error("x required");if(!O(_))throw new Error("y required");if(!O(g))throw new Error("z required");if(!O(a))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof et)throw new Error("extended point not allowed");let{x:_,y:g}=w||{};if(!O(_)||!O(g))throw new Error("invalid affine point");return new et(_,g,Kr,A(_*g))}static normalizeZ(w){let _=e.invertBatch(w.map(g=>g.ez));return w.map((g,a)=>g.toAffine(_[a])).map(et.fromAffine)}_setWindowSize(w){this._WINDOW_SIZE=w,W.delete(this)}assertValidity(){let{a:w,d:_}=t;if(this.is0())throw new Error("bad point: ZERO");let{ex:g,ey:a,ez:b,et:q}=this,H=A(g*g),V=A(a*a),nt=A(b*b),pt=A(nt*nt),gt=A(H*w),we=A(nt*A(gt+V)),wt=A(pt+A(_*A(H*V)));if(we!==wt)throw new Error("bad point: equation left != right (1)");let xt=A(g*a),We=A(b*q);if(xt!==We)throw new Error("bad point: equation left != right (2)")}equals(w){J(w);let{ex:_,ey:g,ez:a}=this,{ex:b,ey:q,ez:H}=w,V=A(_*H),nt=A(b*a),pt=A(g*H),gt=A(q*a);return V===nt&&pt===gt}is0(){return this.equals(et.ZERO)}negate(){return new et(A(-this.ex),this.ey,this.ez,A(-this.et))}double(){let{a:w}=t,{ex:_,ey:g,ez:a}=this,b=A(_*_),q=A(g*g),H=A(ks*A(a*a)),V=A(w*b),nt=_+g,pt=A(A(nt*nt)-b-q),gt=V+q,we=gt-H,wt=V-q,xt=A(pt*we),We=A(gt*wt),Nt=A(pt*wt),zt=A(we*gt);return new et(xt,We,zt,Nt)}add(w){J(w);let{a:_,d:g}=t,{ex:a,ey:b,ez:q,et:H}=this,{ex:V,ey:nt,ez:pt,et:gt}=w;if(_===BigInt(-1)){let Lr=A((b-a)*(nt+V)),Gt=A((b+a)*(nt-V)),Zt=A(Gt-Lr);if(Zt===Yr)return this.double();let rr=A(q*ks*gt),M=A(H*ks*pt),C=M+rr,z=Gt+Lr,D=M-rr,ut=A(C*Zt),Ot=A(z*D),mt=A(C*D),Mt=A(Zt*z);return new et(ut,Ot,Mt,mt)}let we=A(a*V),wt=A(b*nt),xt=A(H*g*gt),We=A(q*pt),Nt=A((a+b)*(V+nt)-we-wt),zt=We-xt,yr=We+xt,re=A(wt-_*we),$t=A(Nt*zt),Ar=A(yr*re),ae=A(Nt*re),ne=A(zt*yr);return new et($t,Ar,ne,ae)}subtract(w){return this.add(w.negate())}wNAF(w){return yt.wNAFCached(this,W,w,et.normalizeZ)}multiply(w){let{p:_,f:g}=this.wNAF(F(w,n));return et.normalizeZ([_,g])[0]}multiplyUnsafe(w){let _=Y(w);return _===Yr?ht:this.equals(ht)||_===Kr?this:this.equals(Q)?this.wNAF(_).p:yt.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(m).is0()}isTorsionFree(){return yt.unsafeLadder(this,n).is0()}toAffine(w){let{ex:_,ey:g,ez:a}=this,b=this.is0();w==null&&(w=b?Nd:e.inv(a));let q=A(_*w),H=A(g*w),V=A(a*w);if(b)return{x:Yr,y:Kr};if(V!==Kr)throw new Error("invZ was invalid");return{x:q,y:H}}clearCofactor(){let{h:w}=t;return w===Kr?this:this.multiplyUnsafe(w)}static fromHex(w,_=!1){let{d:g,a}=t,b=e.BYTES;w=(0,Mn.ensureBytes)("pointHex",w,b);let q=w.slice(),H=w[b-1];q[b-1]=H&-129;let V=gn.bytesToNumberLE(q);V===Yr||(_?F(V,E):F(V,e.ORDER));let nt=A(V*V),pt=A(nt-Kr),gt=A(g*nt-a),{isValid:we,value:wt}=I(pt,gt);if(!we)throw new Error("Point.fromHex: invalid y coordinate");let xt=(wt&Kr)===Kr,We=(H&128)!==0;if(!_&&wt===Yr&&We)throw new Error("Point.fromHex: x=0 and x_0=1");return We!==xt&&(wt=A(-wt)),et.fromAffine({x:wt,y:V})}static fromPrivateKey(w){return lt(w).point}toRawBytes(){let{x:w,y:_}=this.toAffine(),g=gn.numberToBytesLE(_,e.BYTES);return g[g.length-1]|=w&Kr?128:0,g}toHex(){return gn.bytesToHex(this.toRawBytes())}}et.BASE=new et(t.Gx,t.Gy,Kr,A(t.Gx*t.Gy)),et.ZERO=new et(Yr,Kr,Kr,Yr);let{BASE:Q,ZERO:ht}=et,yt=(0,tf.wNAF)(et,y*8);function ee(p){return(0,Ud.mod)(p,n)}function qt(p){return ee(gn.bytesToNumberLE(p))}function lt(p){let w=y;p=(0,Mn.ensureBytes)("private key",p,w);let _=(0,Mn.ensureBytes)("hashed private key",o(p),2*w),g=K(_.slice(0,w)),a=_.slice(w,2*w),b=qt(g),q=Q.multiply(b),H=q.toRawBytes();return{head:g,prefix:a,scalar:b,point:q,pointBytes:H}}function oe(p){return lt(p).pointBytes}function x(p=new Uint8Array,...w){let _=gn.concatBytes(...w);return qt(o(T(_,(0,Mn.ensureBytes)("context",p),!!i)))}function s(p,w,_={}){p=(0,Mn.ensureBytes)("message",p),i&&(p=i(p));let{prefix:g,scalar:a,pointBytes:b}=lt(w),q=x(_.context,g,p),H=Q.multiply(q).toRawBytes(),V=x(_.context,H,b,p),nt=ee(q+V*a);Y(nt);let pt=gn.concatBytes(H,gn.numberToBytesLE(nt,e.BYTES));return(0,Mn.ensureBytes)("result",pt,y*2)}let c=qd;function f(p,w,_,g=c){let{context:a,zip215:b}=g,q=e.BYTES;p=(0,Mn.ensureBytes)("signature",p,2*q),w=(0,Mn.ensureBytes)("message",w),i&&(w=i(w));let H=gn.bytesToNumberLE(p.slice(q,2*q)),V,nt,pt;try{V=et.fromHex(_,b),nt=et.fromHex(p.slice(0,q),b),pt=Q.multiplyUnsafe(H)}catch{return!1}if(!b&&V.isSmallOrder())return!1;let gt=x(a,nt.toRawBytes(),V.toRawBytes(),w);return nt.add(V.multiplyUnsafe(gt)).subtract(pt).clearCofactor().equals(et.ZERO)}return Q._setWindowSize(8),{CURVE:t,getPublicKey:oe,sign:s,verify:f,ExtendedPoint:et,utils:{getExtendedPublicKey:lt,randomPrivateKey:()=>u(e.BYTES),precompute(p=8,w=et.BASE){return w._setWindowSize(p),w.multiply(BigInt(3)),w}}}}});var ma=he(jn=>{"use strict";var Pm=it(st());Object.defineProperty(jn,"__esModule",{value:!0});jn.expand_message_xmd=rf;jn.expand_message_xof=nf;jn.hash_to_field=ya;jn.isogenyMap=Hd;jn.createHasher=$d;var Kd=In(),wr=jr(),Dd=wr.bytesToNumberBE;function Rn(r,t){if(r<0||r>=1<<8*t)throw new Error(`bad I2OSP call: value=${r} length=${t}`);let e=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)e[n]=r&255,r>>>=8;return new Uint8Array(e)}function Wd(r,t){let e=new Uint8Array(r.length);for(let n=0;n<r.length;n++)e[n]=r[n]^t[n];return e}function ga(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function rf(r,t,e,n){(0,wr.abytes)(r),(0,wr.abytes)(t),ga(e),t.length>255&&(t=n((0,wr.concatBytes)((0,wr.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:o}=n,u=Math.ceil(e/i);if(u>255)throw new Error("Invalid xmd length");let y=(0,wr.concatBytes)(t,Rn(t.length,1)),m=Rn(0,o),E=Rn(e,2),A=new Array(u),I=n((0,wr.concatBytes)(m,r,E,Rn(0,1),y));A[0]=n((0,wr.concatBytes)(I,Rn(1,1),y));for(let T=1;T<=u;T++){let N=[Wd(I,A[T-1]),Rn(T+1,1),y];A[T]=n((0,wr.concatBytes)(...N))}return(0,wr.concatBytes)(...A).slice(0,e)}function nf(r,t,e,n,i){if((0,wr.abytes)(r),(0,wr.abytes)(t),ga(e),t.length>255){let o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,wr.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(e>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:e}).update(r).update(Rn(e,2)).update(t).update(Rn(t.length,1)).digest()}function ya(r,t,e){(0,wr.validateObject)(e,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:o,hash:u,expand:y,DST:m}=e;(0,wr.abytes)(r),ga(t);let E=typeof m=="string"?(0,wr.utf8ToBytes)(m):m,A=n.toString(2).length,I=Math.ceil((A+i)/8),K=t*o*I,T;if(y==="xmd")T=rf(r,E,K,u);else if(y==="xof")T=nf(r,E,K,i,u);else if(y==="_internal_pass")T=r;else throw new Error(\'expand must be "xmd" or "xof"\');let N=new Array(t);for(let R=0;R<t;R++){let O=new Array(o);for(let F=0;F<o;F++){let Y=I*(F+R*o),W=T.subarray(Y,Y+I);O[F]=(0,Kd.mod)(Dd(W),n)}N[R]=O}return N}function Hd(r,t){let e=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[o,u,y,m]=e.map(E=>E.reduce((A,I)=>r.add(r.mul(A,n),I)));return n=r.div(o,u),i=r.mul(i,r.div(y,m)),{x:n,y:i}}}function $d(r,t,e){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=ya(n,2,{...e,DST:e.DST,...i}),u=r.fromAffine(t(o[0])),y=r.fromAffine(t(o[1])),m=u.add(y).clearCofactor();return m.assertValidity(),m},encodeToCurve(n,i){let o=ya(n,1,{...e,DST:e.encodeDST,...i}),u=r.fromAffine(t(o[0])).clearCofactor();return u.assertValidity(),u},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let o of n)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);let i=r.fromAffine(t(n)).clearCofactor();return i.assertValidity(),i}}}});var of=he(wa=>{"use strict";var Om=it(st());Object.defineProperty(wa,"__esModule",{value:!0});wa.montgomery=jd;var sf=In(),hi=jr(),Ti=BigInt(0),ba=BigInt(1);function Vd(r){return(0,hi.validateObject)(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}function jd(r){let t=Vd(r),{P:e}=t,n=W=>(0,sf.mod)(W,e),i=t.montgomeryBits,o=Math.ceil(i/8),u=t.nByteLength,y=t.adjustScalarBytes||(W=>W),m=t.powPminus2||(W=>(0,sf.pow)(W,e-BigInt(2),e));function E(W,J,et){let Q=n(W*(J-et));return J=n(J-Q),et=n(et+Q),[J,et]}function A(W){if(typeof W=="bigint"&&Ti<=W&&W<e)return W;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}let I=(t.a-BigInt(2))/BigInt(4);function K(W,J){let et=A(W),Q=A(J),ht=et,yt=ba,ee=Ti,qt=et,lt=ba,oe=Ti,x;for(let c=BigInt(i-1);c>=Ti;c--){let f=Q>>c&ba;oe^=f,x=E(oe,yt,qt),yt=x[0],qt=x[1],x=E(oe,ee,lt),ee=x[0],lt=x[1],oe=f;let d=yt+ee,p=n(d*d),w=yt-ee,_=n(w*w),g=p-_,a=qt+lt,b=qt-lt,q=n(b*d),H=n(a*w),V=q+H,nt=q-H;qt=n(V*V),lt=n(ht*n(nt*nt)),yt=n(p*_),ee=n(g*(p+n(I*g)))}x=E(oe,yt,qt),yt=x[0],qt=x[1],x=E(oe,ee,lt),ee=x[0],lt=x[1];let s=m(ee);return n(yt*s)}function T(W){return(0,hi.numberToBytesLE)(n(W),o)}function N(W){let J=(0,hi.ensureBytes)("u coordinate",W,o);return u===32&&(J[31]&=127),(0,hi.bytesToNumberLE)(J)}function R(W){let J=(0,hi.ensureBytes)("scalar",W),et=J.length;if(et!==o&&et!==u)throw new Error(`Expected ${o} or ${u} bytes, got ${et}`);return(0,hi.bytesToNumberLE)(y(J))}function O(W,J){let et=N(J),Q=R(W),ht=K(et,Q);if(ht===Ti)throw new Error("Invalid private or public key received");return T(ht)}let F=T(t.Gu);function Y(W){return O(W,F)}return{scalarMult:O,scalarMultBase:Y,getSharedSecret:(W,J)=>O(W,J),getPublicKey:W=>Y(W),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:F}}});var bf=he(pe=>{"use strict";var Nm=it(st());Object.defineProperty(pe,"__esModule",{value:!0});pe.hash_to_ristretto255=pe.hashToRistretto255=pe.RistrettoPoint=pe.encodeToCurve=pe.hashToCurve=pe.edwardsToMontgomery=pe.x25519=pe.ed25519ph=pe.ed25519ctx=pe.ed25519=pe.ED25519_TORSION_SUBGROUP=void 0;pe.edwardsToMontgomeryPub=gf;pe.edwardsToMontgomeryPriv=Zd;var Es=qc(),Li=pn(),Sa=ef(),ff=ma(),Ue=In(),Yd=of(),Yn=jr(),Pi=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_a=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Gd=BigInt(0),Qr=BigInt(1),Ss=BigInt(2),hf=BigInt(3),lf=BigInt(5),Ea=BigInt(8);function df(r){let t=BigInt(10),e=BigInt(20),n=BigInt(40),i=BigInt(80),o=Pi,y=r*r%o*r%o,m=(0,Ue.pow2)(y,Ss,o)*y%o,E=(0,Ue.pow2)(m,Qr,o)*r%o,A=(0,Ue.pow2)(E,lf,o)*E%o,I=(0,Ue.pow2)(A,t,o)*A%o,K=(0,Ue.pow2)(I,e,o)*I%o,T=(0,Ue.pow2)(K,n,o)*K%o,N=(0,Ue.pow2)(T,i,o)*T%o,R=(0,Ue.pow2)(N,i,o)*T%o,O=(0,Ue.pow2)(R,t,o)*A%o;return{pow_p_5_8:(0,Ue.pow2)(O,Ss,o)*r%o,b2:y}}function pf(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Ba(r,t){let e=Pi,n=(0,Ue.mod)(t*t*t,e),i=(0,Ue.mod)(n*n*t,e),o=df(r*i).pow_p_5_8,u=(0,Ue.mod)(r*n*o,e),y=(0,Ue.mod)(t*u*u,e),m=u,E=(0,Ue.mod)(u*_a,e),A=y===r,I=y===(0,Ue.mod)(-r,e),K=y===(0,Ue.mod)(-r*_a,e);return A&&(u=m),(I||K)&&(u=E),(0,Ue.isNegativeLE)(u,e)&&(u=(0,Ue.mod)(-u,e)),{isValid:A||I,value:u}}pe.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var It=(0,Ue.Field)(Pi,void 0,!0),Ci={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:It,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ea,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Es.sha512,randomBytes:Li.randomBytes,adjustScalarBytes:pf,uvRatio:Ba};pe.ed25519=(0,Sa.twistedEdwards)(Ci);function yf(r,t,e){if(t.length>255)throw new Error("Context is too big");return(0,Li.concatBytes)((0,Li.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([e?1:0,t.length]),t,r)}pe.ed25519ctx=(0,Sa.twistedEdwards)({...Ci,domain:yf});pe.ed25519ph=(0,Sa.twistedEdwards)(Object.assign({},Ci,{domain:yf,prehash:Es.sha512}));pe.x25519=(0,Yd.montgomery)({P:Pi,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{let t=Pi,{pow_p_5_8:e,b2:n}=df(r);return(0,Ue.mod)((0,Ue.pow2)(e,hf,t)*n,t)},adjustScalarBytes:pf,randomBytes:Li.randomBytes});function gf(r){let{y:t}=pe.ed25519.ExtendedPoint.fromHex(r),e=BigInt(1);return It.toBytes(It.create((e+t)*It.inv(e-t)))}pe.edwardsToMontgomery=gf;function Zd(r){let t=Ci.hash(r.subarray(0,32));return Ci.adjustScalarBytes(t).subarray(0,32)}var Xd=(It.ORDER+hf)/Ea,Jd=It.pow(Ss,Xd),af=It.sqrt(It.neg(It.ONE));function Qd(r){let t=(It.ORDER-lf)/Ea,e=BigInt(486662),n=It.sqr(r);n=It.mul(n,Ss);let i=It.add(n,It.ONE),o=It.neg(e),u=It.sqr(i),y=It.mul(u,i),m=It.mul(n,e);m=It.mul(m,o),m=It.add(m,u),m=It.mul(m,o);let E=It.sqr(y);u=It.sqr(E),E=It.mul(E,y),E=It.mul(E,m),u=It.mul(u,E);let A=It.pow(u,t);A=It.mul(A,E);let I=It.mul(A,af);u=It.sqr(A),u=It.mul(u,y);let K=It.eql(u,m),T=It.cmov(I,A,K),N=It.mul(o,n),R=It.mul(A,r);R=It.mul(R,Jd);let O=It.mul(R,af),F=It.mul(m,n);u=It.sqr(R),u=It.mul(u,y);let Y=It.eql(u,F),W=It.cmov(O,R,Y);u=It.sqr(T),u=It.mul(u,y);let J=It.eql(u,m),et=It.cmov(N,o,J),Q=It.cmov(W,T,J),ht=It.isOdd(Q);return Q=It.cmov(Q,It.neg(Q),J!==ht),{xMn:et,xMd:i,yMn:Q,yMd:Qr}}var tp=(0,Ue.FpSqrtEven)(It,It.neg(BigInt(486664)));function ep(r){let{xMn:t,xMd:e,yMn:n,yMd:i}=Qd(r),o=It.mul(t,i);o=It.mul(o,tp);let u=It.mul(e,n),y=It.sub(t,e),m=It.add(t,e),E=It.mul(u,m),A=It.eql(E,It.ZERO);o=It.cmov(o,It.ZERO,A),u=It.cmov(u,It.ONE,A),y=It.cmov(y,It.ONE,A),m=It.cmov(m,It.ONE,A);let I=It.invertBatch([u,m]);return{x:It.mul(o,I[0]),y:It.mul(y,I[1])}}var mf=(0,ff.createHasher)(pe.ed25519.ExtendedPoint,r=>ep(r[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:It.ORDER,m:1,k:128,expand:"xmd",hash:Es.sha512});pe.hashToCurve=mf.hashToCurve;pe.encodeToCurve=mf.encodeToCurve;function xa(r){if(!(r instanceof Gr))throw new Error("RistrettoPoint expected")}var ka=_a,rp=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),np=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ip=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),sp=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),uf=r=>Ba(Qr,r),op=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),va=r=>pe.ed25519.CURVE.Fp.create((0,Yn.bytesToNumberLE)(r)&op);function cf(r){let{d:t}=pe.ed25519.CURVE,e=pe.ed25519.CURVE.Fp.ORDER,n=pe.ed25519.CURVE.Fp.create,i=n(ka*r*r),o=n((i+Qr)*ip),u=BigInt(-1),y=n((u-t*i)*n(i+t)),{isValid:m,value:E}=Ba(o,y),A=n(E*r);(0,Ue.isNegativeLE)(A,e)||(A=n(-A)),m||(E=A),m||(u=i);let I=n(u*(i-Qr)*sp-y),K=E*E,T=n((E+E)*y),N=n(I*rp),R=n(Qr-K),O=n(Qr+K);return new pe.ed25519.ExtendedPoint(n(T*O),n(R*N),n(N*O),n(T*R))}var Gr=class r{constructor(t){this.ep=t}static fromAffine(t){return new r(pe.ed25519.ExtendedPoint.fromAffine(t))}static hashToCurve(t){t=(0,Yn.ensureBytes)("ristrettoHash",t,64);let e=va(t.slice(0,32)),n=cf(e),i=va(t.slice(32,64)),o=cf(i);return new r(n.add(o))}static fromHex(t){t=(0,Yn.ensureBytes)("ristrettoHex",t,32);let{a:e,d:n}=pe.ed25519.CURVE,i=pe.ed25519.CURVE.Fp.ORDER,o=pe.ed25519.CURVE.Fp.create,u="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",y=va(t);if(!(0,Yn.equalBytes)((0,Yn.numberToBytesLE)(y,32),t)||(0,Ue.isNegativeLE)(y,i))throw new Error(u);let m=o(y*y),E=o(Qr+e*m),A=o(Qr-e*m),I=o(E*E),K=o(A*A),T=o(e*n*I-K),{isValid:N,value:R}=uf(o(T*K)),O=o(R*A),F=o(R*O*T),Y=o((y+y)*O);(0,Ue.isNegativeLE)(Y,i)&&(Y=o(-Y));let W=o(E*F),J=o(Y*W);if(!N||(0,Ue.isNegativeLE)(J,i)||W===Gd)throw new Error(u);return new r(new pe.ed25519.ExtendedPoint(Y,W,Qr,J))}toRawBytes(){let{ex:t,ey:e,ez:n,et:i}=this.ep,o=pe.ed25519.CURVE.Fp.ORDER,u=pe.ed25519.CURVE.Fp.create,y=u(u(n+e)*u(n-e)),m=u(t*e),E=u(m*m),{value:A}=uf(u(y*E)),I=u(A*y),K=u(A*m),T=u(I*K*i),N;if((0,Ue.isNegativeLE)(i*T,o)){let O=u(e*ka),F=u(t*ka);t=O,e=F,N=u(I*np)}else N=K;(0,Ue.isNegativeLE)(t*T,o)&&(e=u(-e));let R=u((n-e)*N);return(0,Ue.isNegativeLE)(R,o)&&(R=u(-R)),(0,Yn.numberToBytesLE)(R,32)}toHex(){return(0,Yn.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(t){xa(t);let{ex:e,ey:n}=this.ep,{ex:i,ey:o}=t.ep,u=pe.ed25519.CURVE.Fp.create,y=u(e*o)===u(n*i),m=u(n*o)===u(e*i);return y||m}add(t){return xa(t),new r(this.ep.add(t.ep))}subtract(t){return xa(t),new r(this.ep.subtract(t.ep))}multiply(t){return new r(this.ep.multiply(t))}multiplyUnsafe(t){return new r(this.ep.multiplyUnsafe(t))}double(){return new r(this.ep.double())}negate(){return new r(this.ep.negate())}};pe.RistrettoPoint=(Gr.BASE||(Gr.BASE=new Gr(pe.ed25519.ExtendedPoint.BASE)),Gr.ZERO||(Gr.ZERO=new Gr(pe.ed25519.ExtendedPoint.ZERO)),Gr);var ap=(r,t)=>{let e=t.DST,n=typeof e=="string"?(0,Li.utf8ToBytes)(e):e,i=(0,ff.expand_message_xmd)(r,n,64,Es.sha512);return Gr.hashToCurve(i)};pe.hashToRistretto255=ap;pe.hash_to_ristretto255=pe.hashToRistretto255});var Aa=he(()=>{var Fm=it(st())});var xf=he((wf,Ia)=>{var Km=it(st());(function(r,t){"use strict";function e(x,s){if(!x)throw new Error(s||"Assertion failed")}function n(x,s){x.super_=s;var c=function(){};c.prototype=s.prototype,x.prototype=new c,x.prototype.constructor=x}function i(x,s,c){if(i.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((s==="le"||s==="be")&&(c=s,s=10),this._init(x||0,s||10,c||"be"))}typeof r=="object"?r.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Aa().Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,c){return s.cmp(c)>0?s:c},i.min=function(s,c){return s.cmp(c)<0?s:c},i.prototype._init=function(s,c,f){if(typeof s=="number")return this._initNumber(s,c,f);if(typeof s=="object")return this._initArray(s,c,f);c==="hex"&&(c=16),e(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\\s+/g,"");var d=0;s[0]==="-"&&(d++,this.negative=1),d<s.length&&(c===16?this._parseHex(s,d,f):(this._parseBase(s,c,d),f==="le"&&this._initArray(this.toArray(),c,f)))},i.prototype._initNumber=function(s,c,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(e(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),c,f)},i.prototype._initArray=function(s,c,f){if(e(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,_=0;if(f==="be")for(d=s.length-1,p=0;d>=0;d-=3)w=s[d]|s[d-1]<<8|s[d-2]<<16,this.words[p]|=w<<_&67108863,this.words[p+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,p++);else if(f==="le")for(d=0,p=0;d<s.length;d+=3)w=s[d]|s[d+1]<<8|s[d+2]<<16,this.words[p]|=w<<_&67108863,this.words[p+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,p++);return this._strip()};function u(x,s){var c=x.charCodeAt(s);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;e(!1,"Invalid character in "+x)}function y(x,s,c){var f=u(x,c);return c-1>=s&&(f|=u(x,c-1)<<4),f}i.prototype._parseHex=function(s,c,f){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,_;if(f==="be")for(d=s.length-1;d>=c;d-=2)_=y(s,c,d)<<p,this.words[w]|=_&67108863,p>=18?(p-=18,w+=1,this.words[w]|=_>>>26):p+=8;else{var g=s.length-c;for(d=g%2===0?c+1:c;d<s.length;d+=2)_=y(s,c,d)<<p,this.words[w]|=_&67108863,p>=18?(p-=18,w+=1,this.words[w]|=_>>>26):p+=8}this._strip()};function m(x,s,c,f){for(var d=0,p=0,w=Math.min(x.length,c),_=s;_<w;_++){var g=x.charCodeAt(_)-48;d*=f,g>=49?p=g-49+10:g>=17?p=g-17+10:p=g,e(g>=0&&p<f,"Invalid character"),d+=p}return d}i.prototype._parseBase=function(s,c,f){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=c)d++;d--,p=p/c|0;for(var w=s.length-f,_=w%d,g=Math.min(w,w-_)+f,a=0,b=f;b<g;b+=d)a=m(s,b,b+d,c),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var q=1;for(a=m(s,b,s.length,c),b=0;b<_;b++)q*=c;this.imuln(q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function E(x,s){x.words=s.words,x.length=s.length,x.negative=s.negative,x.red=s.red}if(i.prototype._move=function(s){E(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],K=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,c){s=s||10,c=c|0||1;var f;if(s===16||s==="hex"){f="";for(var d=0,p=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<d|p)&16777215).toString(16);p=_>>>24-d&16777215,d+=2,d>=26&&(d-=26,w--),p!==0||w!==this.length-1?f=I[6-g.length]+g+f:f=g+f}for(p!==0&&(f=p.toString(16)+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=K[s],b=T[s];f="";var q=this.clone();for(q.negative=0;!q.isZero();){var H=q.modrn(b).toString(s);q=q.idivn(b),q.isZero()?f=H+f:f=I[a-H.length]+H+f}for(this.isZero()&&(f="0"+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(s,c){return this.toArrayLike(o,s,c)}),i.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var N=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};i.prototype.toArrayLike=function(s,c,f){this._strip();var d=this.byteLength(),p=f||Math.max(1,d);e(d<=p,"byte array longer than desired length"),e(p>0,"Requested array length <= 0");var w=N(s,p),_=c==="le"?"LE":"BE";return this["_toArrayLike"+_](w,d),w},i.prototype._toArrayLikeLE=function(s,c){for(var f=0,d=0,p=0,w=0;p<this.length;p++){var _=this.words[p]<<w|d;s[f++]=_&255,f<s.length&&(s[f++]=_>>8&255),f<s.length&&(s[f++]=_>>16&255),w===6?(f<s.length&&(s[f++]=_>>24&255),d=0,w=0):(d=_>>>24,w+=2)}if(f<s.length)for(s[f++]=d;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,c){for(var f=s.length-1,d=0,p=0,w=0;p<this.length;p++){var _=this.words[p]<<w|d;s[f--]=_&255,f>=0&&(s[f--]=_>>8&255),f>=0&&(s[f--]=_>>16&255),w===6?(f>=0&&(s[f--]=_>>24&255),d=0,w=0):(d=_>>>24,w+=2)}if(f>=0)for(s[f--]=d;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var c=s,f=0;return c>=4096&&(f+=13,c>>>=13),c>=64&&(f+=7,c>>>=7),c>=8&&(f+=4,c>>>=4),c>=2&&(f+=2,c>>>=2),f+c},i.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,f=0;return c&8191||(f+=13,c>>>=13),c&127||(f+=7,c>>>=7),c&15||(f+=4,c>>>=4),c&3||(f+=2,c>>>=2),c&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function R(x){for(var s=new Array(x.bitLength()),c=0;c<s.length;c++){var f=c/26|0,d=c%26;s[c]=x.words[f]>>>d&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var f=this._zeroBits(this.words[c]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},i.prototype.ior=function(s){return e((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var f=0;f<c.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=c.length,this._strip()},i.prototype.iand=function(s){return e((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var c,f;this.length>s.length?(c=this,f=s):(c=s,f=this);for(var d=0;d<f.length;d++)this.words[d]=c.words[d]^f.words[d];if(this!==c)for(;d<c.length;d++)this.words[d]=c.words[d];return this.length=c.length,this._strip()},i.prototype.ixor=function(s){return e((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){e(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,f=s%26;this._expand(c),f>0&&c--;for(var d=0;d<c;d++)this.words[d]=~this.words[d]&67108863;return f>0&&(this.words[d]=~this.words[d]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,c){e(typeof s=="number"&&s>=0);var f=s/26|0,d=s%26;return this._expand(f+1),c?this.words[f]=this.words[f]|1<<d:this.words[f]=this.words[f]&~(1<<d),this._strip()},i.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var f,d;this.length>s.length?(f=this,d=s):(f=s,d=this);for(var p=0,w=0;w<d.length;w++)c=(f.words[w]|0)+(d.words[w]|0)+p,this.words[w]=c&67108863,p=c>>>26;for(;p!==0&&w<f.length;w++)c=(f.words[w]|0)+p,this.words[w]=c&67108863,p=c>>>26;if(this.length=f.length,p!==0)this.words[this.length]=p,this.length++;else if(f!==this)for(;w<f.length;w++)this.words[w]=f.words[w];return this},i.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;f>0?(d=this,p=s):(d=s,p=this);for(var w=0,_=0;_<p.length;_++)c=(d.words[_]|0)-(p.words[_]|0)+w,w=c>>26,this.words[_]=c&67108863;for(;w!==0&&_<d.length;_++)c=(d.words[_]|0)+w,w=c>>26,this.words[_]=c&67108863;if(w===0&&_<d.length&&d!==this)for(;_<d.length;_++)this.words[_]=d.words[_];return this.length=Math.max(this.length,_),d!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function O(x,s,c){c.negative=s.negative^x.negative;var f=x.length+s.length|0;c.length=f,f=f-1|0;var d=x.words[0]|0,p=s.words[0]|0,w=d*p,_=w&67108863,g=w/67108864|0;c.words[0]=_;for(var a=1;a<f;a++){for(var b=g>>>26,q=g&67108863,H=Math.min(a,s.length-1),V=Math.max(0,a-x.length+1);V<=H;V++){var nt=a-V|0;d=x.words[nt]|0,p=s.words[V]|0,w=d*p+q,b+=w/67108864|0,q=w&67108863}c.words[a]=q|0,g=b|0}return g!==0?c.words[a]=g|0:c.length--,c._strip()}var F=function(s,c,f){var d=s.words,p=c.words,w=f.words,_=0,g,a,b,q=d[0]|0,H=q&8191,V=q>>>13,nt=d[1]|0,pt=nt&8191,gt=nt>>>13,we=d[2]|0,wt=we&8191,xt=we>>>13,We=d[3]|0,Nt=We&8191,zt=We>>>13,yr=d[4]|0,re=yr&8191,$t=yr>>>13,Ar=d[5]|0,ae=Ar&8191,ne=Ar>>>13,Lr=d[6]|0,Gt=Lr&8191,Zt=Lr>>>13,rr=d[7]|0,M=rr&8191,C=rr>>>13,z=d[8]|0,D=z&8191,ut=z>>>13,Ot=d[9]|0,mt=Ot&8191,Mt=Ot>>>13,Ae=p[0]|0,Tt=Ae&8191,Ut=Ae>>>13,qr=p[1]|0,ie=qr&8191,Jt=qr>>>13,_n=p[2]|0,ye=_n&8191,ge=_n>>>13,Ir=p[3]|0,se=Ir&8191,ue=Ir>>>13,hn=p[4]|0,fe=hn&8191,le=hn>>>13,Wn=p[5]|0,Ft=Wn&8191,de=Wn>>>13,v=p[6]|0,S=v&8191,k=v>>>13,l=p[7]|0,B=l&8191,U=l>>>13,$=p[8]|0,j=$&8191,tt=$>>>13,Lt=p[9]|0,ct=Lt&8191,St=Lt>>>13;f.negative=s.negative^c.negative,f.length=19,g=Math.imul(H,Tt),a=Math.imul(H,Ut),a=a+Math.imul(V,Tt)|0,b=Math.imul(V,Ut);var Et=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Et>>>26)|0,Et&=67108863,g=Math.imul(pt,Tt),a=Math.imul(pt,Ut),a=a+Math.imul(gt,Tt)|0,b=Math.imul(gt,Ut),g=g+Math.imul(H,ie)|0,a=a+Math.imul(H,Jt)|0,a=a+Math.imul(V,ie)|0,b=b+Math.imul(V,Jt)|0;var Kt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,g=Math.imul(wt,Tt),a=Math.imul(wt,Ut),a=a+Math.imul(xt,Tt)|0,b=Math.imul(xt,Ut),g=g+Math.imul(pt,ie)|0,a=a+Math.imul(pt,Jt)|0,a=a+Math.imul(gt,ie)|0,b=b+Math.imul(gt,Jt)|0,g=g+Math.imul(H,ye)|0,a=a+Math.imul(H,ge)|0,a=a+Math.imul(V,ye)|0,b=b+Math.imul(V,ge)|0;var Dt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Nt,Tt),a=Math.imul(Nt,Ut),a=a+Math.imul(zt,Tt)|0,b=Math.imul(zt,Ut),g=g+Math.imul(wt,ie)|0,a=a+Math.imul(wt,Jt)|0,a=a+Math.imul(xt,ie)|0,b=b+Math.imul(xt,Jt)|0,g=g+Math.imul(pt,ye)|0,a=a+Math.imul(pt,ge)|0,a=a+Math.imul(gt,ye)|0,b=b+Math.imul(gt,ge)|0,g=g+Math.imul(H,se)|0,a=a+Math.imul(H,ue)|0,a=a+Math.imul(V,se)|0,b=b+Math.imul(V,ue)|0;var Qt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,g=Math.imul(re,Tt),a=Math.imul(re,Ut),a=a+Math.imul($t,Tt)|0,b=Math.imul($t,Ut),g=g+Math.imul(Nt,ie)|0,a=a+Math.imul(Nt,Jt)|0,a=a+Math.imul(zt,ie)|0,b=b+Math.imul(zt,Jt)|0,g=g+Math.imul(wt,ye)|0,a=a+Math.imul(wt,ge)|0,a=a+Math.imul(xt,ye)|0,b=b+Math.imul(xt,ge)|0,g=g+Math.imul(pt,se)|0,a=a+Math.imul(pt,ue)|0,a=a+Math.imul(gt,se)|0,b=b+Math.imul(gt,ue)|0,g=g+Math.imul(H,fe)|0,a=a+Math.imul(H,le)|0,a=a+Math.imul(V,fe)|0,b=b+Math.imul(V,le)|0;var Xt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,g=Math.imul(ae,Tt),a=Math.imul(ae,Ut),a=a+Math.imul(ne,Tt)|0,b=Math.imul(ne,Ut),g=g+Math.imul(re,ie)|0,a=a+Math.imul(re,Jt)|0,a=a+Math.imul($t,ie)|0,b=b+Math.imul($t,Jt)|0,g=g+Math.imul(Nt,ye)|0,a=a+Math.imul(Nt,ge)|0,a=a+Math.imul(zt,ye)|0,b=b+Math.imul(zt,ge)|0,g=g+Math.imul(wt,se)|0,a=a+Math.imul(wt,ue)|0,a=a+Math.imul(xt,se)|0,b=b+Math.imul(xt,ue)|0,g=g+Math.imul(pt,fe)|0,a=a+Math.imul(pt,le)|0,a=a+Math.imul(gt,fe)|0,b=b+Math.imul(gt,le)|0,g=g+Math.imul(H,Ft)|0,a=a+Math.imul(H,de)|0,a=a+Math.imul(V,Ft)|0,b=b+Math.imul(V,de)|0;var Wt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,g=Math.imul(Gt,Tt),a=Math.imul(Gt,Ut),a=a+Math.imul(Zt,Tt)|0,b=Math.imul(Zt,Ut),g=g+Math.imul(ae,ie)|0,a=a+Math.imul(ae,Jt)|0,a=a+Math.imul(ne,ie)|0,b=b+Math.imul(ne,Jt)|0,g=g+Math.imul(re,ye)|0,a=a+Math.imul(re,ge)|0,a=a+Math.imul($t,ye)|0,b=b+Math.imul($t,ge)|0,g=g+Math.imul(Nt,se)|0,a=a+Math.imul(Nt,ue)|0,a=a+Math.imul(zt,se)|0,b=b+Math.imul(zt,ue)|0,g=g+Math.imul(wt,fe)|0,a=a+Math.imul(wt,le)|0,a=a+Math.imul(xt,fe)|0,b=b+Math.imul(xt,le)|0,g=g+Math.imul(pt,Ft)|0,a=a+Math.imul(pt,de)|0,a=a+Math.imul(gt,Ft)|0,b=b+Math.imul(gt,de)|0,g=g+Math.imul(H,S)|0,a=a+Math.imul(H,k)|0,a=a+Math.imul(V,S)|0,b=b+Math.imul(V,k)|0;var Vt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(M,Tt),a=Math.imul(M,Ut),a=a+Math.imul(C,Tt)|0,b=Math.imul(C,Ut),g=g+Math.imul(Gt,ie)|0,a=a+Math.imul(Gt,Jt)|0,a=a+Math.imul(Zt,ie)|0,b=b+Math.imul(Zt,Jt)|0,g=g+Math.imul(ae,ye)|0,a=a+Math.imul(ae,ge)|0,a=a+Math.imul(ne,ye)|0,b=b+Math.imul(ne,ge)|0,g=g+Math.imul(re,se)|0,a=a+Math.imul(re,ue)|0,a=a+Math.imul($t,se)|0,b=b+Math.imul($t,ue)|0,g=g+Math.imul(Nt,fe)|0,a=a+Math.imul(Nt,le)|0,a=a+Math.imul(zt,fe)|0,b=b+Math.imul(zt,le)|0,g=g+Math.imul(wt,Ft)|0,a=a+Math.imul(wt,de)|0,a=a+Math.imul(xt,Ft)|0,b=b+Math.imul(xt,de)|0,g=g+Math.imul(pt,S)|0,a=a+Math.imul(pt,k)|0,a=a+Math.imul(gt,S)|0,b=b+Math.imul(gt,k)|0,g=g+Math.imul(H,B)|0,a=a+Math.imul(H,U)|0,a=a+Math.imul(V,B)|0,b=b+Math.imul(V,U)|0;var Ht=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,g=Math.imul(D,Tt),a=Math.imul(D,Ut),a=a+Math.imul(ut,Tt)|0,b=Math.imul(ut,Ut),g=g+Math.imul(M,ie)|0,a=a+Math.imul(M,Jt)|0,a=a+Math.imul(C,ie)|0,b=b+Math.imul(C,Jt)|0,g=g+Math.imul(Gt,ye)|0,a=a+Math.imul(Gt,ge)|0,a=a+Math.imul(Zt,ye)|0,b=b+Math.imul(Zt,ge)|0,g=g+Math.imul(ae,se)|0,a=a+Math.imul(ae,ue)|0,a=a+Math.imul(ne,se)|0,b=b+Math.imul(ne,ue)|0,g=g+Math.imul(re,fe)|0,a=a+Math.imul(re,le)|0,a=a+Math.imul($t,fe)|0,b=b+Math.imul($t,le)|0,g=g+Math.imul(Nt,Ft)|0,a=a+Math.imul(Nt,de)|0,a=a+Math.imul(zt,Ft)|0,b=b+Math.imul(zt,de)|0,g=g+Math.imul(wt,S)|0,a=a+Math.imul(wt,k)|0,a=a+Math.imul(xt,S)|0,b=b+Math.imul(xt,k)|0,g=g+Math.imul(pt,B)|0,a=a+Math.imul(pt,U)|0,a=a+Math.imul(gt,B)|0,b=b+Math.imul(gt,U)|0,g=g+Math.imul(H,j)|0,a=a+Math.imul(H,tt)|0,a=a+Math.imul(V,j)|0,b=b+Math.imul(V,tt)|0;var Bt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(mt,Tt),a=Math.imul(mt,Ut),a=a+Math.imul(Mt,Tt)|0,b=Math.imul(Mt,Ut),g=g+Math.imul(D,ie)|0,a=a+Math.imul(D,Jt)|0,a=a+Math.imul(ut,ie)|0,b=b+Math.imul(ut,Jt)|0,g=g+Math.imul(M,ye)|0,a=a+Math.imul(M,ge)|0,a=a+Math.imul(C,ye)|0,b=b+Math.imul(C,ge)|0,g=g+Math.imul(Gt,se)|0,a=a+Math.imul(Gt,ue)|0,a=a+Math.imul(Zt,se)|0,b=b+Math.imul(Zt,ue)|0,g=g+Math.imul(ae,fe)|0,a=a+Math.imul(ae,le)|0,a=a+Math.imul(ne,fe)|0,b=b+Math.imul(ne,le)|0,g=g+Math.imul(re,Ft)|0,a=a+Math.imul(re,de)|0,a=a+Math.imul($t,Ft)|0,b=b+Math.imul($t,de)|0,g=g+Math.imul(Nt,S)|0,a=a+Math.imul(Nt,k)|0,a=a+Math.imul(zt,S)|0,b=b+Math.imul(zt,k)|0,g=g+Math.imul(wt,B)|0,a=a+Math.imul(wt,U)|0,a=a+Math.imul(xt,B)|0,b=b+Math.imul(xt,U)|0,g=g+Math.imul(pt,j)|0,a=a+Math.imul(pt,tt)|0,a=a+Math.imul(gt,j)|0,b=b+Math.imul(gt,tt)|0,g=g+Math.imul(H,ct)|0,a=a+Math.imul(H,St)|0,a=a+Math.imul(V,ct)|0,b=b+Math.imul(V,St)|0;var Pt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,g=Math.imul(mt,ie),a=Math.imul(mt,Jt),a=a+Math.imul(Mt,ie)|0,b=Math.imul(Mt,Jt),g=g+Math.imul(D,ye)|0,a=a+Math.imul(D,ge)|0,a=a+Math.imul(ut,ye)|0,b=b+Math.imul(ut,ge)|0,g=g+Math.imul(M,se)|0,a=a+Math.imul(M,ue)|0,a=a+Math.imul(C,se)|0,b=b+Math.imul(C,ue)|0,g=g+Math.imul(Gt,fe)|0,a=a+Math.imul(Gt,le)|0,a=a+Math.imul(Zt,fe)|0,b=b+Math.imul(Zt,le)|0,g=g+Math.imul(ae,Ft)|0,a=a+Math.imul(ae,de)|0,a=a+Math.imul(ne,Ft)|0,b=b+Math.imul(ne,de)|0,g=g+Math.imul(re,S)|0,a=a+Math.imul(re,k)|0,a=a+Math.imul($t,S)|0,b=b+Math.imul($t,k)|0,g=g+Math.imul(Nt,B)|0,a=a+Math.imul(Nt,U)|0,a=a+Math.imul(zt,B)|0,b=b+Math.imul(zt,U)|0,g=g+Math.imul(wt,j)|0,a=a+Math.imul(wt,tt)|0,a=a+Math.imul(xt,j)|0,b=b+Math.imul(xt,tt)|0,g=g+Math.imul(pt,ct)|0,a=a+Math.imul(pt,St)|0,a=a+Math.imul(gt,ct)|0,b=b+Math.imul(gt,St)|0;var vt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(mt,ye),a=Math.imul(mt,ge),a=a+Math.imul(Mt,ye)|0,b=Math.imul(Mt,ge),g=g+Math.imul(D,se)|0,a=a+Math.imul(D,ue)|0,a=a+Math.imul(ut,se)|0,b=b+Math.imul(ut,ue)|0,g=g+Math.imul(M,fe)|0,a=a+Math.imul(M,le)|0,a=a+Math.imul(C,fe)|0,b=b+Math.imul(C,le)|0,g=g+Math.imul(Gt,Ft)|0,a=a+Math.imul(Gt,de)|0,a=a+Math.imul(Zt,Ft)|0,b=b+Math.imul(Zt,de)|0,g=g+Math.imul(ae,S)|0,a=a+Math.imul(ae,k)|0,a=a+Math.imul(ne,S)|0,b=b+Math.imul(ne,k)|0,g=g+Math.imul(re,B)|0,a=a+Math.imul(re,U)|0,a=a+Math.imul($t,B)|0,b=b+Math.imul($t,U)|0,g=g+Math.imul(Nt,j)|0,a=a+Math.imul(Nt,tt)|0,a=a+Math.imul(zt,j)|0,b=b+Math.imul(zt,tt)|0,g=g+Math.imul(wt,ct)|0,a=a+Math.imul(wt,St)|0,a=a+Math.imul(xt,ct)|0,b=b+Math.imul(xt,St)|0;var At=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(mt,se),a=Math.imul(mt,ue),a=a+Math.imul(Mt,se)|0,b=Math.imul(Mt,ue),g=g+Math.imul(D,fe)|0,a=a+Math.imul(D,le)|0,a=a+Math.imul(ut,fe)|0,b=b+Math.imul(ut,le)|0,g=g+Math.imul(M,Ft)|0,a=a+Math.imul(M,de)|0,a=a+Math.imul(C,Ft)|0,b=b+Math.imul(C,de)|0,g=g+Math.imul(Gt,S)|0,a=a+Math.imul(Gt,k)|0,a=a+Math.imul(Zt,S)|0,b=b+Math.imul(Zt,k)|0,g=g+Math.imul(ae,B)|0,a=a+Math.imul(ae,U)|0,a=a+Math.imul(ne,B)|0,b=b+Math.imul(ne,U)|0,g=g+Math.imul(re,j)|0,a=a+Math.imul(re,tt)|0,a=a+Math.imul($t,j)|0,b=b+Math.imul($t,tt)|0,g=g+Math.imul(Nt,ct)|0,a=a+Math.imul(Nt,St)|0,a=a+Math.imul(zt,ct)|0,b=b+Math.imul(zt,St)|0;var Rt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,g=Math.imul(mt,fe),a=Math.imul(mt,le),a=a+Math.imul(Mt,fe)|0,b=Math.imul(Mt,le),g=g+Math.imul(D,Ft)|0,a=a+Math.imul(D,de)|0,a=a+Math.imul(ut,Ft)|0,b=b+Math.imul(ut,de)|0,g=g+Math.imul(M,S)|0,a=a+Math.imul(M,k)|0,a=a+Math.imul(C,S)|0,b=b+Math.imul(C,k)|0,g=g+Math.imul(Gt,B)|0,a=a+Math.imul(Gt,U)|0,a=a+Math.imul(Zt,B)|0,b=b+Math.imul(Zt,U)|0,g=g+Math.imul(ae,j)|0,a=a+Math.imul(ae,tt)|0,a=a+Math.imul(ne,j)|0,b=b+Math.imul(ne,tt)|0,g=g+Math.imul(re,ct)|0,a=a+Math.imul(re,St)|0,a=a+Math.imul($t,ct)|0,b=b+Math.imul($t,St)|0;var bt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(mt,Ft),a=Math.imul(mt,de),a=a+Math.imul(Mt,Ft)|0,b=Math.imul(Mt,de),g=g+Math.imul(D,S)|0,a=a+Math.imul(D,k)|0,a=a+Math.imul(ut,S)|0,b=b+Math.imul(ut,k)|0,g=g+Math.imul(M,B)|0,a=a+Math.imul(M,U)|0,a=a+Math.imul(C,B)|0,b=b+Math.imul(C,U)|0,g=g+Math.imul(Gt,j)|0,a=a+Math.imul(Gt,tt)|0,a=a+Math.imul(Zt,j)|0,b=b+Math.imul(Zt,tt)|0,g=g+Math.imul(ae,ct)|0,a=a+Math.imul(ae,St)|0,a=a+Math.imul(ne,ct)|0,b=b+Math.imul(ne,St)|0;var Z=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Z>>>26)|0,Z&=67108863,g=Math.imul(mt,S),a=Math.imul(mt,k),a=a+Math.imul(Mt,S)|0,b=Math.imul(Mt,k),g=g+Math.imul(D,B)|0,a=a+Math.imul(D,U)|0,a=a+Math.imul(ut,B)|0,b=b+Math.imul(ut,U)|0,g=g+Math.imul(M,j)|0,a=a+Math.imul(M,tt)|0,a=a+Math.imul(C,j)|0,b=b+Math.imul(C,tt)|0,g=g+Math.imul(Gt,ct)|0,a=a+Math.imul(Gt,St)|0,a=a+Math.imul(Zt,ct)|0,b=b+Math.imul(Zt,St)|0;var X=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(X>>>26)|0,X&=67108863,g=Math.imul(mt,B),a=Math.imul(mt,U),a=a+Math.imul(Mt,B)|0,b=Math.imul(Mt,U),g=g+Math.imul(D,j)|0,a=a+Math.imul(D,tt)|0,a=a+Math.imul(ut,j)|0,b=b+Math.imul(ut,tt)|0,g=g+Math.imul(M,ct)|0,a=a+Math.imul(M,St)|0,a=a+Math.imul(C,ct)|0,b=b+Math.imul(C,St)|0;var ft=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(ft>>>26)|0,ft&=67108863,g=Math.imul(mt,j),a=Math.imul(mt,tt),a=a+Math.imul(Mt,j)|0,b=Math.imul(Mt,tt),g=g+Math.imul(D,ct)|0,a=a+Math.imul(D,St)|0,a=a+Math.imul(ut,ct)|0,b=b+Math.imul(ut,St)|0;var ot=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(ot>>>26)|0,ot&=67108863,g=Math.imul(mt,ct),a=Math.imul(mt,St),a=a+Math.imul(Mt,ct)|0,b=Math.imul(Mt,St);var at=(_+g|0)+((a&8191)<<13)|0;return _=(b+(a>>>13)|0)+(at>>>26)|0,at&=67108863,w[0]=Et,w[1]=Kt,w[2]=Dt,w[3]=Qt,w[4]=Xt,w[5]=Wt,w[6]=Vt,w[7]=Ht,w[8]=Bt,w[9]=Pt,w[10]=vt,w[11]=At,w[12]=Rt,w[13]=bt,w[14]=Z,w[15]=X,w[16]=ft,w[17]=ot,w[18]=at,_!==0&&(w[19]=_,f.length++),f};Math.imul||(F=O);function Y(x,s,c){c.negative=s.negative^x.negative,c.length=x.length+s.length;for(var f=0,d=0,p=0;p<c.length-1;p++){var w=d;d=0;for(var _=f&67108863,g=Math.min(p,s.length-1),a=Math.max(0,p-x.length+1);a<=g;a++){var b=p-a,q=x.words[b]|0,H=s.words[a]|0,V=q*H,nt=V&67108863;w=w+(V/67108864|0)|0,nt=nt+_|0,_=nt&67108863,w=w+(nt>>>26)|0,d+=w>>>26,w&=67108863}c.words[p]=_,f=w,w=d}return f!==0?c.words[p]=f:c.length--,c._strip()}function W(x,s,c){return Y(x,s,c)}i.prototype.mulTo=function(s,c){var f,d=this.length+s.length;return this.length===10&&s.length===10?f=F(this,s,c):d<63?f=O(this,s,c):d<1024?f=Y(this,s,c):f=W(this,s,c),f};function J(x,s){this.x=x,this.y=s}J.prototype.makeRBT=function(s){for(var c=new Array(s),f=i.prototype._countBits(s)-1,d=0;d<s;d++)c[d]=this.revBin(d,f,s);return c},J.prototype.revBin=function(s,c,f){if(s===0||s===f-1)return s;for(var d=0,p=0;p<c;p++)d|=(s&1)<<c-p-1,s>>=1;return d},J.prototype.permute=function(s,c,f,d,p,w){for(var _=0;_<w;_++)d[_]=c[s[_]],p[_]=f[s[_]]},J.prototype.transform=function(s,c,f,d,p,w){this.permute(w,s,c,f,d,p);for(var _=1;_<p;_<<=1)for(var g=_<<1,a=Math.cos(2*Math.PI/g),b=Math.sin(2*Math.PI/g),q=0;q<p;q+=g)for(var H=a,V=b,nt=0;nt<_;nt++){var pt=f[q+nt],gt=d[q+nt],we=f[q+nt+_],wt=d[q+nt+_],xt=H*we-V*wt;wt=H*wt+V*we,we=xt,f[q+nt]=pt+we,d[q+nt]=gt+wt,f[q+nt+_]=pt-we,d[q+nt+_]=gt-wt,nt!==g&&(xt=a*H-b*V,V=a*V+b*H,H=xt)}},J.prototype.guessLen13b=function(s,c){var f=Math.max(c,s)|1,d=f&1,p=0;for(f=f/2|0;f;f=f>>>1)p++;return 1<<p+1+d},J.prototype.conjugate=function(s,c,f){if(!(f<=1))for(var d=0;d<f/2;d++){var p=s[d];s[d]=s[f-d-1],s[f-d-1]=p,p=c[d],c[d]=-c[f-d-1],c[f-d-1]=-p}},J.prototype.normalize13b=function(s,c){for(var f=0,d=0;d<c/2;d++){var p=Math.round(s[2*d+1]/c)*8192+Math.round(s[2*d]/c)+f;s[d]=p&67108863,p<67108864?f=0:f=p/67108864|0}return s},J.prototype.convert13b=function(s,c,f,d){for(var p=0,w=0;w<c;w++)p=p+(s[w]|0),f[2*w]=p&8191,p=p>>>13,f[2*w+1]=p&8191,p=p>>>13;for(w=2*c;w<d;++w)f[w]=0;e(p===0),e((p&-8192)===0)},J.prototype.stub=function(s){for(var c=new Array(s),f=0;f<s;f++)c[f]=0;return c},J.prototype.mulp=function(s,c,f){var d=2*this.guessLen13b(s.length,c.length),p=this.makeRBT(d),w=this.stub(d),_=new Array(d),g=new Array(d),a=new Array(d),b=new Array(d),q=new Array(d),H=new Array(d),V=f.words;V.length=d,this.convert13b(s.words,s.length,_,d),this.convert13b(c.words,c.length,b,d),this.transform(_,w,g,a,d,p),this.transform(b,w,q,H,d,p);for(var nt=0;nt<d;nt++){var pt=g[nt]*q[nt]-a[nt]*H[nt];a[nt]=g[nt]*H[nt]+a[nt]*q[nt],g[nt]=pt}return this.conjugate(g,a,d),this.transform(g,a,V,w,d,p),this.conjugate(V,w,d),this.normalize13b(V,d),f.negative=s.negative^c.negative,f.length=s.length+c.length,f._strip()},i.prototype.mul=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},i.prototype.mulf=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),W(this,s,c)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var c=s<0;c&&(s=-s),e(typeof s=="number"),e(s<67108864);for(var f=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*s,w=(p&67108863)+(f&67108863);f>>=26,f+=p/67108864|0,f+=w>>>26,this.words[d]=w&67108863}return f!==0&&(this.words[d]=f,this.length++),c?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var c=R(s);if(c.length===0)return new i(1);for(var f=this,d=0;d<c.length&&c[d]===0;d++,f=f.sqr());if(++d<c.length)for(var p=f.sqr();d<c.length;d++,p=p.sqr())c[d]!==0&&(f=f.mul(p));return f},i.prototype.iushln=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,d=67108863>>>26-c<<26-c,p;if(c!==0){var w=0;for(p=0;p<this.length;p++){var _=this.words[p]&d,g=(this.words[p]|0)-_<<c;this.words[p]=g|w,w=_>>>26-c}w&&(this.words[p]=w,this.length++)}if(f!==0){for(p=this.length-1;p>=0;p--)this.words[p+f]=this.words[p];for(p=0;p<f;p++)this.words[p]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return e(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,c,f){e(typeof s=="number"&&s>=0);var d;c?d=(c-c%26)/26:d=0;var p=s%26,w=Math.min((s-p)/26,this.length),_=67108863^67108863>>>p<<p,g=f;if(d-=w,d=Math.max(0,d),g){for(var a=0;a<w;a++)g.words[a]=this.words[a];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=d);a--){var q=this.words[a]|0;this.words[a]=b<<26-p|q>>>p,b=q&_}return g&&b!==0&&(g.words[g.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,c,f){return e(this.negative===0),this.iushrn(s,c,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,d=1<<c;if(this.length<=f)return!1;var p=this.words[f];return!!(p&d)},i.prototype.imaskn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(c!==0&&f++,this.length=Math.min(f,this.length),c!==0){var d=67108863^67108863>>>c<<c;this.words[this.length-1]&=d}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return e(typeof s=="number"),e(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(s){if(e(typeof s=="number"),e(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,c,f){var d=s.length+f,p;this._expand(d);var w,_=0;for(p=0;p<s.length;p++){w=(this.words[p+f]|0)+_;var g=(s.words[p]|0)*c;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[p+f]=w&67108863}for(;p<this.length-f;p++)w=(this.words[p+f]|0)+_,_=w>>26,this.words[p+f]=w&67108863;if(_===0)return this._strip();for(e(_===-1),_=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+_,_=w>>26,this.words[p]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,c){var f=this.length-s.length,d=this.clone(),p=s,w=p.words[p.length-1]|0,_=this._countBits(w);f=26-_,f!==0&&(p=p.ushln(f),d.iushln(f),w=p.words[p.length-1]|0);var g=d.length-p.length,a;if(c!=="mod"){a=new i(null),a.length=g+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var q=d.clone()._ishlnsubmul(p,1,g);q.negative===0&&(d=q,a&&(a.words[g]=1));for(var H=g-1;H>=0;H--){var V=(d.words[p.length+H]|0)*67108864+(d.words[p.length+H-1]|0);for(V=Math.min(V/w|0,67108863),d._ishlnsubmul(p,V,H);d.negative!==0;)V--,d.negative=0,d._ishlnsubmul(p,1,H),d.isZero()||(d.negative^=1);a&&(a.words[H]=V)}return a&&a._strip(),d._strip(),c!=="div"&&f!==0&&d.iushrn(f),{div:a||null,mod:d}},i.prototype.divmod=function(s,c,f){if(e(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&s.negative===0?(w=this.neg().divmod(s,c),c!=="mod"&&(d=w.div.neg()),c!=="div"&&(p=w.mod.neg(),f&&p.negative!==0&&p.iadd(s)),{div:d,mod:p}):this.negative===0&&s.negative!==0?(w=this.divmod(s.neg(),c),c!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):this.negative&s.negative?(w=this.neg().divmod(s.neg(),c),c!=="div"&&(p=w.mod.neg(),f&&p.negative!==0&&p.isub(s)),{div:w.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,c)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var f=c.div.negative!==0?c.mod.isub(s):c.mod,d=s.ushrn(1),p=s.andln(1),w=f.cmp(d);return w<0||p===1&&w===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modrn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=(1<<26)%s,d=0,p=this.length-1;p>=0;p--)d=(f*d+(this.words[p]|0))%s;return c?-d:d},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+f*67108864;this.words[d]=p/s|0,f=p%s}return this._strip(),c?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var d=new i(1),p=new i(0),w=new i(0),_=new i(1),g=0;c.isEven()&&f.isEven();)c.iushrn(1),f.iushrn(1),++g;for(var a=f.clone(),b=c.clone();!c.isZero();){for(var q=0,H=1;!(c.words[0]&H)&&q<26;++q,H<<=1);if(q>0)for(c.iushrn(q);q-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(a),p.isub(b)),d.iushrn(1),p.iushrn(1);for(var V=0,nt=1;!(f.words[0]&nt)&&V<26;++V,nt<<=1);if(V>0)for(f.iushrn(V);V-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(a),_.isub(b)),w.iushrn(1),_.iushrn(1);c.cmp(f)>=0?(c.isub(f),d.isub(w),p.isub(_)):(f.isub(c),w.isub(d),_.isub(p))}return{a:w,b:_,gcd:f.iushln(g)}},i.prototype._invmp=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var d=new i(1),p=new i(0),w=f.clone();c.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,g=1;!(c.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(c.iushrn(_);_-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var a=0,b=1;!(f.words[0]&b)&&a<26;++a,b<<=1);if(a>0)for(f.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);c.cmp(f)>=0?(c.isub(f),d.isub(p)):(f.isub(c),p.isub(d))}var q;return c.cmpn(1)===0?q=d:q=p,q.cmpn(0)<0&&q.iadd(s),q},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),f=s.clone();c.negative=0,f.negative=0;for(var d=0;c.isEven()&&f.isEven();d++)c.iushrn(1),f.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;f.isEven();)f.iushrn(1);var p=c.cmp(f);if(p<0){var w=c;c=f,f=w}else if(p===0||f.cmpn(1)===0)break;c.isub(f)}while(!0);return f.iushln(d)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){e(typeof s=="number");var c=s%26,f=(s-c)/26,d=1<<c;if(this.length<=f)return this._expand(f+1),this.words[f]|=d,this;for(var p=d,w=f;p!==0&&w<this.length;w++){var _=this.words[w]|0;_+=p,p=_>>>26,_&=67108863,this.words[w]=_}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var f;if(this.length>1)f=1;else{c&&(s=-s),e(s<=67108863,"Number is too big");var d=this.words[0]|0;f=d===s?0:d<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,f=this.length-1;f>=0;f--){var d=this.words[f]|0,p=s.words[f]|0;if(d!==p){d<p?c=-1:d>p&&(c=1);break}}return c},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new lt(s)},i.prototype.toRed=function(s){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return e(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return e(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var et={k256:null,p224:null,p192:null,p25519:null};function Q(x,s){this.name=x,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Q.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},Q.prototype.ireduce=function(s){var c=s,f;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),f=c.bitLength();while(f>this.n);var d=f<this.n?-1:c.ucmp(this.p);return d===0?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Q.prototype.split=function(s,c){s.iushrn(this.n,0,c)},Q.prototype.imulK=function(s){return s.imul(this.k)};function ht(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ht,Q),ht.prototype.split=function(s,c){for(var f=4194303,d=Math.min(s.length,9),p=0;p<d;p++)c.words[p]=s.words[p];if(c.length=d,s.length<=9){s.words[0]=0,s.length=1;return}var w=s.words[9];for(c.words[c.length++]=w&f,p=10;p<s.length;p++){var _=s.words[p]|0;s.words[p-10]=(_&f)<<4|w>>>22,w=_}w>>>=22,s.words[p-10]=w,w===0&&s.length>10?s.length-=10:s.length-=9},ht.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,f=0;f<s.length;f++){var d=s.words[f]|0;c+=d*977,s.words[f]=c&67108863,c=d*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function yt(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(yt,Q);function ee(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,Q);function qt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(qt,Q),qt.prototype.imulK=function(s){for(var c=0,f=0;f<s.length;f++){var d=(s.words[f]|0)*19+c,p=d&67108863;d>>>=26,s.words[f]=p,c=d}return c!==0&&(s.words[s.length++]=c),s},i._prime=function(s){if(et[s])return et[s];var c;if(s==="k256")c=new ht;else if(s==="p224")c=new yt;else if(s==="p192")c=new ee;else if(s==="p25519")c=new qt;else throw new Error("Unknown prime "+s);return et[s]=c,c};function lt(x){if(typeof x=="string"){var s=i._prime(x);this.m=s.p,this.prime=s}else e(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}lt.prototype._verify1=function(s){e(s.negative===0,"red works only with positives"),e(s.red,"red works only with red numbers")},lt.prototype._verify2=function(s,c){e((s.negative|c.negative)===0,"red works only with positives"),e(s.red&&s.red===c.red,"red works only with red numbers")},lt.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(E(s,s.umod(this.m)._forceRed(this)),s)},lt.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},lt.prototype.add=function(s,c){this._verify2(s,c);var f=s.add(c);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},lt.prototype.iadd=function(s,c){this._verify2(s,c);var f=s.iadd(c);return f.cmp(this.m)>=0&&f.isub(this.m),f},lt.prototype.sub=function(s,c){this._verify2(s,c);var f=s.sub(c);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},lt.prototype.isub=function(s,c){this._verify2(s,c);var f=s.isub(c);return f.cmpn(0)<0&&f.iadd(this.m),f},lt.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},lt.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},lt.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},lt.prototype.isqr=function(s){return this.imul(s,s.clone())},lt.prototype.sqr=function(s){return this.mul(s,s)},lt.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(e(c%2===1),c===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);e(!d.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,g).cmp(_)!==0;)a.redIAdd(_);for(var b=this.pow(a,d),q=this.pow(s,d.addn(1).iushrn(1)),H=this.pow(s,d),V=p;H.cmp(w)!==0;){for(var nt=H,pt=0;nt.cmp(w)!==0;pt++)nt=nt.redSqr();e(pt<V);var gt=this.pow(b,new i(1).iushln(V-pt-1));q=q.redMul(gt),b=gt.redSqr(),H=H.redMul(b),V=pt}return q},lt.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},lt.prototype.pow=function(s,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var f=4,d=new Array(1<<f);d[0]=new i(1).toRed(this),d[1]=s;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],s);var w=d[0],_=0,g=0,a=c.bitLength()%26;for(a===0&&(a=26),p=c.length-1;p>=0;p--){for(var b=c.words[p],q=a-1;q>=0;q--){var H=b>>q&1;if(w!==d[0]&&(w=this.sqr(w)),H===0&&_===0){g=0;continue}_<<=1,_|=H,g++,!(g!==f&&(p!==0||q!==0))&&(w=this.mul(w,d[_]),g=0,_=0)}a=26}return w},lt.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},lt.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},i.mont=function(s){return new oe(s)};function oe(x){lt.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,lt),oe.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},oe.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},oe.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(c),d=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},oe.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new i(0)._forceRed(this);var f=s.mul(c),d=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},oe.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof Ia>"u"||Ia,wf)});var kf=he((Ma,_f)=>{var Dm=it(st());var Bs=fi(),tn=Bs.Buffer;function vf(r,t){for(var e in r)t[e]=r[e]}tn.from&&tn.alloc&&tn.allocUnsafe&&tn.allocUnsafeSlow?_f.exports=Bs:(vf(Bs,Ma),Ma.Buffer=Gn);function Gn(r,t,e){return tn(r,t,e)}Gn.prototype=Object.create(tn.prototype);vf(tn,Gn);Gn.from=function(r,t,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return tn(r,t,e)};Gn.alloc=function(r,t,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=tn(r);return t!==void 0?typeof e=="string"?n.fill(t,e):n.fill(t):n.fill(0),n};Gn.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return tn(r)};Gn.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Bs.SlowBuffer(r)}});var Ra=he((Wm,Sf)=>{"use strict";var Hm=it(st()),As=kf().Buffer;function up(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var u=r.length,y=r.charAt(0),m=Math.log(u)/Math.log(256),E=Math.log(256)/Math.log(u);function A(T){if((Array.isArray(T)||T instanceof Uint8Array)&&(T=As.from(T)),!As.isBuffer(T))throw new TypeError("Expected Buffer");if(T.length===0)return"";for(var N=0,R=0,O=0,F=T.length;O!==F&&T[O]===0;)O++,N++;for(var Y=(F-O)*E+1>>>0,W=new Uint8Array(Y);O!==F;){for(var J=T[O],et=0,Q=Y-1;(J!==0||et<R)&&Q!==-1;Q--,et++)J+=256*W[Q]>>>0,W[Q]=J%u>>>0,J=J/u>>>0;if(J!==0)throw new Error("Non-zero carry");R=et,O++}for(var ht=Y-R;ht!==Y&&W[ht]===0;)ht++;for(var yt=y.repeat(N);ht<Y;++ht)yt+=r.charAt(W[ht]);return yt}function I(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return As.alloc(0);for(var N=0,R=0,O=0;T[N]===y;)R++,N++;for(var F=(T.length-N)*m+1>>>0,Y=new Uint8Array(F);N<T.length;){var W=t[T.charCodeAt(N)];if(W===255)return;for(var J=0,et=F-1;(W!==0||J<O)&&et!==-1;et--,J++)W+=u*Y[et]>>>0,Y[et]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");O=J,N++}for(var Q=F-O;Q!==F&&Y[Q]===0;)Q++;var ht=As.allocUnsafe(R+(F-Q));ht.fill(0,0,R);for(var yt=R;Q!==F;)ht[yt++]=Y[Q++];return ht}function K(T){var N=I(T);if(N)return N;throw new Error("Non-base"+u+" character")}return{encode:A,decodeUnsafe:I,decode:K}}Sf.exports=up});var Bf=he(($m,Ef)=>{var Vm=it(st()),cp=Ra(),fp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ef.exports=cp(fp)});var Pa=he(li=>{"use strict";var Ym=it(st());Object.defineProperty(li,"__esModule",{value:!0});li.sha224=li.sha256=void 0;var Ta=Qo(),Vr=pn(),hp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ln=new Uint32Array(64),Is=class extends Ta.HashMD{constructor(){super(64,32,8,!1),this.A=Tn[0]|0,this.B=Tn[1]|0,this.C=Tn[2]|0,this.D=Tn[3]|0,this.E=Tn[4]|0,this.F=Tn[5]|0,this.G=Tn[6]|0,this.H=Tn[7]|0}get(){let{A:t,B:e,C:n,D:i,E:o,F:u,G:y,H:m}=this;return[t,e,n,i,o,u,y,m]}set(t,e,n,i,o,u,y,m){this.A=t|0,this.B=e|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=u|0,this.G=y|0,this.H=m|0}process(t,e){for(let I=0;I<16;I++,e+=4)Ln[I]=t.getUint32(e,!1);for(let I=16;I<64;I++){let K=Ln[I-15],T=Ln[I-2],N=(0,Vr.rotr)(K,7)^(0,Vr.rotr)(K,18)^K>>>3,R=(0,Vr.rotr)(T,17)^(0,Vr.rotr)(T,19)^T>>>10;Ln[I]=R+Ln[I-7]+N+Ln[I-16]|0}let{A:n,B:i,C:o,D:u,E:y,F:m,G:E,H:A}=this;for(let I=0;I<64;I++){let K=(0,Vr.rotr)(y,6)^(0,Vr.rotr)(y,11)^(0,Vr.rotr)(y,25),T=A+K+(0,Ta.Chi)(y,m,E)+hp[I]+Ln[I]|0,R=((0,Vr.rotr)(n,2)^(0,Vr.rotr)(n,13)^(0,Vr.rotr)(n,22))+(0,Ta.Maj)(n,i,o)|0;A=E,E=m,m=y,y=u+T|0,u=o,o=i,i=n,n=T+R|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,u=u+this.D|0,y=y+this.E|0,m=m+this.F|0,E=E+this.G|0,A=A+this.H|0,this.set(n,i,o,u,y,m,E,A)}roundClean(){Ln.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},La=class extends Is{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};li.sha256=(0,Vr.wrapConstructor)(()=>new Is);li.sha224=(0,Vr.wrapConstructor)(()=>new La)});var If=he((Af,Ca)=>{var Gm=it(st());(function(r,t){"use strict";function e(x,s){if(!x)throw new Error(s||"Assertion failed")}function n(x,s){x.super_=s;var c=function(){};c.prototype=s.prototype,x.prototype=new c,x.prototype.constructor=x}function i(x,s,c){if(i.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((s==="le"||s==="be")&&(c=s,s=10),this._init(x||0,s||10,c||"be"))}typeof r=="object"?r.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Aa().Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,c){return s.cmp(c)>0?s:c},i.min=function(s,c){return s.cmp(c)<0?s:c},i.prototype._init=function(s,c,f){if(typeof s=="number")return this._initNumber(s,c,f);if(typeof s=="object")return this._initArray(s,c,f);c==="hex"&&(c=16),e(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\\s+/g,"");var d=0;s[0]==="-"&&(d++,this.negative=1),d<s.length&&(c===16?this._parseHex(s,d,f):(this._parseBase(s,c,d),f==="le"&&this._initArray(this.toArray(),c,f)))},i.prototype._initNumber=function(s,c,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(e(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),c,f)},i.prototype._initArray=function(s,c,f){if(e(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,_=0;if(f==="be")for(d=s.length-1,p=0;d>=0;d-=3)w=s[d]|s[d-1]<<8|s[d-2]<<16,this.words[p]|=w<<_&67108863,this.words[p+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,p++);else if(f==="le")for(d=0,p=0;d<s.length;d+=3)w=s[d]|s[d+1]<<8|s[d+2]<<16,this.words[p]|=w<<_&67108863,this.words[p+1]=w>>>26-_&67108863,_+=24,_>=26&&(_-=26,p++);return this._strip()};function u(x,s){var c=x.charCodeAt(s);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;e(!1,"Invalid character in "+x)}function y(x,s,c){var f=u(x,c);return c-1>=s&&(f|=u(x,c-1)<<4),f}i.prototype._parseHex=function(s,c,f){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p=0,w=0,_;if(f==="be")for(d=s.length-1;d>=c;d-=2)_=y(s,c,d)<<p,this.words[w]|=_&67108863,p>=18?(p-=18,w+=1,this.words[w]|=_>>>26):p+=8;else{var g=s.length-c;for(d=g%2===0?c+1:c;d<s.length;d+=2)_=y(s,c,d)<<p,this.words[w]|=_&67108863,p>=18?(p-=18,w+=1,this.words[w]|=_>>>26):p+=8}this._strip()};function m(x,s,c,f){for(var d=0,p=0,w=Math.min(x.length,c),_=s;_<w;_++){var g=x.charCodeAt(_)-48;d*=f,g>=49?p=g-49+10:g>=17?p=g-17+10:p=g,e(g>=0&&p<f,"Invalid character"),d+=p}return d}i.prototype._parseBase=function(s,c,f){this.words=[0],this.length=1;for(var d=0,p=1;p<=67108863;p*=c)d++;d--,p=p/c|0;for(var w=s.length-f,_=w%d,g=Math.min(w,w-_)+f,a=0,b=f;b<g;b+=d)a=m(s,b,b+d,c),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var q=1;for(a=m(s,b,s.length,c),b=0;b<_;b++)q*=c;this.imuln(q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function E(x,s){x.words=s.words,x.length=s.length,x.negative=s.negative,x.red=s.red}if(i.prototype._move=function(s){E(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],K=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,c){s=s||10,c=c|0||1;var f;if(s===16||s==="hex"){f="";for(var d=0,p=0,w=0;w<this.length;w++){var _=this.words[w],g=((_<<d|p)&16777215).toString(16);p=_>>>24-d&16777215,d+=2,d>=26&&(d-=26,w--),p!==0||w!==this.length-1?f=I[6-g.length]+g+f:f=g+f}for(p!==0&&(f=p.toString(16)+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=K[s],b=T[s];f="";var q=this.clone();for(q.negative=0;!q.isZero();){var H=q.modrn(b).toString(s);q=q.idivn(b),q.isZero()?f=H+f:f=I[a-H.length]+H+f}for(this.isZero()&&(f="0"+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(s,c){return this.toArrayLike(o,s,c)}),i.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var N=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};i.prototype.toArrayLike=function(s,c,f){this._strip();var d=this.byteLength(),p=f||Math.max(1,d);e(d<=p,"byte array longer than desired length"),e(p>0,"Requested array length <= 0");var w=N(s,p),_=c==="le"?"LE":"BE";return this["_toArrayLike"+_](w,d),w},i.prototype._toArrayLikeLE=function(s,c){for(var f=0,d=0,p=0,w=0;p<this.length;p++){var _=this.words[p]<<w|d;s[f++]=_&255,f<s.length&&(s[f++]=_>>8&255),f<s.length&&(s[f++]=_>>16&255),w===6?(f<s.length&&(s[f++]=_>>24&255),d=0,w=0):(d=_>>>24,w+=2)}if(f<s.length)for(s[f++]=d;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,c){for(var f=s.length-1,d=0,p=0,w=0;p<this.length;p++){var _=this.words[p]<<w|d;s[f--]=_&255,f>=0&&(s[f--]=_>>8&255),f>=0&&(s[f--]=_>>16&255),w===6?(f>=0&&(s[f--]=_>>24&255),d=0,w=0):(d=_>>>24,w+=2)}if(f>=0)for(s[f--]=d;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var c=s,f=0;return c>=4096&&(f+=13,c>>>=13),c>=64&&(f+=7,c>>>=7),c>=8&&(f+=4,c>>>=4),c>=2&&(f+=2,c>>>=2),f+c},i.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,f=0;return c&8191||(f+=13,c>>>=13),c&127||(f+=7,c>>>=7),c&15||(f+=4,c>>>=4),c&3||(f+=2,c>>>=2),c&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function R(x){for(var s=new Array(x.bitLength()),c=0;c<s.length;c++){var f=c/26|0,d=c%26;s[c]=x.words[f]>>>d&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var f=this._zeroBits(this.words[c]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},i.prototype.ior=function(s){return e((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var f=0;f<c.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=c.length,this._strip()},i.prototype.iand=function(s){return e((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var c,f;this.length>s.length?(c=this,f=s):(c=s,f=this);for(var d=0;d<f.length;d++)this.words[d]=c.words[d]^f.words[d];if(this!==c)for(;d<c.length;d++)this.words[d]=c.words[d];return this.length=c.length,this._strip()},i.prototype.ixor=function(s){return e((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){e(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,f=s%26;this._expand(c),f>0&&c--;for(var d=0;d<c;d++)this.words[d]=~this.words[d]&67108863;return f>0&&(this.words[d]=~this.words[d]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,c){e(typeof s=="number"&&s>=0);var f=s/26|0,d=s%26;return this._expand(f+1),c?this.words[f]=this.words[f]|1<<d:this.words[f]=this.words[f]&~(1<<d),this._strip()},i.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var f,d;this.length>s.length?(f=this,d=s):(f=s,d=this);for(var p=0,w=0;w<d.length;w++)c=(f.words[w]|0)+(d.words[w]|0)+p,this.words[w]=c&67108863,p=c>>>26;for(;p!==0&&w<f.length;w++)c=(f.words[w]|0)+p,this.words[w]=c&67108863,p=c>>>26;if(this.length=f.length,p!==0)this.words[this.length]=p,this.length++;else if(f!==this)for(;w<f.length;w++)this.words[w]=f.words[w];return this},i.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,p;f>0?(d=this,p=s):(d=s,p=this);for(var w=0,_=0;_<p.length;_++)c=(d.words[_]|0)-(p.words[_]|0)+w,w=c>>26,this.words[_]=c&67108863;for(;w!==0&&_<d.length;_++)c=(d.words[_]|0)+w,w=c>>26,this.words[_]=c&67108863;if(w===0&&_<d.length&&d!==this)for(;_<d.length;_++)this.words[_]=d.words[_];return this.length=Math.max(this.length,_),d!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function O(x,s,c){c.negative=s.negative^x.negative;var f=x.length+s.length|0;c.length=f,f=f-1|0;var d=x.words[0]|0,p=s.words[0]|0,w=d*p,_=w&67108863,g=w/67108864|0;c.words[0]=_;for(var a=1;a<f;a++){for(var b=g>>>26,q=g&67108863,H=Math.min(a,s.length-1),V=Math.max(0,a-x.length+1);V<=H;V++){var nt=a-V|0;d=x.words[nt]|0,p=s.words[V]|0,w=d*p+q,b+=w/67108864|0,q=w&67108863}c.words[a]=q|0,g=b|0}return g!==0?c.words[a]=g|0:c.length--,c._strip()}var F=function(s,c,f){var d=s.words,p=c.words,w=f.words,_=0,g,a,b,q=d[0]|0,H=q&8191,V=q>>>13,nt=d[1]|0,pt=nt&8191,gt=nt>>>13,we=d[2]|0,wt=we&8191,xt=we>>>13,We=d[3]|0,Nt=We&8191,zt=We>>>13,yr=d[4]|0,re=yr&8191,$t=yr>>>13,Ar=d[5]|0,ae=Ar&8191,ne=Ar>>>13,Lr=d[6]|0,Gt=Lr&8191,Zt=Lr>>>13,rr=d[7]|0,M=rr&8191,C=rr>>>13,z=d[8]|0,D=z&8191,ut=z>>>13,Ot=d[9]|0,mt=Ot&8191,Mt=Ot>>>13,Ae=p[0]|0,Tt=Ae&8191,Ut=Ae>>>13,qr=p[1]|0,ie=qr&8191,Jt=qr>>>13,_n=p[2]|0,ye=_n&8191,ge=_n>>>13,Ir=p[3]|0,se=Ir&8191,ue=Ir>>>13,hn=p[4]|0,fe=hn&8191,le=hn>>>13,Wn=p[5]|0,Ft=Wn&8191,de=Wn>>>13,v=p[6]|0,S=v&8191,k=v>>>13,l=p[7]|0,B=l&8191,U=l>>>13,$=p[8]|0,j=$&8191,tt=$>>>13,Lt=p[9]|0,ct=Lt&8191,St=Lt>>>13;f.negative=s.negative^c.negative,f.length=19,g=Math.imul(H,Tt),a=Math.imul(H,Ut),a=a+Math.imul(V,Tt)|0,b=Math.imul(V,Ut);var Et=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Et>>>26)|0,Et&=67108863,g=Math.imul(pt,Tt),a=Math.imul(pt,Ut),a=a+Math.imul(gt,Tt)|0,b=Math.imul(gt,Ut),g=g+Math.imul(H,ie)|0,a=a+Math.imul(H,Jt)|0,a=a+Math.imul(V,ie)|0,b=b+Math.imul(V,Jt)|0;var Kt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,g=Math.imul(wt,Tt),a=Math.imul(wt,Ut),a=a+Math.imul(xt,Tt)|0,b=Math.imul(xt,Ut),g=g+Math.imul(pt,ie)|0,a=a+Math.imul(pt,Jt)|0,a=a+Math.imul(gt,ie)|0,b=b+Math.imul(gt,Jt)|0,g=g+Math.imul(H,ye)|0,a=a+Math.imul(H,ge)|0,a=a+Math.imul(V,ye)|0,b=b+Math.imul(V,ge)|0;var Dt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,g=Math.imul(Nt,Tt),a=Math.imul(Nt,Ut),a=a+Math.imul(zt,Tt)|0,b=Math.imul(zt,Ut),g=g+Math.imul(wt,ie)|0,a=a+Math.imul(wt,Jt)|0,a=a+Math.imul(xt,ie)|0,b=b+Math.imul(xt,Jt)|0,g=g+Math.imul(pt,ye)|0,a=a+Math.imul(pt,ge)|0,a=a+Math.imul(gt,ye)|0,b=b+Math.imul(gt,ge)|0,g=g+Math.imul(H,se)|0,a=a+Math.imul(H,ue)|0,a=a+Math.imul(V,se)|0,b=b+Math.imul(V,ue)|0;var Qt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,g=Math.imul(re,Tt),a=Math.imul(re,Ut),a=a+Math.imul($t,Tt)|0,b=Math.imul($t,Ut),g=g+Math.imul(Nt,ie)|0,a=a+Math.imul(Nt,Jt)|0,a=a+Math.imul(zt,ie)|0,b=b+Math.imul(zt,Jt)|0,g=g+Math.imul(wt,ye)|0,a=a+Math.imul(wt,ge)|0,a=a+Math.imul(xt,ye)|0,b=b+Math.imul(xt,ge)|0,g=g+Math.imul(pt,se)|0,a=a+Math.imul(pt,ue)|0,a=a+Math.imul(gt,se)|0,b=b+Math.imul(gt,ue)|0,g=g+Math.imul(H,fe)|0,a=a+Math.imul(H,le)|0,a=a+Math.imul(V,fe)|0,b=b+Math.imul(V,le)|0;var Xt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,g=Math.imul(ae,Tt),a=Math.imul(ae,Ut),a=a+Math.imul(ne,Tt)|0,b=Math.imul(ne,Ut),g=g+Math.imul(re,ie)|0,a=a+Math.imul(re,Jt)|0,a=a+Math.imul($t,ie)|0,b=b+Math.imul($t,Jt)|0,g=g+Math.imul(Nt,ye)|0,a=a+Math.imul(Nt,ge)|0,a=a+Math.imul(zt,ye)|0,b=b+Math.imul(zt,ge)|0,g=g+Math.imul(wt,se)|0,a=a+Math.imul(wt,ue)|0,a=a+Math.imul(xt,se)|0,b=b+Math.imul(xt,ue)|0,g=g+Math.imul(pt,fe)|0,a=a+Math.imul(pt,le)|0,a=a+Math.imul(gt,fe)|0,b=b+Math.imul(gt,le)|0,g=g+Math.imul(H,Ft)|0,a=a+Math.imul(H,de)|0,a=a+Math.imul(V,Ft)|0,b=b+Math.imul(V,de)|0;var Wt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,g=Math.imul(Gt,Tt),a=Math.imul(Gt,Ut),a=a+Math.imul(Zt,Tt)|0,b=Math.imul(Zt,Ut),g=g+Math.imul(ae,ie)|0,a=a+Math.imul(ae,Jt)|0,a=a+Math.imul(ne,ie)|0,b=b+Math.imul(ne,Jt)|0,g=g+Math.imul(re,ye)|0,a=a+Math.imul(re,ge)|0,a=a+Math.imul($t,ye)|0,b=b+Math.imul($t,ge)|0,g=g+Math.imul(Nt,se)|0,a=a+Math.imul(Nt,ue)|0,a=a+Math.imul(zt,se)|0,b=b+Math.imul(zt,ue)|0,g=g+Math.imul(wt,fe)|0,a=a+Math.imul(wt,le)|0,a=a+Math.imul(xt,fe)|0,b=b+Math.imul(xt,le)|0,g=g+Math.imul(pt,Ft)|0,a=a+Math.imul(pt,de)|0,a=a+Math.imul(gt,Ft)|0,b=b+Math.imul(gt,de)|0,g=g+Math.imul(H,S)|0,a=a+Math.imul(H,k)|0,a=a+Math.imul(V,S)|0,b=b+Math.imul(V,k)|0;var Vt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,g=Math.imul(M,Tt),a=Math.imul(M,Ut),a=a+Math.imul(C,Tt)|0,b=Math.imul(C,Ut),g=g+Math.imul(Gt,ie)|0,a=a+Math.imul(Gt,Jt)|0,a=a+Math.imul(Zt,ie)|0,b=b+Math.imul(Zt,Jt)|0,g=g+Math.imul(ae,ye)|0,a=a+Math.imul(ae,ge)|0,a=a+Math.imul(ne,ye)|0,b=b+Math.imul(ne,ge)|0,g=g+Math.imul(re,se)|0,a=a+Math.imul(re,ue)|0,a=a+Math.imul($t,se)|0,b=b+Math.imul($t,ue)|0,g=g+Math.imul(Nt,fe)|0,a=a+Math.imul(Nt,le)|0,a=a+Math.imul(zt,fe)|0,b=b+Math.imul(zt,le)|0,g=g+Math.imul(wt,Ft)|0,a=a+Math.imul(wt,de)|0,a=a+Math.imul(xt,Ft)|0,b=b+Math.imul(xt,de)|0,g=g+Math.imul(pt,S)|0,a=a+Math.imul(pt,k)|0,a=a+Math.imul(gt,S)|0,b=b+Math.imul(gt,k)|0,g=g+Math.imul(H,B)|0,a=a+Math.imul(H,U)|0,a=a+Math.imul(V,B)|0,b=b+Math.imul(V,U)|0;var Ht=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,g=Math.imul(D,Tt),a=Math.imul(D,Ut),a=a+Math.imul(ut,Tt)|0,b=Math.imul(ut,Ut),g=g+Math.imul(M,ie)|0,a=a+Math.imul(M,Jt)|0,a=a+Math.imul(C,ie)|0,b=b+Math.imul(C,Jt)|0,g=g+Math.imul(Gt,ye)|0,a=a+Math.imul(Gt,ge)|0,a=a+Math.imul(Zt,ye)|0,b=b+Math.imul(Zt,ge)|0,g=g+Math.imul(ae,se)|0,a=a+Math.imul(ae,ue)|0,a=a+Math.imul(ne,se)|0,b=b+Math.imul(ne,ue)|0,g=g+Math.imul(re,fe)|0,a=a+Math.imul(re,le)|0,a=a+Math.imul($t,fe)|0,b=b+Math.imul($t,le)|0,g=g+Math.imul(Nt,Ft)|0,a=a+Math.imul(Nt,de)|0,a=a+Math.imul(zt,Ft)|0,b=b+Math.imul(zt,de)|0,g=g+Math.imul(wt,S)|0,a=a+Math.imul(wt,k)|0,a=a+Math.imul(xt,S)|0,b=b+Math.imul(xt,k)|0,g=g+Math.imul(pt,B)|0,a=a+Math.imul(pt,U)|0,a=a+Math.imul(gt,B)|0,b=b+Math.imul(gt,U)|0,g=g+Math.imul(H,j)|0,a=a+Math.imul(H,tt)|0,a=a+Math.imul(V,j)|0,b=b+Math.imul(V,tt)|0;var Bt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,g=Math.imul(mt,Tt),a=Math.imul(mt,Ut),a=a+Math.imul(Mt,Tt)|0,b=Math.imul(Mt,Ut),g=g+Math.imul(D,ie)|0,a=a+Math.imul(D,Jt)|0,a=a+Math.imul(ut,ie)|0,b=b+Math.imul(ut,Jt)|0,g=g+Math.imul(M,ye)|0,a=a+Math.imul(M,ge)|0,a=a+Math.imul(C,ye)|0,b=b+Math.imul(C,ge)|0,g=g+Math.imul(Gt,se)|0,a=a+Math.imul(Gt,ue)|0,a=a+Math.imul(Zt,se)|0,b=b+Math.imul(Zt,ue)|0,g=g+Math.imul(ae,fe)|0,a=a+Math.imul(ae,le)|0,a=a+Math.imul(ne,fe)|0,b=b+Math.imul(ne,le)|0,g=g+Math.imul(re,Ft)|0,a=a+Math.imul(re,de)|0,a=a+Math.imul($t,Ft)|0,b=b+Math.imul($t,de)|0,g=g+Math.imul(Nt,S)|0,a=a+Math.imul(Nt,k)|0,a=a+Math.imul(zt,S)|0,b=b+Math.imul(zt,k)|0,g=g+Math.imul(wt,B)|0,a=a+Math.imul(wt,U)|0,a=a+Math.imul(xt,B)|0,b=b+Math.imul(xt,U)|0,g=g+Math.imul(pt,j)|0,a=a+Math.imul(pt,tt)|0,a=a+Math.imul(gt,j)|0,b=b+Math.imul(gt,tt)|0,g=g+Math.imul(H,ct)|0,a=a+Math.imul(H,St)|0,a=a+Math.imul(V,ct)|0,b=b+Math.imul(V,St)|0;var Pt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,g=Math.imul(mt,ie),a=Math.imul(mt,Jt),a=a+Math.imul(Mt,ie)|0,b=Math.imul(Mt,Jt),g=g+Math.imul(D,ye)|0,a=a+Math.imul(D,ge)|0,a=a+Math.imul(ut,ye)|0,b=b+Math.imul(ut,ge)|0,g=g+Math.imul(M,se)|0,a=a+Math.imul(M,ue)|0,a=a+Math.imul(C,se)|0,b=b+Math.imul(C,ue)|0,g=g+Math.imul(Gt,fe)|0,a=a+Math.imul(Gt,le)|0,a=a+Math.imul(Zt,fe)|0,b=b+Math.imul(Zt,le)|0,g=g+Math.imul(ae,Ft)|0,a=a+Math.imul(ae,de)|0,a=a+Math.imul(ne,Ft)|0,b=b+Math.imul(ne,de)|0,g=g+Math.imul(re,S)|0,a=a+Math.imul(re,k)|0,a=a+Math.imul($t,S)|0,b=b+Math.imul($t,k)|0,g=g+Math.imul(Nt,B)|0,a=a+Math.imul(Nt,U)|0,a=a+Math.imul(zt,B)|0,b=b+Math.imul(zt,U)|0,g=g+Math.imul(wt,j)|0,a=a+Math.imul(wt,tt)|0,a=a+Math.imul(xt,j)|0,b=b+Math.imul(xt,tt)|0,g=g+Math.imul(pt,ct)|0,a=a+Math.imul(pt,St)|0,a=a+Math.imul(gt,ct)|0,b=b+Math.imul(gt,St)|0;var vt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,g=Math.imul(mt,ye),a=Math.imul(mt,ge),a=a+Math.imul(Mt,ye)|0,b=Math.imul(Mt,ge),g=g+Math.imul(D,se)|0,a=a+Math.imul(D,ue)|0,a=a+Math.imul(ut,se)|0,b=b+Math.imul(ut,ue)|0,g=g+Math.imul(M,fe)|0,a=a+Math.imul(M,le)|0,a=a+Math.imul(C,fe)|0,b=b+Math.imul(C,le)|0,g=g+Math.imul(Gt,Ft)|0,a=a+Math.imul(Gt,de)|0,a=a+Math.imul(Zt,Ft)|0,b=b+Math.imul(Zt,de)|0,g=g+Math.imul(ae,S)|0,a=a+Math.imul(ae,k)|0,a=a+Math.imul(ne,S)|0,b=b+Math.imul(ne,k)|0,g=g+Math.imul(re,B)|0,a=a+Math.imul(re,U)|0,a=a+Math.imul($t,B)|0,b=b+Math.imul($t,U)|0,g=g+Math.imul(Nt,j)|0,a=a+Math.imul(Nt,tt)|0,a=a+Math.imul(zt,j)|0,b=b+Math.imul(zt,tt)|0,g=g+Math.imul(wt,ct)|0,a=a+Math.imul(wt,St)|0,a=a+Math.imul(xt,ct)|0,b=b+Math.imul(xt,St)|0;var At=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(mt,se),a=Math.imul(mt,ue),a=a+Math.imul(Mt,se)|0,b=Math.imul(Mt,ue),g=g+Math.imul(D,fe)|0,a=a+Math.imul(D,le)|0,a=a+Math.imul(ut,fe)|0,b=b+Math.imul(ut,le)|0,g=g+Math.imul(M,Ft)|0,a=a+Math.imul(M,de)|0,a=a+Math.imul(C,Ft)|0,b=b+Math.imul(C,de)|0,g=g+Math.imul(Gt,S)|0,a=a+Math.imul(Gt,k)|0,a=a+Math.imul(Zt,S)|0,b=b+Math.imul(Zt,k)|0,g=g+Math.imul(ae,B)|0,a=a+Math.imul(ae,U)|0,a=a+Math.imul(ne,B)|0,b=b+Math.imul(ne,U)|0,g=g+Math.imul(re,j)|0,a=a+Math.imul(re,tt)|0,a=a+Math.imul($t,j)|0,b=b+Math.imul($t,tt)|0,g=g+Math.imul(Nt,ct)|0,a=a+Math.imul(Nt,St)|0,a=a+Math.imul(zt,ct)|0,b=b+Math.imul(zt,St)|0;var Rt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,g=Math.imul(mt,fe),a=Math.imul(mt,le),a=a+Math.imul(Mt,fe)|0,b=Math.imul(Mt,le),g=g+Math.imul(D,Ft)|0,a=a+Math.imul(D,de)|0,a=a+Math.imul(ut,Ft)|0,b=b+Math.imul(ut,de)|0,g=g+Math.imul(M,S)|0,a=a+Math.imul(M,k)|0,a=a+Math.imul(C,S)|0,b=b+Math.imul(C,k)|0,g=g+Math.imul(Gt,B)|0,a=a+Math.imul(Gt,U)|0,a=a+Math.imul(Zt,B)|0,b=b+Math.imul(Zt,U)|0,g=g+Math.imul(ae,j)|0,a=a+Math.imul(ae,tt)|0,a=a+Math.imul(ne,j)|0,b=b+Math.imul(ne,tt)|0,g=g+Math.imul(re,ct)|0,a=a+Math.imul(re,St)|0,a=a+Math.imul($t,ct)|0,b=b+Math.imul($t,St)|0;var bt=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(mt,Ft),a=Math.imul(mt,de),a=a+Math.imul(Mt,Ft)|0,b=Math.imul(Mt,de),g=g+Math.imul(D,S)|0,a=a+Math.imul(D,k)|0,a=a+Math.imul(ut,S)|0,b=b+Math.imul(ut,k)|0,g=g+Math.imul(M,B)|0,a=a+Math.imul(M,U)|0,a=a+Math.imul(C,B)|0,b=b+Math.imul(C,U)|0,g=g+Math.imul(Gt,j)|0,a=a+Math.imul(Gt,tt)|0,a=a+Math.imul(Zt,j)|0,b=b+Math.imul(Zt,tt)|0,g=g+Math.imul(ae,ct)|0,a=a+Math.imul(ae,St)|0,a=a+Math.imul(ne,ct)|0,b=b+Math.imul(ne,St)|0;var Z=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(Z>>>26)|0,Z&=67108863,g=Math.imul(mt,S),a=Math.imul(mt,k),a=a+Math.imul(Mt,S)|0,b=Math.imul(Mt,k),g=g+Math.imul(D,B)|0,a=a+Math.imul(D,U)|0,a=a+Math.imul(ut,B)|0,b=b+Math.imul(ut,U)|0,g=g+Math.imul(M,j)|0,a=a+Math.imul(M,tt)|0,a=a+Math.imul(C,j)|0,b=b+Math.imul(C,tt)|0,g=g+Math.imul(Gt,ct)|0,a=a+Math.imul(Gt,St)|0,a=a+Math.imul(Zt,ct)|0,b=b+Math.imul(Zt,St)|0;var X=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(X>>>26)|0,X&=67108863,g=Math.imul(mt,B),a=Math.imul(mt,U),a=a+Math.imul(Mt,B)|0,b=Math.imul(Mt,U),g=g+Math.imul(D,j)|0,a=a+Math.imul(D,tt)|0,a=a+Math.imul(ut,j)|0,b=b+Math.imul(ut,tt)|0,g=g+Math.imul(M,ct)|0,a=a+Math.imul(M,St)|0,a=a+Math.imul(C,ct)|0,b=b+Math.imul(C,St)|0;var ft=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(ft>>>26)|0,ft&=67108863,g=Math.imul(mt,j),a=Math.imul(mt,tt),a=a+Math.imul(Mt,j)|0,b=Math.imul(Mt,tt),g=g+Math.imul(D,ct)|0,a=a+Math.imul(D,St)|0,a=a+Math.imul(ut,ct)|0,b=b+Math.imul(ut,St)|0;var ot=(_+g|0)+((a&8191)<<13)|0;_=(b+(a>>>13)|0)+(ot>>>26)|0,ot&=67108863,g=Math.imul(mt,ct),a=Math.imul(mt,St),a=a+Math.imul(Mt,ct)|0,b=Math.imul(Mt,St);var at=(_+g|0)+((a&8191)<<13)|0;return _=(b+(a>>>13)|0)+(at>>>26)|0,at&=67108863,w[0]=Et,w[1]=Kt,w[2]=Dt,w[3]=Qt,w[4]=Xt,w[5]=Wt,w[6]=Vt,w[7]=Ht,w[8]=Bt,w[9]=Pt,w[10]=vt,w[11]=At,w[12]=Rt,w[13]=bt,w[14]=Z,w[15]=X,w[16]=ft,w[17]=ot,w[18]=at,_!==0&&(w[19]=_,f.length++),f};Math.imul||(F=O);function Y(x,s,c){c.negative=s.negative^x.negative,c.length=x.length+s.length;for(var f=0,d=0,p=0;p<c.length-1;p++){var w=d;d=0;for(var _=f&67108863,g=Math.min(p,s.length-1),a=Math.max(0,p-x.length+1);a<=g;a++){var b=p-a,q=x.words[b]|0,H=s.words[a]|0,V=q*H,nt=V&67108863;w=w+(V/67108864|0)|0,nt=nt+_|0,_=nt&67108863,w=w+(nt>>>26)|0,d+=w>>>26,w&=67108863}c.words[p]=_,f=w,w=d}return f!==0?c.words[p]=f:c.length--,c._strip()}function W(x,s,c){return Y(x,s,c)}i.prototype.mulTo=function(s,c){var f,d=this.length+s.length;return this.length===10&&s.length===10?f=F(this,s,c):d<63?f=O(this,s,c):d<1024?f=Y(this,s,c):f=W(this,s,c),f};function J(x,s){this.x=x,this.y=s}J.prototype.makeRBT=function(s){for(var c=new Array(s),f=i.prototype._countBits(s)-1,d=0;d<s;d++)c[d]=this.revBin(d,f,s);return c},J.prototype.revBin=function(s,c,f){if(s===0||s===f-1)return s;for(var d=0,p=0;p<c;p++)d|=(s&1)<<c-p-1,s>>=1;return d},J.prototype.permute=function(s,c,f,d,p,w){for(var _=0;_<w;_++)d[_]=c[s[_]],p[_]=f[s[_]]},J.prototype.transform=function(s,c,f,d,p,w){this.permute(w,s,c,f,d,p);for(var _=1;_<p;_<<=1)for(var g=_<<1,a=Math.cos(2*Math.PI/g),b=Math.sin(2*Math.PI/g),q=0;q<p;q+=g)for(var H=a,V=b,nt=0;nt<_;nt++){var pt=f[q+nt],gt=d[q+nt],we=f[q+nt+_],wt=d[q+nt+_],xt=H*we-V*wt;wt=H*wt+V*we,we=xt,f[q+nt]=pt+we,d[q+nt]=gt+wt,f[q+nt+_]=pt-we,d[q+nt+_]=gt-wt,nt!==g&&(xt=a*H-b*V,V=a*V+b*H,H=xt)}},J.prototype.guessLen13b=function(s,c){var f=Math.max(c,s)|1,d=f&1,p=0;for(f=f/2|0;f;f=f>>>1)p++;return 1<<p+1+d},J.prototype.conjugate=function(s,c,f){if(!(f<=1))for(var d=0;d<f/2;d++){var p=s[d];s[d]=s[f-d-1],s[f-d-1]=p,p=c[d],c[d]=-c[f-d-1],c[f-d-1]=-p}},J.prototype.normalize13b=function(s,c){for(var f=0,d=0;d<c/2;d++){var p=Math.round(s[2*d+1]/c)*8192+Math.round(s[2*d]/c)+f;s[d]=p&67108863,p<67108864?f=0:f=p/67108864|0}return s},J.prototype.convert13b=function(s,c,f,d){for(var p=0,w=0;w<c;w++)p=p+(s[w]|0),f[2*w]=p&8191,p=p>>>13,f[2*w+1]=p&8191,p=p>>>13;for(w=2*c;w<d;++w)f[w]=0;e(p===0),e((p&-8192)===0)},J.prototype.stub=function(s){for(var c=new Array(s),f=0;f<s;f++)c[f]=0;return c},J.prototype.mulp=function(s,c,f){var d=2*this.guessLen13b(s.length,c.length),p=this.makeRBT(d),w=this.stub(d),_=new Array(d),g=new Array(d),a=new Array(d),b=new Array(d),q=new Array(d),H=new Array(d),V=f.words;V.length=d,this.convert13b(s.words,s.length,_,d),this.convert13b(c.words,c.length,b,d),this.transform(_,w,g,a,d,p),this.transform(b,w,q,H,d,p);for(var nt=0;nt<d;nt++){var pt=g[nt]*q[nt]-a[nt]*H[nt];a[nt]=g[nt]*H[nt]+a[nt]*q[nt],g[nt]=pt}return this.conjugate(g,a,d),this.transform(g,a,V,w,d,p),this.conjugate(V,w,d),this.normalize13b(V,d),f.negative=s.negative^c.negative,f.length=s.length+c.length,f._strip()},i.prototype.mul=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},i.prototype.mulf=function(s){var c=new i(null);return c.words=new Array(this.length+s.length),W(this,s,c)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var c=s<0;c&&(s=-s),e(typeof s=="number"),e(s<67108864);for(var f=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*s,w=(p&67108863)+(f&67108863);f>>=26,f+=p/67108864|0,f+=w>>>26,this.words[d]=w&67108863}return f!==0&&(this.words[d]=f,this.length++),c?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var c=R(s);if(c.length===0)return new i(1);for(var f=this,d=0;d<c.length&&c[d]===0;d++,f=f.sqr());if(++d<c.length)for(var p=f.sqr();d<c.length;d++,p=p.sqr())c[d]!==0&&(f=f.mul(p));return f},i.prototype.iushln=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,d=67108863>>>26-c<<26-c,p;if(c!==0){var w=0;for(p=0;p<this.length;p++){var _=this.words[p]&d,g=(this.words[p]|0)-_<<c;this.words[p]=g|w,w=_>>>26-c}w&&(this.words[p]=w,this.length++)}if(f!==0){for(p=this.length-1;p>=0;p--)this.words[p+f]=this.words[p];for(p=0;p<f;p++)this.words[p]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return e(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,c,f){e(typeof s=="number"&&s>=0);var d;c?d=(c-c%26)/26:d=0;var p=s%26,w=Math.min((s-p)/26,this.length),_=67108863^67108863>>>p<<p,g=f;if(d-=w,d=Math.max(0,d),g){for(var a=0;a<w;a++)g.words[a]=this.words[a];g.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=d);a--){var q=this.words[a]|0;this.words[a]=b<<26-p|q>>>p,b=q&_}return g&&b!==0&&(g.words[g.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,c,f){return e(this.negative===0),this.iushrn(s,c,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26,d=1<<c;if(this.length<=f)return!1;var p=this.words[f];return!!(p&d)},i.prototype.imaskn=function(s){e(typeof s=="number"&&s>=0);var c=s%26,f=(s-c)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(c!==0&&f++,this.length=Math.min(f,this.length),c!==0){var d=67108863^67108863>>>c<<c;this.words[this.length-1]&=d}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return e(typeof s=="number"),e(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(s){if(e(typeof s=="number"),e(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,c,f){var d=s.length+f,p;this._expand(d);var w,_=0;for(p=0;p<s.length;p++){w=(this.words[p+f]|0)+_;var g=(s.words[p]|0)*c;w-=g&67108863,_=(w>>26)-(g/67108864|0),this.words[p+f]=w&67108863}for(;p<this.length-f;p++)w=(this.words[p+f]|0)+_,_=w>>26,this.words[p+f]=w&67108863;if(_===0)return this._strip();for(e(_===-1),_=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+_,_=w>>26,this.words[p]=w&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,c){var f=this.length-s.length,d=this.clone(),p=s,w=p.words[p.length-1]|0,_=this._countBits(w);f=26-_,f!==0&&(p=p.ushln(f),d.iushln(f),w=p.words[p.length-1]|0);var g=d.length-p.length,a;if(c!=="mod"){a=new i(null),a.length=g+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var q=d.clone()._ishlnsubmul(p,1,g);q.negative===0&&(d=q,a&&(a.words[g]=1));for(var H=g-1;H>=0;H--){var V=(d.words[p.length+H]|0)*67108864+(d.words[p.length+H-1]|0);for(V=Math.min(V/w|0,67108863),d._ishlnsubmul(p,V,H);d.negative!==0;)V--,d.negative=0,d._ishlnsubmul(p,1,H),d.isZero()||(d.negative^=1);a&&(a.words[H]=V)}return a&&a._strip(),d._strip(),c!=="div"&&f!==0&&d.iushrn(f),{div:a||null,mod:d}},i.prototype.divmod=function(s,c,f){if(e(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,p,w;return this.negative!==0&&s.negative===0?(w=this.neg().divmod(s,c),c!=="mod"&&(d=w.div.neg()),c!=="div"&&(p=w.mod.neg(),f&&p.negative!==0&&p.iadd(s)),{div:d,mod:p}):this.negative===0&&s.negative!==0?(w=this.divmod(s.neg(),c),c!=="mod"&&(d=w.div.neg()),{div:d,mod:w.mod}):this.negative&s.negative?(w=this.neg().divmod(s.neg(),c),c!=="div"&&(p=w.mod.neg(),f&&p.negative!==0&&p.isub(s)),{div:w.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,c)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var f=c.div.negative!==0?c.mod.isub(s):c.mod,d=s.ushrn(1),p=s.andln(1),w=f.cmp(d);return w<0||p===1&&w===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modrn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=(1<<26)%s,d=0,p=this.length-1;p>=0;p--)d=(f*d+(this.words[p]|0))%s;return c?-d:d},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var c=s<0;c&&(s=-s),e(s<=67108863);for(var f=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+f*67108864;this.words[d]=p/s|0,f=p%s}return this._strip(),c?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var d=new i(1),p=new i(0),w=new i(0),_=new i(1),g=0;c.isEven()&&f.isEven();)c.iushrn(1),f.iushrn(1),++g;for(var a=f.clone(),b=c.clone();!c.isZero();){for(var q=0,H=1;!(c.words[0]&H)&&q<26;++q,H<<=1);if(q>0)for(c.iushrn(q);q-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(a),p.isub(b)),d.iushrn(1),p.iushrn(1);for(var V=0,nt=1;!(f.words[0]&nt)&&V<26;++V,nt<<=1);if(V>0)for(f.iushrn(V);V-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(a),_.isub(b)),w.iushrn(1),_.iushrn(1);c.cmp(f)>=0?(c.isub(f),d.isub(w),p.isub(_)):(f.isub(c),w.isub(d),_.isub(p))}return{a:w,b:_,gcd:f.iushln(g)}},i.prototype._invmp=function(s){e(s.negative===0),e(!s.isZero());var c=this,f=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var d=new i(1),p=new i(0),w=f.clone();c.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,g=1;!(c.words[0]&g)&&_<26;++_,g<<=1);if(_>0)for(c.iushrn(_);_-- >0;)d.isOdd()&&d.iadd(w),d.iushrn(1);for(var a=0,b=1;!(f.words[0]&b)&&a<26;++a,b<<=1);if(a>0)for(f.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);c.cmp(f)>=0?(c.isub(f),d.isub(p)):(f.isub(c),p.isub(d))}var q;return c.cmpn(1)===0?q=d:q=p,q.cmpn(0)<0&&q.iadd(s),q},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),f=s.clone();c.negative=0,f.negative=0;for(var d=0;c.isEven()&&f.isEven();d++)c.iushrn(1),f.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;f.isEven();)f.iushrn(1);var p=c.cmp(f);if(p<0){var w=c;c=f,f=w}else if(p===0||f.cmpn(1)===0)break;c.isub(f)}while(!0);return f.iushln(d)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){e(typeof s=="number");var c=s%26,f=(s-c)/26,d=1<<c;if(this.length<=f)return this._expand(f+1),this.words[f]|=d,this;for(var p=d,w=f;p!==0&&w<this.length;w++){var _=this.words[w]|0;_+=p,p=_>>>26,_&=67108863,this.words[w]=_}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var f;if(this.length>1)f=1;else{c&&(s=-s),e(s<=67108863,"Number is too big");var d=this.words[0]|0;f=d===s?0:d<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,f=this.length-1;f>=0;f--){var d=this.words[f]|0,p=s.words[f]|0;if(d!==p){d<p?c=-1:d>p&&(c=1);break}}return c},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new lt(s)},i.prototype.toRed=function(s){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return e(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return e(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var et={k256:null,p224:null,p192:null,p25519:null};function Q(x,s){this.name=x,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Q.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},Q.prototype.ireduce=function(s){var c=s,f;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),f=c.bitLength();while(f>this.n);var d=f<this.n?-1:c.ucmp(this.p);return d===0?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Q.prototype.split=function(s,c){s.iushrn(this.n,0,c)},Q.prototype.imulK=function(s){return s.imul(this.k)};function ht(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ht,Q),ht.prototype.split=function(s,c){for(var f=4194303,d=Math.min(s.length,9),p=0;p<d;p++)c.words[p]=s.words[p];if(c.length=d,s.length<=9){s.words[0]=0,s.length=1;return}var w=s.words[9];for(c.words[c.length++]=w&f,p=10;p<s.length;p++){var _=s.words[p]|0;s.words[p-10]=(_&f)<<4|w>>>22,w=_}w>>>=22,s.words[p-10]=w,w===0&&s.length>10?s.length-=10:s.length-=9},ht.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,f=0;f<s.length;f++){var d=s.words[f]|0;c+=d*977,s.words[f]=c&67108863,c=d*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function yt(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(yt,Q);function ee(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,Q);function qt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(qt,Q),qt.prototype.imulK=function(s){for(var c=0,f=0;f<s.length;f++){var d=(s.words[f]|0)*19+c,p=d&67108863;d>>>=26,s.words[f]=p,c=d}return c!==0&&(s.words[s.length++]=c),s},i._prime=function(s){if(et[s])return et[s];var c;if(s==="k256")c=new ht;else if(s==="p224")c=new yt;else if(s==="p192")c=new ee;else if(s==="p25519")c=new qt;else throw new Error("Unknown prime "+s);return et[s]=c,c};function lt(x){if(typeof x=="string"){var s=i._prime(x);this.m=s.p,this.prime=s}else e(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}lt.prototype._verify1=function(s){e(s.negative===0,"red works only with positives"),e(s.red,"red works only with red numbers")},lt.prototype._verify2=function(s,c){e((s.negative|c.negative)===0,"red works only with positives"),e(s.red&&s.red===c.red,"red works only with red numbers")},lt.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(E(s,s.umod(this.m)._forceRed(this)),s)},lt.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},lt.prototype.add=function(s,c){this._verify2(s,c);var f=s.add(c);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},lt.prototype.iadd=function(s,c){this._verify2(s,c);var f=s.iadd(c);return f.cmp(this.m)>=0&&f.isub(this.m),f},lt.prototype.sub=function(s,c){this._verify2(s,c);var f=s.sub(c);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},lt.prototype.isub=function(s,c){this._verify2(s,c);var f=s.isub(c);return f.cmpn(0)<0&&f.iadd(this.m),f},lt.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},lt.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},lt.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},lt.prototype.isqr=function(s){return this.imul(s,s.clone())},lt.prototype.sqr=function(s){return this.mul(s,s)},lt.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(e(c%2===1),c===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var d=this.m.subn(1),p=0;!d.isZero()&&d.andln(1)===0;)p++,d.iushrn(1);e(!d.isZero());var w=new i(1).toRed(this),_=w.redNeg(),g=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,g).cmp(_)!==0;)a.redIAdd(_);for(var b=this.pow(a,d),q=this.pow(s,d.addn(1).iushrn(1)),H=this.pow(s,d),V=p;H.cmp(w)!==0;){for(var nt=H,pt=0;nt.cmp(w)!==0;pt++)nt=nt.redSqr();e(pt<V);var gt=this.pow(b,new i(1).iushln(V-pt-1));q=q.redMul(gt),b=gt.redSqr(),H=H.redMul(b),V=pt}return q},lt.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},lt.prototype.pow=function(s,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var f=4,d=new Array(1<<f);d[0]=new i(1).toRed(this),d[1]=s;for(var p=2;p<d.length;p++)d[p]=this.mul(d[p-1],s);var w=d[0],_=0,g=0,a=c.bitLength()%26;for(a===0&&(a=26),p=c.length-1;p>=0;p--){for(var b=c.words[p],q=a-1;q>=0;q--){var H=b>>q&1;if(w!==d[0]&&(w=this.sqr(w)),H===0&&_===0){g=0;continue}_<<=1,_|=H,g++,!(g!==f&&(p!==0||q!==0))&&(w=this.mul(w,d[_]),g=0,_=0)}a=26}return w},lt.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},lt.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},i.mont=function(s){return new oe(s)};function oe(x){lt.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,lt),oe.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},oe.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},oe.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(c),d=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},oe.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new i(0)._forceRed(this);var f=s.mul(c),d=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=f.isub(d).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},oe.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof Ca>"u"||Ca,Af)});var Rf=he((Zm,Mf)=>{var Xm=it(st()),lp=Ra(),dp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Mf.exports=lp(dp)});var Tf=he(Na=>{"use strict";var Qm=it(st());function mn(r,t,e){return t<=r&&r<=e}function Ps(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function pp(r){for(var t=String(r),e=t.length,n=0,i=[];n<e;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===e-1)i.push(65533);else{var u=r.charCodeAt(n+1);if(56320<=u&&u<=57343){var y=o&1023,m=u&1023;i.push(65536+(y<<10)+m),n+=1}else i.push(65533)}n+=1}return i}function yp(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Ms=-1;function Ua(r){this.tokens=[].slice.call(r)}Ua.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ms},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var di=-1;function Oa(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Rs="utf-8";function Ts(r,t){if(!(this instanceof Ts))return new Ts(r,t);if(r=r!==void 0?String(r).toLowerCase():Rs,r!==Rs)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ps(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ts.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Ps(e),this._streaming||(this._decoder=new gp({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var i=new Ua(n),o=[],u;!i.endOfStream()&&(u=this._decoder.handler(i,i.read()),u!==di);)u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u));if(!this._streaming){do{if(u=this._decoder.handler(i,i.read()),u===di)break;u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),yp(o)}};function Ls(r,t){if(!(this instanceof Ls))return new Ls(r,t);if(r=r!==void 0?String(r).toLowerCase():Rs,r!==Rs)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ps(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ls.prototype={encode:function(t,e){t=t?String(t):"",e=Ps(e),this._streaming||(this._encoder=new mp(this._options)),this._streaming=!!e.stream;for(var n=[],i=new Ua(pp(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==di);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==di;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function gp(r){var t=r.fatal,e=0,n=0,i=0,o=128,u=191;this.handler=function(y,m){if(m===Ms&&i!==0)return i=0,Oa(t);if(m===Ms)return di;if(i===0){if(mn(m,0,127))return m;if(mn(m,194,223))i=1,e=m-192;else if(mn(m,224,239))m===224&&(o=160),m===237&&(u=159),i=2,e=m-224;else if(mn(m,240,244))m===240&&(o=144),m===244&&(u=143),i=3,e=m-240;else return Oa(t);return e=e<<6*i,null}if(!mn(m,o,u))return e=i=n=0,o=128,u=191,y.prepend(m),Oa(t);if(o=128,u=191,n+=1,e+=m-128<<6*(i-n),n!==i)return null;var E=e;return e=i=n=0,E}}function mp(r){var t=r.fatal;this.handler=function(e,n){if(n===Ms)return di;if(mn(n,0,127))return n;var i,o;mn(n,128,2047)?(i=1,o=192):mn(n,2048,65535)?(i=2,o=224):mn(n,65536,1114111)&&(i=3,o=240);for(var u=[(n>>6*i)+o];i>0;){var y=n>>6*(i-1);u.push(128|y&63),i-=1}return u}}Na.TextEncoder=Ls;Na.TextDecoder=Ts});var Uf=he(Ke=>{"use strict";var eb=it(st()),bp=Ke&&Ke.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),wp=Ke&&Ke.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),en=Ke&&Ke.__decorate||function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var y=r.length-1;y>=0;y--)(u=r[y])&&(o=(i<3?u(o):i>3?u(t,e,o):u(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xp=Ke&&Ke.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&bp(t,r,e);return wp(t,r),t},Lf=Ke&&Ke.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.deserializeUnchecked=Ke.deserialize=Ke.serialize=Ke.BinaryReader=Ke.BinaryWriter=Ke.BorshError=Ke.baseDecode=Ke.baseEncode=void 0;var Pn=Lf(If()),Pf=Lf(Rf()),vp=xp(Tf()),_p=typeof TextDecoder!="function"?vp.TextDecoder:TextDecoder,kp=new _p("utf-8",{fatal:!0});function Sp(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Pf.default.encode(Buffer.from(r))}Ke.baseEncode=Sp;function Ep(r){return Buffer.from(Pf.default.decode(r))}Ke.baseDecode=Ep;var qa=1024,hr=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Ke.BorshError=hr;var Cs=class{constructor(){this.buf=Buffer.alloc(qa),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(qa)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Pn.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(qa)]),this.length+=t.length}writeString(t){this.maybeResize();let e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(let n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};Ke.BinaryWriter=Cs;function rn(r,t,e){let n=e.value;e.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let u=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(u)>=0)throw new hr("Reached the end of buffer when deserializing")}throw o}}}var Mr=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new Pn.default(t,"le")}readU128(){let t=this.readBuffer(16);return new Pn.default(t,"le")}readU256(){let t=this.readBuffer(32);return new Pn.default(t,"le")}readU512(){let t=this.readBuffer(64);return new Pn.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new hr(`Expected buffer length ${t} isn\'t within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return kp.decode(e)}catch(n){throw new hr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),n=Array();for(let i=0;i<e;++i)n.push(t());return n}};en([rn],Mr.prototype,"readU8",null);en([rn],Mr.prototype,"readU16",null);en([rn],Mr.prototype,"readU32",null);en([rn],Mr.prototype,"readU64",null);en([rn],Mr.prototype,"readU128",null);en([rn],Mr.prototype,"readU256",null);en([rn],Mr.prototype,"readU512",null);en([rn],Mr.prototype,"readString",null);en([rn],Mr.prototype,"readFixedArray",null);en([rn],Mr.prototype,"readArray",null);Ke.BinaryReader=Mr;function Cf(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Zn(r,t,e,n,i){try{if(typeof n=="string")i[`write${Cf(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new hr(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);i.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new hr(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let o=0;o<n[1];o++)Zn(r,null,e[o],n[0],i)}else i.writeArray(e,o=>{Zn(r,t,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?i.writeU8(0):(i.writeU8(1),Zn(r,t,e,n.type,i));break}case"map":{i.writeU32(e.size),e.forEach((o,u)=>{Zn(r,t,u,n.key,i),Zn(r,t,o,n.value,i)});break}default:throw new hr(`FieldType ${n} unrecognized`)}else Of(r,e,i)}catch(o){throw o instanceof hr&&o.addToFieldPath(t),o}}function Of(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}let n=r.get(t.constructor);if(!n)throw new hr(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Zn(r,i,t[i],o,e)});else if(n.kind==="enum"){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[u,y]=n.values[o];if(u===i){e.writeU8(o),Zn(r,u,t[u],y,e);break}}}else throw new hr(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Bp(r,t,e=Cs){let n=new e;return Of(r,t,n),n.toArray()}Ke.serialize=Bp;function Xn(r,t,e,n){try{if(typeof e=="string")return n[`read${Cf(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){let i=[];for(let o=0;o<e[1];o++)i.push(Xn(r,null,e[0],n));return i}else return n.readArray(()=>Xn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Xn(r,t,e.type,n):void 0;if(e.kind==="map"){let i=new Map,o=n.readU32();for(let u=0;u<o;u++){let y=Xn(r,t,e.key,n),m=Xn(r,t,e.value,n);i.set(y,m)}return i}return za(r,e,n)}catch(i){throw i instanceof hr&&i.addToFieldPath(t),i}}function za(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);let n=r.get(t);if(!n)throw new hr(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,u]of r.get(t).fields)i[o]=Xn(r,o,u,e);return new t(i)}if(n.kind==="enum"){let i=e.readU8();if(i>=n.values.length)throw new hr(`Enum index: ${i} is out of range`);let[o,u]=n.values[i],y=Xn(r,o,u,e);return new t({[o]:y})}throw new hr(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Ap(r,t,e,n=Mr){let i=new n(e),o=za(r,t,i);if(i.offset<e.length)throw new hr(`Unexpected ${e.length-i.offset} bytes after deserialized data`);return o}Ke.deserialize=Ap;function Ip(r,t,e,n=Mr){let i=new n(e);return za(r,t,i)}Ke.deserializeUnchecked=Ip});var Nf=he(G=>{"use strict";var nb=it(st());Object.defineProperty(G,"__esModule",{value:!0});G.s16=G.s8=G.nu64be=G.u48be=G.u40be=G.u32be=G.u24be=G.u16be=G.nu64=G.u48=G.u40=G.u32=G.u24=G.u16=G.u8=G.offset=G.greedy=G.Constant=G.UTF8=G.CString=G.Blob=G.Boolean=G.BitField=G.BitStructure=G.VariantLayout=G.Union=G.UnionLayoutDiscriminator=G.UnionDiscriminator=G.Structure=G.Sequence=G.DoubleBE=G.Double=G.FloatBE=G.Float=G.NearInt64BE=G.NearInt64=G.NearUInt64BE=G.NearUInt64=G.IntBE=G.Int=G.UIntBE=G.UInt=G.OffsetLayout=G.GreedyCount=G.ExternalLayout=G.bindConstructorLayout=G.nameWithProperty=G.Layout=G.uint8ArrayToBuffer=G.checkUint8Array=void 0;G.constant=G.utf8=G.cstr=G.blob=G.unionLayoutDiscriminator=G.union=G.seq=G.bits=G.struct=G.f64be=G.f64=G.f32be=G.f32=G.ns64be=G.s48be=G.s40be=G.s32be=G.s24be=G.s16be=G.ns64=G.s48=G.s40=G.s32=G.s24=void 0;var Ka=fi();function gi(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}G.checkUint8Array=gi;function Pe(r){return gi(r),Ka.Buffer.from(r.buffer,r.byteOffset,r.length)}G.uint8ArrayToBuffer=Pe;var Oe=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};G.Layout=Oe;function Da(r,t){return t.property?r+"["+t.property+"]":r}G.nameWithProperty=Da;function Mp(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Oe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}G.bindConstructorLayout=Mp;var xr=class extends Oe{isCount(){throw new Error("ExternalLayout is abstract")}};G.ExternalLayout=xr;var Os=class extends xr{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){gi(t);let n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};G.GreedyCount=Os;var Oi=class extends xr{constructor(t,e=0,n){if(!(t instanceof Oe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Cr||this.layout instanceof Dr}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};G.OffsetLayout=Oi;var Cr=class extends Oe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Pe(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Pe(e).writeUIntLE(t,n,this.span),this.span}};G.UInt=Cr;var Dr=class extends Oe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Pe(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Pe(e).writeUIntBE(t,n,this.span),this.span}};G.UIntBE=Dr;var bn=class extends Oe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Pe(t).readIntLE(e,this.span)}encode(t,e,n=0){return Pe(e).writeIntLE(t,n,this.span),this.span}};G.Int=bn;var Cn=class extends Oe{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Pe(t).readIntBE(e,this.span)}encode(t,e,n=0){return Pe(e).writeIntBE(t,n,this.span),this.span}};G.IntBE=Cn;var Fa=Math.pow(2,32);function Js(r){let t=Math.floor(r/Fa),e=r-t*Fa;return{hi32:t,lo32:e}}function Qs(r,t){return r*Fa+t}var Us=class extends Oe{constructor(t){super(8,t)}decode(t,e=0){let n=Pe(t),i=n.readUInt32LE(e),o=n.readUInt32LE(e+4);return Qs(o,i)}encode(t,e,n=0){let i=Js(t),o=Pe(e);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};G.NearUInt64=Us;var Ns=class extends Oe{constructor(t){super(8,t)}decode(t,e=0){let n=Pe(t),i=n.readUInt32BE(e),o=n.readUInt32BE(e+4);return Qs(i,o)}encode(t,e,n=0){let i=Js(t),o=Pe(e);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};G.NearUInt64BE=Ns;var qs=class extends Oe{constructor(t){super(8,t)}decode(t,e=0){let n=Pe(t),i=n.readUInt32LE(e),o=n.readInt32LE(e+4);return Qs(o,i)}encode(t,e,n=0){let i=Js(t),o=Pe(e);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};G.NearInt64=qs;var zs=class extends Oe{constructor(t){super(8,t)}decode(t,e=0){let n=Pe(t),i=n.readInt32BE(e),o=n.readUInt32BE(e+4);return Qs(i,o)}encode(t,e,n=0){let i=Js(t),o=Pe(e);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};G.NearInt64BE=zs;var Fs=class extends Oe{constructor(t){super(4,t)}decode(t,e=0){return Pe(t).readFloatLE(e)}encode(t,e,n=0){return Pe(e).writeFloatLE(t,n),4}};G.Float=Fs;var Ks=class extends Oe{constructor(t){super(4,t)}decode(t,e=0){return Pe(t).readFloatBE(e)}encode(t,e,n=0){return Pe(e).writeFloatBE(t,n),4}};G.FloatBE=Ks;var Ds=class extends Oe{constructor(t){super(8,t)}decode(t,e=0){return Pe(t).readDoubleLE(e)}encode(t,e,n=0){return Pe(e).writeDoubleLE(t,n),8}};G.Double=Ds;var Ws=class extends Oe{constructor(t){super(8,t)}decode(t,e=0){return Pe(t).readDoubleBE(e)}encode(t,e,n=0){return Pe(e).writeDoubleBE(t,n),8}};G.DoubleBE=Ws;var Hs=class extends Oe{constructor(t,e,n){if(!(t instanceof Oe))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof xr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(e instanceof xr)&&0<t.span&&(i=e*t.span),super(i,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof xr&&(i=i.decode(t,e)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(t,e+n),++o}return n}decode(t,e=0){let n=[],i=0,o=this.count;for(o instanceof xr&&(o=o.decode(t,e));i<o;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return n}encode(t,e,n=0){let i=this.elementLayout,o=t.reduce((u,y)=>u+i.encode(y,e,n+u),0);return this.count instanceof xr&&this.count.encode(t.length,e,n),o}};G.Sequence=Hs;var $s=class extends Oe{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((o,u)=>o&&u instanceof Oe,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(let o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,u)=>o+u.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let u=o.getSpan(t,e);return e+=u,i+u},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){gi(t);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){let i=n,o=0,u=0;for(let y of this.fields){let m=y.span;if(u=0<m?m:0,y.property!==void 0){let E=t[y.property];E!==void 0&&(u=y.encode(E,e,n),0>m&&(m=y.getSpan(e,n)))}o=n,n+=m}return o+u-i}fromArray(t){let e=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(let n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};G.Structure=$s;var Ui=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}};G.UnionDiscriminator=Ui;var yi=class extends Ui{constructor(t,e){if(!(t instanceof xr&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};G.UnionLayoutDiscriminator=yi;var Ni=class extends Oe{constructor(t,e,n){let i;if(t instanceof Cr||t instanceof Dr)i=new yi(new Oi(t));else if(t instanceof xr&&t.isCount())i=new yi(t);else if(t instanceof Ui)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Oe))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&(t instanceof Cr||t instanceof Dr)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Cr||t instanceof Dr,this.defaultLayout=e,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(y){return u(y)},this.configGetSourceVariant=function(y){u=y.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n,i=this.discriminator,o=i.decode(t,e),u=this.registry[o];if(u===void 0){let y=this.defaultLayout,m=0;this.usesPrefixDiscriminator&&(m=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[y.property]=y.decode(t,e+m)}else n=u.decode(t,e);return n}encode(t,e,n=0){let i=this.getSourceVariant(t);if(i===void 0){let o=this.discriminator,u=this.defaultLayout,y=0;return this.usesPrefixDiscriminator&&(y=o.layout.span),o.encode(t[o.property],e,n),y+u.encode(t[u.property],e,n+y)}return i.encode(t,e,n)}addVariant(t,e,n){let i=new Vs(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};G.Union=Ni;var Vs=class extends Oe{constructor(t,e,n,i){if(!(t instanceof Ni))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Oe))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,e+n)),n+i}decode(t,e=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),o+=this.layout.getSpan(e,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};G.VariantLayout=Vs;function pi(r){return 0>r&&(r+=4294967296),r}var qi=class extends Oe{constructor(t,e,n){if(!(t instanceof Cr||t instanceof Dr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(o){return i=pi(o),this},this._packedGetValue=function(){return i}}decode(t,e=0){let n=this.makeDestinationObject(),i=this.word.decode(t,e);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(t));return n}encode(t,e,n=0){let i=this.word.decode(e,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let u=t[o.property];u!==void 0&&o.encode(u)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){let n=new zi(this,t,e);return this.fields.push(n),n}addBoolean(t){let e=new js(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}};G.BitStructure=qi;var zi=class{constructor(t,e,n){if(!(t instanceof qi))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");let i=8*t.span,o=t.fields.reduce((u,y)=>u+y.bits,0);if(e+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-e),this.wordMask=pi(this.valueMask<<this.start),this.property=n}decode(t,e){let n=this.container._packedGetValue();return pi(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==pi(t&this.valueMask))throw new TypeError(Da("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),n=pi(t<<this.start);this.container._packedSetValue(pi(e&~this.wordMask)|n)}};G.BitField=zi;var js=class extends zi{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};G.Boolean=js;var Ys=class extends Oe{constructor(t,e){if(!(t instanceof xr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof xr||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Pe(t).slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof xr&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(Da("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>e.length)throw new RangeError("encoding overruns Uint8Array");let o=Pe(t);return Pe(e).write(o.toString("hex"),n,i,"hex"),this.length instanceof xr&&this.length.encode(i,e,n),i}};G.Blob=Ys;var Gs=class extends Oe{constructor(t){super(-1,t)}getSpan(t,e=0){gi(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){let n=this.getSpan(t,e);return Pe(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let i=Ka.Buffer.from(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");let u=Pe(e);return i.copy(u,n),u[n+o]=0,o+1}};G.CString=Gs;var Zs=class extends Oe{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return gi(t),t.length-e}decode(t,e=0){let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Pe(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let i=Ka.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(Pe(e),n),o}};G.UTF8=Zs;var Xs=class extends Oe{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};G.Constant=Xs;G.greedy=(r,t)=>new Os(r,t);G.offset=(r,t,e)=>new Oi(r,t,e);G.u8=r=>new Cr(1,r);G.u16=r=>new Cr(2,r);G.u24=r=>new Cr(3,r);G.u32=r=>new Cr(4,r);G.u40=r=>new Cr(5,r);G.u48=r=>new Cr(6,r);G.nu64=r=>new Us(r);G.u16be=r=>new Dr(2,r);G.u24be=r=>new Dr(3,r);G.u32be=r=>new Dr(4,r);G.u40be=r=>new Dr(5,r);G.u48be=r=>new Dr(6,r);G.nu64be=r=>new Ns(r);G.s8=r=>new bn(1,r);G.s16=r=>new bn(2,r);G.s24=r=>new bn(3,r);G.s32=r=>new bn(4,r);G.s40=r=>new bn(5,r);G.s48=r=>new bn(6,r);G.ns64=r=>new qs(r);G.s16be=r=>new Cn(2,r);G.s24be=r=>new Cn(3,r);G.s32be=r=>new Cn(4,r);G.s40be=r=>new Cn(5,r);G.s48be=r=>new Cn(6,r);G.ns64be=r=>new zs(r);G.f32=r=>new Fs(r);G.f32be=r=>new Ks(r);G.f64=r=>new Ds(r);G.f64be=r=>new Ws(r);G.struct=(r,t,e)=>new $s(r,t,e);G.bits=(r,t,e)=>new qi(r,t,e);G.seq=(r,t,e)=>new Hs(r,t,e);G.union=(r,t,e)=>new Ni(r,t,e);G.unionLayoutDiscriminator=(r,t)=>new yi(r,t);G.blob=(r,t)=>new Ys(r,t);G.cstr=r=>new Gs(r);G.utf8=(r,t)=>new Zs(r,t);G.constant=(r,t)=>new Xs(r,t)});var qf=he(mi=>{"use strict";var sb=it(st());Object.defineProperty(mi,"__esModule",{value:!0});var to;function Rp(r){{let t=Buffer.from(r);t.reverse();let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return to.toBigInt(r,!1)}mi.toBigIntLE=Rp;function Tp(r){{let t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return to.toBigInt(r,!0)}mi.toBigIntBE=Tp;function Lp(r,t){{let e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}return to.fromBigInt(r,Buffer.allocUnsafe(t),!1)}mi.toBufferLE=Lp;function Pp(r,t){{let e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}return to.fromBigInt(r,Buffer.allocUnsafe(t),!0)}mi.toBufferBE=Pp});var Ff=he((eo,zf)=>{var ob=it(st());(function(r,t){typeof eo=="object"&&typeof zf<"u"?t(eo):typeof define=="function"&&define.amd?define(["exports"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.Superstruct={}))})(eo,function(r){"use strict";class t extends TypeError{constructor(C,z){let D,{message:ut,explanation:Ot,...mt}=C,{path:Mt}=C,Ae=Mt.length===0?ut:`At path: ${Mt.join(".")} -- ${ut}`;super(Ot??Ae),Ot!=null&&(this.cause=Ae),Object.assign(this,mt),this.name=this.constructor.name,this.failures=()=>D??(D=[C,...z()])}}function e(M){return n(M)&&typeof M[Symbol.iterator]=="function"}function n(M){return typeof M=="object"&&M!=null}function i(M){return n(M)&&!Array.isArray(M)}function o(M){if(Object.prototype.toString.call(M)!=="[object Object]")return!1;let C=Object.getPrototypeOf(M);return C===null||C===Object.prototype}function u(M){return typeof M=="symbol"?M.toString():typeof M=="string"?JSON.stringify(M):`${M}`}function y(M){let{done:C,value:z}=M.next();return C?void 0:z}function m(M,C,z,D){if(M===!0)return;M===!1?M={}:typeof M=="string"&&(M={message:M});let{path:ut,branch:Ot}=C,{type:mt}=z,{refinement:Mt,message:Ae=`Expected a value of type \\`${mt}\\`${Mt?` with refinement \\`${Mt}\\``:""}, but received: \\`${u(D)}\\``}=M;return{value:D,type:mt,refinement:Mt,key:ut[ut.length-1],path:ut,branch:Ot,...M,message:Ae}}function*E(M,C,z,D){e(M)||(M=[M]);for(let ut of M){let Ot=m(ut,C,z,D);Ot&&(yield Ot)}}function*A(M,C,z={}){let{path:D=[],branch:ut=[M],coerce:Ot=!1,mask:mt=!1}=z,Mt={path:D,branch:ut,mask:mt};Ot&&(M=C.coercer(M,Mt));let Ae="valid";for(let Tt of C.validator(M,Mt))Tt.explanation=z.message,Ae="not_valid",yield[Tt,void 0];for(let[Tt,Ut,qr]of C.entries(M,Mt)){let ie=A(Ut,qr,{path:Tt===void 0?D:[...D,Tt],branch:Tt===void 0?ut:[...ut,Ut],coerce:Ot,mask:mt,message:z.message});for(let Jt of ie)Jt[0]?(Ae=Jt[0].refinement!=null?"not_refined":"not_valid",yield[Jt[0],void 0]):Ot&&(Ut=Jt[1],Tt===void 0?M=Ut:M instanceof Map?M.set(Tt,Ut):M instanceof Set?M.add(Ut):n(M)&&(Ut!==void 0||Tt in M)&&(M[Tt]=Ut))}if(Ae!=="not_valid")for(let Tt of C.refiner(M,Mt))Tt.explanation=z.message,Ae="not_refined",yield[Tt,void 0];Ae==="valid"&&(yield[void 0,M])}class I{constructor(C){let{type:z,schema:D,validator:ut,refiner:Ot,coercer:mt=Ae=>Ae,entries:Mt=function*(){}}=C;this.type=z,this.schema=D,this.entries=Mt,this.coercer=mt,ut?this.validator=(Ae,Tt)=>{let Ut=ut(Ae,Tt);return E(Ut,Tt,this,Ae)}:this.validator=()=>[],Ot?this.refiner=(Ae,Tt)=>{let Ut=Ot(Ae,Tt);return E(Ut,Tt,this,Ae)}:this.refiner=()=>[]}assert(C,z){return K(C,this,z)}create(C,z){return T(C,this,z)}is(C){return R(C,this)}mask(C,z){return N(C,this,z)}validate(C,z={}){return O(C,this,z)}}function K(M,C,z){let D=O(M,C,{message:z});if(D[0])throw D[0]}function T(M,C,z){let D=O(M,C,{coerce:!0,message:z});if(D[0])throw D[0];return D[1]}function N(M,C,z){let D=O(M,C,{coerce:!0,mask:!0,message:z});if(D[0])throw D[0];return D[1]}function R(M,C){return!O(M,C)[0]}function O(M,C,z={}){let D=A(M,C,z),ut=y(D);return ut[0]?[new t(ut[0],function*(){for(let mt of D)mt[0]&&(yield mt[0])}),void 0]:[void 0,ut[1]]}function F(...M){let C=M[0].type==="type",z=M.map(ut=>ut.schema),D=Object.assign({},...z);return C?xt(D):H(D)}function Y(M,C){return new I({type:M,schema:null,validator:C})}function W(M,C){return new I({...M,refiner:(z,D)=>z===void 0||M.refiner(z,D),validator(z,D){return z===void 0?!0:(C(z,D),M.validator(z,D))}})}function J(M){return new I({type:"dynamic",schema:null,*entries(C,z){yield*M(C,z).entries(C,z)},validator(C,z){return M(C,z).validator(C,z)},coercer(C,z){return M(C,z).coercer(C,z)},refiner(C,z){return M(C,z).refiner(C,z)}})}function et(M){let C;return new I({type:"lazy",schema:null,*entries(z,D){C??(C=M()),yield*C.entries(z,D)},validator(z,D){return C??(C=M()),C.validator(z,D)},coercer(z,D){return C??(C=M()),C.coercer(z,D)},refiner(z,D){return C??(C=M()),C.refiner(z,D)}})}function Q(M,C){let{schema:z}=M,D={...z};for(let ut of C)delete D[ut];switch(M.type){case"type":return xt(D);default:return H(D)}}function ht(M){let C=M instanceof I,z=C?{...M.schema}:{...M};for(let D in z)z[D]=V(z[D]);return C&&M.type==="type"?xt(z):H(z)}function yt(M,C){let{schema:z}=M,D={};for(let ut of C)D[ut]=z[ut];switch(M.type){case"type":return xt(D);default:return H(D)}}function ee(M,C){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Y(M,C)}function qt(){return Y("any",()=>!0)}function lt(M){return new I({type:"array",schema:M,*entries(C){if(M&&Array.isArray(C))for(let[z,D]of C.entries())yield[z,D,M]},coercer(C){return Array.isArray(C)?C.slice():C},validator(C){return Array.isArray(C)||`Expected an array value, but received: ${u(C)}`}})}function oe(){return Y("bigint",M=>typeof M=="bigint")}function x(){return Y("boolean",M=>typeof M=="boolean")}function s(){return Y("date",M=>M instanceof Date&&!isNaN(M.getTime())||`Expected a valid \\`Date\\` object, but received: ${u(M)}`)}function c(M){let C={},z=M.map(D=>u(D)).join();for(let D of M)C[D]=D;return new I({type:"enums",schema:C,validator(D){return M.includes(D)||`Expected one of \\`${z}\\`, but received: ${u(D)}`}})}function f(){return Y("func",M=>typeof M=="function"||`Expected a function, but received: ${u(M)}`)}function d(M){return Y("instance",C=>C instanceof M||`Expected a \\`${M.name}\\` instance, but received: ${u(C)}`)}function p(){return Y("integer",M=>typeof M=="number"&&!isNaN(M)&&Number.isInteger(M)||`Expected an integer, but received: ${u(M)}`)}function w(M){return new I({type:"intersection",schema:null,*entries(C,z){for(let D of M)yield*D.entries(C,z)},*validator(C,z){for(let D of M)yield*D.validator(C,z)},*refiner(C,z){for(let D of M)yield*D.refiner(C,z)}})}function _(M){let C=u(M),z=typeof M;return new I({type:"literal",schema:z==="string"||z==="number"||z==="boolean"?M:null,validator(D){return D===M||`Expected the literal \\`${C}\\`, but received: ${u(D)}`}})}function g(M,C){return new I({type:"map",schema:null,*entries(z){if(M&&C&&z instanceof Map)for(let[D,ut]of z.entries())yield[D,D,M],yield[D,ut,C]},coercer(z){return z instanceof Map?new Map(z):z},validator(z){return z instanceof Map||`Expected a \\`Map\\` object, but received: ${u(z)}`}})}function a(){return Y("never",()=>!1)}function b(M){return new I({...M,validator:(C,z)=>C===null||M.validator(C,z),refiner:(C,z)=>C===null||M.refiner(C,z)})}function q(){return Y("number",M=>typeof M=="number"&&!isNaN(M)||`Expected a number, but received: ${u(M)}`)}function H(M){let C=M?Object.keys(M):[],z=a();return new I({type:"object",schema:M||null,*entries(D){if(M&&n(D)){let ut=new Set(Object.keys(D));for(let Ot of C)ut.delete(Ot),yield[Ot,D[Ot],M[Ot]];for(let Ot of ut)yield[Ot,D[Ot],z]}},validator(D){return i(D)||`Expected an object, but received: ${u(D)}`},coercer(D,ut){if(!i(D))return D;let Ot={...D};if(ut.mask&&M)for(let mt in Ot)M[mt]===void 0&&delete Ot[mt];return Ot}})}function V(M){return new I({...M,validator:(C,z)=>C===void 0||M.validator(C,z),refiner:(C,z)=>C===void 0||M.refiner(C,z)})}function nt(M,C){return new I({type:"record",schema:null,*entries(z){if(n(z))for(let D in z){let ut=z[D];yield[D,D,M],yield[D,ut,C]}},validator(z){return i(z)||`Expected an object, but received: ${u(z)}`},coercer(z){return i(z)?{...z}:z}})}function pt(){return Y("regexp",M=>M instanceof RegExp)}function gt(M){return new I({type:"set",schema:null,*entries(C){if(M&&C instanceof Set)for(let z of C)yield[z,z,M]},coercer(C){return C instanceof Set?new Set(C):C},validator(C){return C instanceof Set||`Expected a \\`Set\\` object, but received: ${u(C)}`}})}function we(){return Y("string",M=>typeof M=="string"||`Expected a string, but received: ${u(M)}`)}function wt(M){let C=a();return new I({type:"tuple",schema:null,*entries(z){if(Array.isArray(z)){let D=Math.max(M.length,z.length);for(let ut=0;ut<D;ut++)yield[ut,z[ut],M[ut]||C]}},validator(z){return Array.isArray(z)||`Expected an array, but received: ${u(z)}`},coercer(z){return Array.isArray(z)?z.slice():z}})}function xt(M){let C=Object.keys(M);return new I({type:"type",schema:M,*entries(z){if(n(z))for(let D of C)yield[D,z[D],M[D]]},validator(z){return i(z)||`Expected an object, but received: ${u(z)}`},coercer(z){return i(z)?{...z}:z}})}function We(M){let C=M.map(z=>z.type).join(" | ");return new I({type:"union",schema:null,coercer(z,D){for(let ut of M){let[Ot,mt]=ut.validate(z,{coerce:!0,mask:D.mask});if(!Ot)return mt}return z},validator(z,D){let ut=[];for(let Ot of M){let[...mt]=A(z,Ot,D),[Mt]=mt;if(Mt[0])for(let[Ae]of mt)Ae&&ut.push(Ae);else return[]}return[`Expected the value to satisfy a union of \\`${C}\\`, but received: ${u(z)}`,...ut]}})}function Nt(){return Y("unknown",()=>!0)}function zt(M,C,z){return new I({...M,coercer:(D,ut)=>R(D,C)?M.coercer(z(D,ut),ut):M.coercer(D,ut)})}function yr(M,C,z={}){return zt(M,Nt(),D=>{let ut=typeof C=="function"?C():C;if(D===void 0)return ut;if(!z.strict&&o(D)&&o(ut)){let Ot={...D},mt=!1;for(let Mt in ut)Ot[Mt]===void 0&&(Ot[Mt]=ut[Mt],mt=!0);if(mt)return Ot}return D})}function re(M){return zt(M,we(),C=>C.trim())}function $t(M){return rr(M,"empty",C=>{let z=Ar(C);return z===0||`Expected an empty ${M.type} but received one with a size of \\`${z}\\``})}function Ar(M){return M instanceof Map||M instanceof Set?M.size:M.length}function ae(M,C,z={}){let{exclusive:D}=z;return rr(M,"max",ut=>D?ut<C:ut<=C||`Expected a ${M.type} less than ${D?"":"or equal to "}${C} but received \\`${ut}\\``)}function ne(M,C,z={}){let{exclusive:D}=z;return rr(M,"min",ut=>D?ut>C:ut>=C||`Expected a ${M.type} greater than ${D?"":"or equal to "}${C} but received \\`${ut}\\``)}function Lr(M){return rr(M,"nonempty",C=>Ar(C)>0||`Expected a nonempty ${M.type} but received an empty one`)}function Gt(M,C){return rr(M,"pattern",z=>C.test(z)||`Expected a ${M.type} matching \\`/${C.source}/\\` but received "${z}"`)}function Zt(M,C,z=C){let D=`Expected a ${M.type}`,ut=C===z?`of \\`${C}\\``:`between \\`${C}\\` and \\`${z}\\``;return rr(M,"size",Ot=>{if(typeof Ot=="number"||Ot instanceof Date)return C<=Ot&&Ot<=z||`${D} ${ut} but received \\`${Ot}\\``;if(Ot instanceof Map||Ot instanceof Set){let{size:mt}=Ot;return C<=mt&&mt<=z||`${D} with a size ${ut} but received one with a size of \\`${mt}\\``}else{let{length:mt}=Ot;return C<=mt&&mt<=z||`${D} with a length ${ut} but received one with a length of \\`${mt}\\``}})}function rr(M,C,z){return new I({...M,*refiner(D,ut){yield*M.refiner(D,ut);let Ot=z(D,ut),mt=E(Ot,ut,M,D);for(let Mt of mt)yield{...Mt,refinement:C}}})}r.Struct=I,r.StructError=t,r.any=qt,r.array=lt,r.assert=K,r.assign=F,r.bigint=oe,r.boolean=x,r.coerce=zt,r.create=T,r.date=s,r.defaulted=yr,r.define=Y,r.deprecated=W,r.dynamic=J,r.empty=$t,r.enums=c,r.func=f,r.instance=d,r.integer=p,r.intersection=w,r.is=R,r.lazy=et,r.literal=_,r.map=g,r.mask=N,r.max=ae,r.min=ne,r.never=a,r.nonempty=Lr,r.nullable=b,r.number=q,r.object=H,r.omit=Q,r.optional=V,r.partial=ht,r.pattern=Gt,r.pick=yt,r.record=nt,r.refine=rr,r.regexp=pt,r.set=gt,r.size=Zt,r.string=we,r.struct=ee,r.trimmed=re,r.tuple=wt,r.type=xt,r.union=We,r.unknown=Nt,r.validate=O})});function Fi(){if(!ro&&(ro=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ro))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ro(Cp)}var ub,ro,Cp,Wa=cr(()=>{ub=it(st()),Cp=new Uint8Array(16)});var fb,Kf,Df=cr(()=>{fb=it(st()),Kf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Op(r){return typeof r=="string"&&Kf.test(r)}var db,On,Ki=cr(()=>{db=it(st());Df();On=Op});function Up(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(lr[r[t+0]]+lr[r[t+1]]+lr[r[t+2]]+lr[r[t+3]]+"-"+lr[r[t+4]]+lr[r[t+5]]+"-"+lr[r[t+6]]+lr[r[t+7]]+"-"+lr[r[t+8]]+lr[r[t+9]]+"-"+lr[r[t+10]]+lr[r[t+11]]+lr[r[t+12]]+lr[r[t+13]]+lr[r[t+14]]+lr[r[t+15]]).toLowerCase();if(!On(e))throw TypeError("Stringified UUID is invalid");return e}var gb,lr,no,Un,Di=cr(()=>{gb=it(st());Ki();lr=[];for(no=0;no<256;++no)lr.push((no+256).toString(16).substr(1));Un=Up});function Np(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var o=r.node||Wf,u=r.clockseq!==void 0?r.clockseq:Ha;if(o==null||u==null){var y=r.random||(r.rng||Fi)();o==null&&(o=Wf=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),u==null&&(u=Ha=(y[6]<<8|y[7])&16383)}var m=r.msecs!==void 0?r.msecs:Date.now(),E=r.nsecs!==void 0?r.nsecs:Va+1,A=m-$a+(E-Va)/1e4;if(A<0&&r.clockseq===void 0&&(u=u+1&16383),(A<0||m>$a)&&r.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can\'t create more than 10M uuids/sec");$a=m,Va=E,Ha=u,m+=122192928e5;var I=((m&268435455)*1e4+E)%4294967296;i[n++]=I>>>24&255,i[n++]=I>>>16&255,i[n++]=I>>>8&255,i[n++]=I&255;var K=m/4294967296*1e4&268435455;i[n++]=K>>>8&255,i[n++]=K&255,i[n++]=K>>>24&15|16,i[n++]=K>>>16&255,i[n++]=u>>>8|128,i[n++]=u&255;for(var T=0;T<6;++T)i[n+T]=o[T];return t||Un(i)}var xb,Wf,Ha,$a,Va,Hf,$f=cr(()=>{xb=it(st());Wa();Di();$a=0,Va=0;Hf=Np});function qp(r){if(!On(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var kb,io,ja=cr(()=>{kb=it(st());Ki();io=qp});function zp(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function so(r,t,e){function n(i,o,u,y){if(typeof i=="string"&&(i=zp(i)),typeof o=="string"&&(o=io(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var m=new Uint8Array(16+i.length);if(m.set(o),m.set(i,o.length),m=e(m),m[6]=m[6]&15|t,m[8]=m[8]&63|128,u){y=y||0;for(var E=0;E<16;++E)u[y+E]=m[E];return u}return Un(m)}try{n.name=r}catch{}return n.DNS=Fp,n.URL=Kp,n}var Ab,Fp,Kp,Ya=cr(()=>{Ab=it(st());Di();ja();Fp="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Kp="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Dp(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Wp(Hp($p(r),r.length*8))}function Wp(r){for(var t=[],e=r.length*32,n="0123456789abcdef",i=0;i<e;i+=8){var o=r[i>>5]>>>i%32&255,u=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(u)}return t}function Vf(r){return(r+64>>>9<<4)+14+1}function Hp(r,t){r[t>>5]|=128<<t%32,r[Vf(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,o=271733878,u=0;u<r.length;u+=16){var y=e,m=n,E=i,A=o;e=vr(e,n,i,o,r[u],7,-680876936),o=vr(o,e,n,i,r[u+1],12,-389564586),i=vr(i,o,e,n,r[u+2],17,606105819),n=vr(n,i,o,e,r[u+3],22,-1044525330),e=vr(e,n,i,o,r[u+4],7,-176418897),o=vr(o,e,n,i,r[u+5],12,1200080426),i=vr(i,o,e,n,r[u+6],17,-1473231341),n=vr(n,i,o,e,r[u+7],22,-45705983),e=vr(e,n,i,o,r[u+8],7,1770035416),o=vr(o,e,n,i,r[u+9],12,-1958414417),i=vr(i,o,e,n,r[u+10],17,-42063),n=vr(n,i,o,e,r[u+11],22,-1990404162),e=vr(e,n,i,o,r[u+12],7,1804603682),o=vr(o,e,n,i,r[u+13],12,-40341101),i=vr(i,o,e,n,r[u+14],17,-1502002290),n=vr(n,i,o,e,r[u+15],22,1236535329),e=_r(e,n,i,o,r[u+1],5,-165796510),o=_r(o,e,n,i,r[u+6],9,-1069501632),i=_r(i,o,e,n,r[u+11],14,643717713),n=_r(n,i,o,e,r[u],20,-373897302),e=_r(e,n,i,o,r[u+5],5,-701558691),o=_r(o,e,n,i,r[u+10],9,38016083),i=_r(i,o,e,n,r[u+15],14,-660478335),n=_r(n,i,o,e,r[u+4],20,-405537848),e=_r(e,n,i,o,r[u+9],5,568446438),o=_r(o,e,n,i,r[u+14],9,-1019803690),i=_r(i,o,e,n,r[u+3],14,-187363961),n=_r(n,i,o,e,r[u+8],20,1163531501),e=_r(e,n,i,o,r[u+13],5,-1444681467),o=_r(o,e,n,i,r[u+2],9,-51403784),i=_r(i,o,e,n,r[u+7],14,1735328473),n=_r(n,i,o,e,r[u+12],20,-1926607734),e=kr(e,n,i,o,r[u+5],4,-378558),o=kr(o,e,n,i,r[u+8],11,-2022574463),i=kr(i,o,e,n,r[u+11],16,1839030562),n=kr(n,i,o,e,r[u+14],23,-35309556),e=kr(e,n,i,o,r[u+1],4,-1530992060),o=kr(o,e,n,i,r[u+4],11,1272893353),i=kr(i,o,e,n,r[u+7],16,-155497632),n=kr(n,i,o,e,r[u+10],23,-1094730640),e=kr(e,n,i,o,r[u+13],4,681279174),o=kr(o,e,n,i,r[u],11,-358537222),i=kr(i,o,e,n,r[u+3],16,-722521979),n=kr(n,i,o,e,r[u+6],23,76029189),e=kr(e,n,i,o,r[u+9],4,-640364487),o=kr(o,e,n,i,r[u+12],11,-421815835),i=kr(i,o,e,n,r[u+15],16,530742520),n=kr(n,i,o,e,r[u+2],23,-995338651),e=Sr(e,n,i,o,r[u],6,-198630844),o=Sr(o,e,n,i,r[u+7],10,1126891415),i=Sr(i,o,e,n,r[u+14],15,-1416354905),n=Sr(n,i,o,e,r[u+5],21,-57434055),e=Sr(e,n,i,o,r[u+12],6,1700485571),o=Sr(o,e,n,i,r[u+3],10,-1894986606),i=Sr(i,o,e,n,r[u+10],15,-1051523),n=Sr(n,i,o,e,r[u+1],21,-2054922799),e=Sr(e,n,i,o,r[u+8],6,1873313359),o=Sr(o,e,n,i,r[u+15],10,-30611744),i=Sr(i,o,e,n,r[u+6],15,-1560198380),n=Sr(n,i,o,e,r[u+13],21,1309151649),e=Sr(e,n,i,o,r[u+4],6,-145523070),o=Sr(o,e,n,i,r[u+11],10,-1120210379),i=Sr(i,o,e,n,r[u+2],15,718787259),n=Sr(n,i,o,e,r[u+9],21,-343485551),e=Nn(e,y),n=Nn(n,m),i=Nn(i,E),o=Nn(o,A)}return[e,n,i,o]}function $p(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(Vf(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Nn(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function Vp(r,t){return r<<t|r>>>32-t}function oo(r,t,e,n,i,o){return Nn(Vp(Nn(Nn(t,r),Nn(n,o)),i),e)}function vr(r,t,e,n,i,o,u){return oo(t&e|~t&n,r,t,i,o,u)}function _r(r,t,e,n,i,o,u){return oo(t&n|e&~n,r,t,i,o,u)}function kr(r,t,e,n,i,o,u){return oo(t^e^n,r,t,i,o,u)}function Sr(r,t,e,n,i,o,u){return oo(e^(t|~n),r,t,i,o,u)}var Mb,jf,Yf=cr(()=>{Mb=it(st());jf=Dp});var Pb,jp,Gf,Zf=cr(()=>{Pb=it(st());Ya();Yf();jp=so("v3",48,jf),Gf=jp});function Yp(r,t,e){r=r||{};var n=r.random||(r.rng||Fi)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return Un(n)}var Nb,Xf,Jf=cr(()=>{Nb=it(st());Wa();Di();Xf=Yp});function Gp(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Ga(r,t){return r<<t|r>>>32-t}function Zp(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,u=Math.ceil(o/16),y=new Array(u),m=0;m<u;++m){for(var E=new Uint32Array(16),A=0;A<16;++A)E[A]=r[m*64+A*4]<<24|r[m*64+A*4+1]<<16|r[m*64+A*4+2]<<8|r[m*64+A*4+3];y[m]=E}y[u-1][14]=(r.length-1)*8/Math.pow(2,32),y[u-1][14]=Math.floor(y[u-1][14]),y[u-1][15]=(r.length-1)*8&4294967295;for(var I=0;I<u;++I){for(var K=new Uint32Array(80),T=0;T<16;++T)K[T]=y[I][T];for(var N=16;N<80;++N)K[N]=Ga(K[N-3]^K[N-8]^K[N-14]^K[N-16],1);for(var R=e[0],O=e[1],F=e[2],Y=e[3],W=e[4],J=0;J<80;++J){var et=Math.floor(J/20),Q=Ga(R,5)+Gp(et,O,F,Y)+W+t[et]+K[J]>>>0;W=Y,Y=F,F=Ga(O,30)>>>0,O=R,R=Q}e[0]=e[0]+R>>>0,e[1]=e[1]+O>>>0,e[2]=e[2]+F>>>0,e[3]=e[3]+Y>>>0,e[4]=e[4]+W>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var zb,Qf,th=cr(()=>{zb=it(st());Qf=Zp});var Wb,Xp,eh,rh=cr(()=>{Wb=it(st());Ya();th();Xp=so("v5",80,Qf),eh=Xp});var $b,nh,ih=cr(()=>{$b=it(st()),nh="00000000-0000-0000-0000-000000000000"});function Jp(r){if(!On(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Yb,sh,oh=cr(()=>{Yb=it(st());Ki();sh=Jp});var Za={};Fu(Za,{NIL:()=>nh,parse:()=>io,stringify:()=>Un,v1:()=>Hf,v3:()=>Gf,v4:()=>Xf,v5:()=>eh,validate:()=>On,version:()=>sh});var Gb,Xa=cr(()=>{Gb=it(st());$f();Zf();Jf();rh();ih();oh();Ki();Di();ja()});var uh=he((sw,ah)=>{"use strict";var ow=it(st()),Qp=(Xa(),Uo(Za)).v4,t1=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:r};if(i===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof e>"u"){let u=typeof n.generator=="function"?n.generator:function(){return Qp()};o.id=u(o,n)}else i===2&&e===null?n.notificationIdNull&&(o.id=null):o.id=e;return o};ah.exports=t1});var fh=he((aw,ch)=>{"use strict";var uw=it(st()),e1=(Xa(),Uo(Za)).v4,r1=uh(),Wi=function(r,t){if(!(this instanceof Wi))return new Wi(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return e1()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};ch.exports=Wi;Wi.prototype.request=function(r,t,e,n){let i=this,o=null,u=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&u)throw new TypeError("JSON-RPC 1.0 does not support batching");if(u||!u&&r&&typeof r=="object"&&typeof t=="function")n=t,o=r;else{typeof e=="function"&&(n=e,e=void 0);let E=typeof n=="function";try{o=r1(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(A){if(E)return n(A);throw A}if(!E)return o}let m;try{m=JSON.stringify(o,this.options.replacer)}catch(E){return n(E)}return this.callServer(m,function(E,A){i._parseResponse(E,A,n)}),o};Wi.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return e(i)}if(e.length===3)if(Array.isArray(n)){let i=function(u){return typeof u.error<"u"},o=function(u){return!i(u)};return e(null,n.filter(i),n.filter(o))}else return e(null,n.error,n.result);e(null,n)}});var lh=he((cw,Ja)=>{"use strict";var fw=it(st()),n1=Object.prototype.hasOwnProperty,Rr="~";function Hi(){}Object.create&&(Hi.prototype=Object.create(null),new Hi().__proto__||(Rr=!1));function i1(r,t,e){this.fn=r,this.context=t,this.once=e||!1}function hh(r,t,e,n,i){if(typeof e!="function")throw new TypeError("The listener must be a function");var o=new i1(e,n||r,i),u=Rr?Rr+t:t;return r._events[u]?r._events[u].fn?r._events[u]=[r._events[u],o]:r._events[u].push(o):(r._events[u]=o,r._eventsCount++),r}function ao(r,t){--r._eventsCount===0?r._events=new Hi:delete r._events[t]}function Er(){this._events=new Hi,this._eventsCount=0}Er.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)n1.call(e,n)&&t.push(Rr?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};Er.prototype.listeners=function(t){var e=Rr?Rr+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,u=new Array(o);i<o;i++)u[i]=n[i].fn;return u};Er.prototype.listenerCount=function(t){var e=Rr?Rr+t:t,n=this._events[e];return n?n.fn?1:n.length:0};Er.prototype.emit=function(t,e,n,i,o,u){var y=Rr?Rr+t:t;if(!this._events[y])return!1;var m=this._events[y],E=arguments.length,A,I;if(m.fn){switch(m.once&&this.removeListener(t,m.fn,void 0,!0),E){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,e),!0;case 3:return m.fn.call(m.context,e,n),!0;case 4:return m.fn.call(m.context,e,n,i),!0;case 5:return m.fn.call(m.context,e,n,i,o),!0;case 6:return m.fn.call(m.context,e,n,i,o,u),!0}for(I=1,A=new Array(E-1);I<E;I++)A[I-1]=arguments[I];m.fn.apply(m.context,A)}else{var K=m.length,T;for(I=0;I<K;I++)switch(m[I].once&&this.removeListener(t,m[I].fn,void 0,!0),E){case 1:m[I].fn.call(m[I].context);break;case 2:m[I].fn.call(m[I].context,e);break;case 3:m[I].fn.call(m[I].context,e,n);break;case 4:m[I].fn.call(m[I].context,e,n,i);break;default:if(!A)for(T=1,A=new Array(E-1);T<E;T++)A[T-1]=arguments[T];m[I].fn.apply(m[I].context,A)}}return!0};Er.prototype.on=function(t,e,n){return hh(this,t,e,n,!1)};Er.prototype.once=function(t,e,n){return hh(this,t,e,n,!0)};Er.prototype.removeListener=function(t,e,n,i){var o=Rr?Rr+t:t;if(!this._events[o])return this;if(!e)return ao(this,o),this;var u=this._events[o];if(u.fn)u.fn===e&&(!i||u.once)&&(!n||u.context===n)&&ao(this,o);else{for(var y=0,m=[],E=u.length;y<E;y++)(u[y].fn!==e||i&&!u[y].once||n&&u[y].context!==n)&&m.push(u[y]);m.length?this._events[o]=m.length===1?m[0]:m:ao(this,o)}return this};Er.prototype.removeAllListeners=function(t){var e;return t?(e=Rr?Rr+t:t,this._events[e]&&ao(this,e)):(this._events=new Hi,this._eventsCount=0),this};Er.prototype.off=Er.prototype.removeListener;Er.prototype.addListener=Er.prototype.on;Er.prefixed=Rr;Er.EventEmitter=Er;typeof Ja<"u"&&(Ja.exports=Er)});var mh=he($i=>{"use strict";var lw=it(st()),s1=fi(),dh=lh(),o1=class extends dh.EventEmitter{socket;constructor(r,t,e){super(),this.socket=new window.WebSocket(r,e),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(r,t,e){let n=e||t;try{this.socket.send(r),n()}catch(i){n(i)}}close(r,t){this.socket.close(r,t)}addEventListener(r,t,e){this.socket.addEventListener(r,t,e)}};function ph(r,t){return new o1(r,t)}var yh=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},gh=class extends dh.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,t="ws://localhost:8080",{autoconnect:e=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...u}={},y,m){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=y||(()=>++this.rpc_id),m?this.dataPack=m:this.dataPack=new yh,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,t,e,n){return!n&&typeof e=="object"&&(n=e,e=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));let u=this.generate_request_id(r,t),y={jsonrpc:"2.0",method:r,params:t||void 0,id:u};this.socket.send(this.dataPack.encode(y),n,m=>{if(m)return o(m);this.queue[u]={promise:[i,o]},e&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],o(new Error("reply timeout"))},e))})})}async login(r){let t=await this.call("rpc.login",r);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(r,t){return new Promise((e,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:r,params:t};this.socket.send(this.dataPack.encode(i),o=>{if(o)return n(o);e()})})}async subscribe(r){typeof r=="string"&&(r=[r]);let t=await this.call("rpc.on",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed subscribing to an event \'"+r+"\' with: "+t[r]);return t}async unsubscribe(r){typeof r=="string"&&(r=[r]);let t=await this.call("rpc.off",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(r,t){this.socket.close(r||1e3,t)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=s1.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(let i=0;i<e.params.length;i++)n.push(e.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error(\'Server response malformed. Response must include either "result" or "error", but not both.\')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:e,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",e,n),0),this.ready=!1,this.socket=void 0,e!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,t),this.reconnect_interval)))})}},a1=class extends gh{constructor(r="ws://localhost:8080",{autoconnect:t=!0,reconnect:e=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},o){super(ph,r,{autoconnect:t,reconnect:e,reconnect_interval:n,max_reconnects:i},o)}};$i.Client=a1;$i.CommonClient=gh;$i.DefaultDataPack=yh;$i.WebSocket=ph});var Eh=he(He=>{"use strict";var bw=it(st());Object.defineProperty(He,"__esModule",{value:!0});He.shake256=He.shake128=He.keccak_512=He.keccak_384=He.keccak_256=He.keccak_224=He.sha3_512=He.sha3_384=He.sha3_256=He.sha3_224=He.Keccak=He.keccakP=void 0;var bi=Mi(),ji=ra(),wn=pn(),xh=[],vh=[],_h=[],u1=BigInt(0),Vi=BigInt(1),c1=BigInt(2),f1=BigInt(7),h1=BigInt(256),l1=BigInt(113);for(let r=0,t=Vi,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],xh.push(2*(5*n+e)),vh.push((r+1)*(r+2)/2%64);let i=u1;for(let o=0;o<7;o++)t=(t<<Vi^(t>>f1)*l1)%h1,t&c1&&(i^=Vi<<(Vi<<BigInt(o))-Vi);_h.push(i)}var[d1,p1]=(0,ji.split)(_h,!0),bh=(r,t,e)=>e>32?(0,ji.rotlBH)(r,t,e):(0,ji.rotlSH)(r,t,e),wh=(r,t,e)=>e>32?(0,ji.rotlBL)(r,t,e):(0,ji.rotlSL)(r,t,e);function kh(r,t=24){let e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let u=0;u<10;u++)e[u]=r[u]^r[u+10]^r[u+20]^r[u+30]^r[u+40];for(let u=0;u<10;u+=2){let y=(u+8)%10,m=(u+2)%10,E=e[m],A=e[m+1],I=bh(E,A,1)^e[y],K=wh(E,A,1)^e[y+1];for(let T=0;T<50;T+=10)r[u+T]^=I,r[u+T+1]^=K}let i=r[2],o=r[3];for(let u=0;u<24;u++){let y=vh[u],m=bh(i,o,y),E=wh(i,o,y),A=xh[u];i=r[A],o=r[A+1],r[A]=m,r[A+1]=E}for(let u=0;u<50;u+=10){for(let y=0;y<10;y++)e[y]=r[u+y];for(let y=0;y<10;y++)r[u+y]^=~e[(y+2)%10]&e[(y+4)%10]}r[0]^=d1[n],r[1]^=p1[n]}e.fill(0)}He.keccakP=kh;var Yi=class r extends wn.Hash{constructor(t,e,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,bi.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,wn.u32)(this.state)}keccak(){wn.isLE||(0,wn.byteSwap32)(this.state32),kh(this.state32,this.rounds),wn.isLE||(0,wn.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,bi.exists)(this);let{blockLen:e,state:n}=this;t=(0,wn.toBytes)(t);let i=t.length;for(let o=0;o<i;){let u=Math.min(e-this.pos,i-o);for(let y=0;y<u;y++)n[this.pos++]^=t[o++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:n,blockLen:i}=this;t[n]^=e,e&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,bi.exists)(this,!1),(0,bi.bytes)(t),this.finish();let e=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let u=Math.min(n-this.posOut,o-i);t.set(e.subarray(this.posOut,this.posOut+u),i),this.posOut+=u,i+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,bi.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,bi.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:n,outputLen:i,rounds:o,enableXOF:u}=this;return t||(t=new r(e,n,i,u,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=u,t.destroyed=this.destroyed,t}};He.Keccak=Yi;var qn=(r,t,e)=>(0,wn.wrapConstructor)(()=>new Yi(t,r,e));He.sha3_224=qn(6,144,224/8);He.sha3_256=qn(6,136,256/8);He.sha3_384=qn(6,104,384/8);He.sha3_512=qn(6,72,512/8);He.keccak_224=qn(1,144,224/8);He.keccak_256=qn(1,136,256/8);He.keccak_384=qn(1,104,384/8);He.keccak_512=qn(1,72,512/8);var Sh=(r,t,e)=>(0,wn.wrapXOFConstructorWithOpts)((n={})=>new Yi(t,r,n.dkLen===void 0?e:n.dkLen,!0));He.shake128=Sh(31,168,128/8);He.shake256=Sh(31,136,256/8)});var Ah=he(Jn=>{"use strict";var xw=it(st());Object.defineProperty(Jn,"__esModule",{value:!0});Jn.hmac=Jn.HMAC=void 0;var uo=Mi(),Bh=pn(),Gi=class extends Bh.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,uo.hash)(t);let n=(0,Bh.toBytes)(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let u=0;u<o.length;u++)o[u]^=54;this.iHash.update(o),this.oHash=t.create();for(let u=0;u<o.length;u++)o[u]^=106;this.oHash.update(o),o.fill(0)}update(t){return(0,uo.exists)(this),this.iHash.update(t),this}digestInto(t){(0,uo.exists)(this),(0,uo.bytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:i,destroyed:o,blockLen:u,outputLen:y}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=u,t.outputLen=y,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Jn.HMAC=Gi;var y1=(r,t,e)=>new Gi(r,t).update(e).digest();Jn.hmac=y1;Jn.hmac.create=(r,t)=>new Gi(r,t)});var tu=he(Tr=>{"use strict";var kw=it(st());Object.defineProperty(Tr,"__esModule",{value:!0});Tr.DER=void 0;Tr.weierstrassPoints=Mh;Tr.weierstrass=x1;Tr.SWUFpSqrtRatio=Rh;Tr.mapToCurveSimpleSWU=v1;var Qa=da(),wi=In(),Ge=jr(),nn=jr();function g1(r){let t=(0,Qa.validateBasic)(r);Ge.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:i}=t;if(e){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:m1,hexToBytes:b1}=Ge;Tr.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){let{Err:t}=Tr.DER;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:m1(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=Tr.DER,e=typeof r=="string"?b1(r):r;Ge.abytes(e);let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=Tr.DER._parseInt(e.subarray(2)),{d:u,l:y}=Tr.DER._parseInt(o);if(y.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:u}},hexFromSig(r){let t=E=>Number.parseInt(E[0],16)&8?"00"+E:E,e=E=>{let A=E.toString(16);return A.length&1?`0${A}`:A},n=t(e(r.s)),i=t(e(r.r)),o=n.length/2,u=i.length/2,y=e(o),m=e(u);return`30${e(u+o+4)}02${m}${i}02${y}${n}`}};var Zr=BigInt(0),tr=BigInt(1),zn=BigInt(2),co=BigInt(3),Ih=BigInt(4);function Mh(r){let t=g1(r),{Fp:e}=t,n=t.toBytes||((N,R,O)=>{let F=R.toAffine();return Ge.concatBytes(Uint8Array.from([4]),e.toBytes(F.x),e.toBytes(F.y))}),i=t.fromBytes||(N=>{let R=N.subarray(1),O=e.fromBytes(R.subarray(0,e.BYTES)),F=e.fromBytes(R.subarray(e.BYTES,2*e.BYTES));return{x:O,y:F}});function o(N){let{a:R,b:O}=t,F=e.sqr(N),Y=e.mul(F,N);return e.add(e.add(Y,e.mul(N,R)),O)}if(!e.eql(e.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function u(N){return typeof N=="bigint"&&Zr<N&&N<t.n}function y(N){if(!u(N))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(N){let{allowedPrivateKeyLengths:R,nByteLength:O,wrapPrivateKey:F,n:Y}=t;if(R&&typeof N!="bigint"){if(Ge.isBytes(N)&&(N=Ge.bytesToHex(N)),typeof N!="string"||!R.includes(N.length))throw new Error("Invalid key");N=N.padStart(O*2,"0")}let W;try{W=typeof N=="bigint"?N:Ge.bytesToNumberBE((0,nn.ensureBytes)("private key",N,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof N}`)}return F&&(W=wi.mod(W,Y)),y(W),W}let E=new Map;function A(N){if(!(N instanceof I))throw new Error("ProjectivePoint expected")}class I{constructor(R,O,F){if(this.px=R,this.py=O,this.pz=F,R==null||!e.isValid(R))throw new Error("x required");if(O==null||!e.isValid(O))throw new Error("y required");if(F==null||!e.isValid(F))throw new Error("z required")}static fromAffine(R){let{x:O,y:F}=R||{};if(!R||!e.isValid(O)||!e.isValid(F))throw new Error("invalid affine point");if(R instanceof I)throw new Error("projective point not allowed");let Y=W=>e.eql(W,e.ZERO);return Y(O)&&Y(F)?I.ZERO:new I(O,F,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(R){let O=e.invertBatch(R.map(F=>F.pz));return R.map((F,Y)=>F.toAffine(O[Y])).map(I.fromAffine)}static fromHex(R){let O=I.fromAffine(i((0,nn.ensureBytes)("pointHex",R)));return O.assertValidity(),O}static fromPrivateKey(R){return I.BASE.multiply(m(R))}_setWindowSize(R){this._WINDOW_SIZE=R,E.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:R,y:O}=this.toAffine();if(!e.isValid(R)||!e.isValid(O))throw new Error("bad point: x or y not FE");let F=e.sqr(O),Y=o(R);if(!e.eql(F,Y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:R}=this.toAffine();if(e.isOdd)return!e.isOdd(R);throw new Error("Field doesn\'t support isOdd")}equals(R){A(R);let{px:O,py:F,pz:Y}=this,{px:W,py:J,pz:et}=R,Q=e.eql(e.mul(O,et),e.mul(W,Y)),ht=e.eql(e.mul(F,et),e.mul(J,Y));return Q&&ht}negate(){return new I(this.px,e.neg(this.py),this.pz)}double(){let{a:R,b:O}=t,F=e.mul(O,co),{px:Y,py:W,pz:J}=this,et=e.ZERO,Q=e.ZERO,ht=e.ZERO,yt=e.mul(Y,Y),ee=e.mul(W,W),qt=e.mul(J,J),lt=e.mul(Y,W);return lt=e.add(lt,lt),ht=e.mul(Y,J),ht=e.add(ht,ht),et=e.mul(R,ht),Q=e.mul(F,qt),Q=e.add(et,Q),et=e.sub(ee,Q),Q=e.add(ee,Q),Q=e.mul(et,Q),et=e.mul(lt,et),ht=e.mul(F,ht),qt=e.mul(R,qt),lt=e.sub(yt,qt),lt=e.mul(R,lt),lt=e.add(lt,ht),ht=e.add(yt,yt),yt=e.add(ht,yt),yt=e.add(yt,qt),yt=e.mul(yt,lt),Q=e.add(Q,yt),qt=e.mul(W,J),qt=e.add(qt,qt),yt=e.mul(qt,lt),et=e.sub(et,yt),ht=e.mul(qt,ee),ht=e.add(ht,ht),ht=e.add(ht,ht),new I(et,Q,ht)}add(R){A(R);let{px:O,py:F,pz:Y}=this,{px:W,py:J,pz:et}=R,Q=e.ZERO,ht=e.ZERO,yt=e.ZERO,ee=t.a,qt=e.mul(t.b,co),lt=e.mul(O,W),oe=e.mul(F,J),x=e.mul(Y,et),s=e.add(O,F),c=e.add(W,J);s=e.mul(s,c),c=e.add(lt,oe),s=e.sub(s,c),c=e.add(O,Y);let f=e.add(W,et);return c=e.mul(c,f),f=e.add(lt,x),c=e.sub(c,f),f=e.add(F,Y),Q=e.add(J,et),f=e.mul(f,Q),Q=e.add(oe,x),f=e.sub(f,Q),yt=e.mul(ee,c),Q=e.mul(qt,x),yt=e.add(Q,yt),Q=e.sub(oe,yt),yt=e.add(oe,yt),ht=e.mul(Q,yt),oe=e.add(lt,lt),oe=e.add(oe,lt),x=e.mul(ee,x),c=e.mul(qt,c),oe=e.add(oe,x),x=e.sub(lt,x),x=e.mul(ee,x),c=e.add(c,x),lt=e.mul(oe,c),ht=e.add(ht,lt),lt=e.mul(f,c),Q=e.mul(s,Q),Q=e.sub(Q,lt),lt=e.mul(s,oe),yt=e.mul(f,yt),yt=e.add(yt,lt),new I(Q,ht,yt)}subtract(R){return this.add(R.negate())}is0(){return this.equals(I.ZERO)}wNAF(R){return T.wNAFCached(this,E,R,O=>{let F=e.invertBatch(O.map(Y=>Y.pz));return O.map((Y,W)=>Y.toAffine(F[W])).map(I.fromAffine)})}multiplyUnsafe(R){let O=I.ZERO;if(R===Zr)return O;if(y(R),R===tr)return this;let{endo:F}=t;if(!F)return T.unsafeLadder(this,R);let{k1neg:Y,k1:W,k2neg:J,k2:et}=F.splitScalar(R),Q=O,ht=O,yt=this;for(;W>Zr||et>Zr;)W&tr&&(Q=Q.add(yt)),et&tr&&(ht=ht.add(yt)),yt=yt.double(),W>>=tr,et>>=tr;return Y&&(Q=Q.negate()),J&&(ht=ht.negate()),ht=new I(e.mul(ht.px,F.beta),ht.py,ht.pz),Q.add(ht)}multiply(R){y(R);let O=R,F,Y,{endo:W}=t;if(W){let{k1neg:J,k1:et,k2neg:Q,k2:ht}=W.splitScalar(O),{p:yt,f:ee}=this.wNAF(et),{p:qt,f:lt}=this.wNAF(ht);yt=T.constTimeNegate(J,yt),qt=T.constTimeNegate(Q,qt),qt=new I(e.mul(qt.px,W.beta),qt.py,qt.pz),F=yt.add(qt),Y=ee.add(lt)}else{let{p:J,f:et}=this.wNAF(O);F=J,Y=et}return I.normalizeZ([F,Y])[0]}multiplyAndAddUnsafe(R,O,F){let Y=I.BASE,W=(et,Q)=>Q===Zr||Q===tr||!et.equals(Y)?et.multiplyUnsafe(Q):et.multiply(Q),J=W(this,O).add(W(R,F));return J.is0()?void 0:J}toAffine(R){let{px:O,py:F,pz:Y}=this,W=this.is0();R==null&&(R=W?e.ONE:e.inv(Y));let J=e.mul(O,R),et=e.mul(F,R),Q=e.mul(Y,R);if(W)return{x:e.ZERO,y:e.ZERO};if(!e.eql(Q,e.ONE))throw new Error("invZ was invalid");return{x:J,y:et}}isTorsionFree(){let{h:R,isTorsionFree:O}=t;if(R===tr)return!0;if(O)return O(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:R,clearCofactor:O}=t;return R===tr?this:O?O(I,this):this.multiplyUnsafe(t.h)}toRawBytes(R=!0){return this.assertValidity(),n(I,this,R)}toHex(R=!0){return Ge.bytesToHex(this.toRawBytes(R))}}I.BASE=new I(t.Gx,t.Gy,e.ONE),I.ZERO=new I(e.ZERO,e.ONE,e.ZERO);let K=t.nBitLength,T=(0,Qa.wNAF)(I,t.endo?Math.ceil(K/2):K);return{CURVE:t,ProjectivePoint:I,normPrivateKeyToScalar:m,weierstrassEquation:o,isWithinCurveOrder:u}}function w1(r){let t=(0,Qa.validateBasic)(r);return Ge.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function x1(r){let t=w1(r),{Fp:e,n}=t,i=e.BYTES+1,o=2*e.BYTES+1;function u(c){return Zr<c&&c<e.ORDER}function y(c){return wi.mod(c,n)}function m(c){return wi.invert(c,n)}let{ProjectivePoint:E,normPrivateKeyToScalar:A,weierstrassEquation:I,isWithinCurveOrder:K}=Mh({...t,toBytes(c,f,d){let p=f.toAffine(),w=e.toBytes(p.x),_=Ge.concatBytes;return d?_(Uint8Array.from([f.hasEvenY()?2:3]),w):_(Uint8Array.from([4]),w,e.toBytes(p.y))},fromBytes(c){let f=c.length,d=c[0],p=c.subarray(1);if(f===i&&(d===2||d===3)){let w=Ge.bytesToNumberBE(p);if(!u(w))throw new Error("Point is not on curve");let _=I(w),g;try{g=e.sqrt(_)}catch(q){let H=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+H)}let a=(g&tr)===tr;return(d&1)===1!==a&&(g=e.neg(g)),{x:w,y:g}}else if(f===o&&d===4){let w=e.fromBytes(p.subarray(0,e.BYTES)),_=e.fromBytes(p.subarray(e.BYTES,2*e.BYTES));return{x:w,y:_}}else throw new Error(`Point of length ${f} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),T=c=>Ge.bytesToHex(Ge.numberToBytesBE(c,t.nByteLength));function N(c){let f=n>>tr;return c>f}function R(c){return N(c)?y(-c):c}let O=(c,f,d)=>Ge.bytesToNumberBE(c.slice(f,d));class F{constructor(f,d,p){this.r=f,this.s=d,this.recovery=p,this.assertValidity()}static fromCompact(f){let d=t.nByteLength;return f=(0,nn.ensureBytes)("compactSignature",f,d*2),new F(O(f,0,d),O(f,d,2*d))}static fromDER(f){let{r:d,s:p}=Tr.DER.toSig((0,nn.ensureBytes)("DER",f));return new F(d,p)}assertValidity(){if(!K(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!K(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(f){return new F(this.r,this.s,f)}recoverPublicKey(f){let{r:d,s:p,recovery:w}=this,_=ht((0,nn.ensureBytes)("msgHash",f));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");let g=w===2||w===3?d+t.n:d;if(g>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let a=w&1?"03":"02",b=E.fromHex(a+T(g)),q=m(g),H=y(-_*q),V=y(p*q),nt=E.BASE.multiplyAndAddUnsafe(b,H,V);if(!nt)throw new Error("point at infinify");return nt.assertValidity(),nt}hasHighS(){return N(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,y(-this.s),this.recovery):this}toDERRawBytes(){return Ge.hexToBytes(this.toDERHex())}toDERHex(){return Tr.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ge.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let Y={isValidPrivateKey(c){try{return A(c),!0}catch{return!1}},normPrivateKeyToScalar:A,randomPrivateKey:()=>{let c=wi.getMinHashLength(t.n);return wi.mapHashToField(t.randomBytes(c),t.n)},precompute(c=8,f=E.BASE){return f._setWindowSize(c),f.multiply(BigInt(3)),f}};function W(c,f=!0){return E.fromPrivateKey(c).toRawBytes(f)}function J(c){let f=Ge.isBytes(c),d=typeof c=="string",p=(f||d)&&c.length;return f?p===i||p===o:d?p===2*i||p===2*o:c instanceof E}function et(c,f,d=!0){if(J(c))throw new Error("first arg must be private key");if(!J(f))throw new Error("second arg must be public key");return E.fromHex(f).multiply(A(c)).toRawBytes(d)}let Q=t.bits2int||function(c){let f=Ge.bytesToNumberBE(c),d=c.length*8-t.nBitLength;return d>0?f>>BigInt(d):f},ht=t.bits2int_modN||function(c){return y(Q(c))},yt=Ge.bitMask(t.nBitLength);function ee(c){if(typeof c!="bigint")throw new Error("bigint expected");if(!(Zr<=c&&c<yt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ge.numberToBytesBE(c,t.nByteLength)}function qt(c,f,d=lt){if(["recovered","canonical"].some(gt=>gt in d))throw new Error("sign() legacy options not supported");let{hash:p,randomBytes:w}=t,{lowS:_,prehash:g,extraEntropy:a}=d;_==null&&(_=!0),c=(0,nn.ensureBytes)("msgHash",c),g&&(c=(0,nn.ensureBytes)("prehashed msgHash",p(c)));let b=ht(c),q=A(f),H=[ee(q),ee(b)];if(a!=null&&a!==!1){let gt=a===!0?w(e.BYTES):a;H.push((0,nn.ensureBytes)("extraEntropy",gt))}let V=Ge.concatBytes(...H),nt=b;function pt(gt){let we=Q(gt);if(!K(we))return;let wt=m(we),xt=E.BASE.multiply(we).toAffine(),We=y(xt.x);if(We===Zr)return;let Nt=y(wt*y(nt+We*q));if(Nt===Zr)return;let zt=(xt.x===We?0:2)|Number(xt.y&tr),yr=Nt;return _&&N(Nt)&&(yr=R(Nt),zt^=1),new F(We,yr,zt)}return{seed:V,k2sig:pt}}let lt={lowS:t.lowS,prehash:!1},oe={lowS:t.lowS,prehash:!1};function x(c,f,d=lt){let{seed:p,k2sig:w}=qt(c,f,d),_=t;return Ge.createHmacDrbg(_.hash.outputLen,_.nByteLength,_.hmac)(p,w)}E.BASE._setWindowSize(8);function s(c,f,d,p=oe){let w=c;if(f=(0,nn.ensureBytes)("msgHash",f),d=(0,nn.ensureBytes)("publicKey",d),"strict"in p)throw new Error("options.strict was renamed to lowS");let{lowS:_,prehash:g}=p,a,b;try{if(typeof w=="string"||Ge.isBytes(w))try{a=F.fromDER(w)}catch(xt){if(!(xt instanceof Tr.DER.Err))throw xt;a=F.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){let{r:xt,s:We}=w;a=new F(xt,We)}else throw new Error("PARSE");b=E.fromHex(d)}catch(xt){if(xt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_&&a.hasHighS())return!1;g&&(f=t.hash(f));let{r:q,s:H}=a,V=ht(f),nt=m(H),pt=y(V*nt),gt=y(q*nt),we=E.BASE.multiplyAndAddUnsafe(b,pt,gt)?.toAffine();return we?y(we.x)===q:!1}return{CURVE:t,getPublicKey:W,getSharedSecret:et,sign:x,verify:s,ProjectivePoint:E,Signature:F,utils:Y}}function Rh(r,t){let e=r.ORDER,n=Zr;for(let N=e-tr;N%zn===Zr;N/=zn)n+=tr;let i=n,o=zn<<i-tr-tr,u=o*zn,y=(e-tr)/u,m=(y-tr)/zn,E=u-tr,A=o,I=r.pow(t,y),K=r.pow(t,(y+tr)/zn),T=(N,R)=>{let O=I,F=r.pow(R,E),Y=r.sqr(F);Y=r.mul(Y,R);let W=r.mul(N,Y);W=r.pow(W,m),W=r.mul(W,F),F=r.mul(W,R),Y=r.mul(W,N);let J=r.mul(Y,F);W=r.pow(J,A);let et=r.eql(W,r.ONE);F=r.mul(Y,K),W=r.mul(J,O),Y=r.cmov(F,Y,et),J=r.cmov(W,J,et);for(let Q=i;Q>tr;Q--){let ht=Q-zn;ht=zn<<ht-tr;let yt=r.pow(J,ht),ee=r.eql(yt,r.ONE);F=r.mul(Y,O),O=r.mul(O,O),yt=r.mul(J,O),Y=r.cmov(F,Y,ee),J=r.cmov(yt,J,ee)}return{isValid:et,value:Y}};if(r.ORDER%Ih===co){let N=(r.ORDER-co)/Ih,R=r.sqrt(r.neg(t));T=(O,F)=>{let Y=r.sqr(F),W=r.mul(O,F);Y=r.mul(Y,W);let J=r.pow(Y,N);J=r.mul(J,W);let et=r.mul(J,R),Q=r.mul(r.sqr(J),F),ht=r.eql(Q,O),yt=r.cmov(et,J,ht);return{isValid:ht,value:yt}}}return T}function v1(r,t){if(wi.validateField(r),!r.isValid(t.A)||!r.isValid(t.B)||!r.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let e=Rh(r,t.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,u,y,m,E,A,I;i=r.sqr(n),i=r.mul(i,t.Z),o=r.sqr(i),o=r.add(o,i),u=r.add(o,r.ONE),u=r.mul(u,t.B),y=r.cmov(t.Z,r.neg(o),!r.eql(o,r.ZERO)),y=r.mul(y,t.A),o=r.sqr(u),E=r.sqr(y),m=r.mul(E,t.A),o=r.add(o,m),o=r.mul(o,u),E=r.mul(E,y),m=r.mul(E,t.B),o=r.add(o,m),A=r.mul(i,u);let{isValid:K,value:T}=e(o,E);I=r.mul(i,n),I=r.mul(I,T),A=r.cmov(A,u,K),I=r.cmov(I,T,K);let N=r.isOdd(n)===r.isOdd(I);return I=r.cmov(r.neg(I),I,N),A=r.div(A,y),{x:A,y:I}}}});var Ph=he(fo=>{"use strict";var Ew=it(st());Object.defineProperty(fo,"__esModule",{value:!0});fo.getHash=Lh;fo.createCurve=S1;var _1=Ah(),Th=pn(),k1=tu();function Lh(r){return{hash:r,hmac:(t,...e)=>(0,_1.hmac)(r,t,(0,Th.concatBytes)(...e)),randomBytes:Th.randomBytes}}function S1(r,t){let e=n=>(0,k1.weierstrass)({...r,...Lh(n)});return Object.freeze({...e(t),create:e})}});var Hh=he(Or=>{"use strict";var Aw=it(st());Object.defineProperty(Or,"__esModule",{value:!0});Or.encodeToCurve=Or.hashToCurve=Or.schnorr=Or.secp256k1=void 0;var ho=Pa(),E1=pn(),B1=Ph(),Uh=ma(),ar=In(),Br=jr(),A1=tu(),go=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nh=BigInt(1),po=BigInt(2),Ch=(r,t)=>(r+t/po)/t;function qh(r){let t=go,e=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),u=BigInt(23),y=BigInt(44),m=BigInt(88),E=r*r*r%t,A=E*E*r%t,I=(0,ar.pow2)(A,e,t)*A%t,K=(0,ar.pow2)(I,e,t)*A%t,T=(0,ar.pow2)(K,po,t)*E%t,N=(0,ar.pow2)(T,i,t)*T%t,R=(0,ar.pow2)(N,o,t)*N%t,O=(0,ar.pow2)(R,y,t)*R%t,F=(0,ar.pow2)(O,m,t)*O%t,Y=(0,ar.pow2)(F,y,t)*R%t,W=(0,ar.pow2)(Y,e,t)*A%t,J=(0,ar.pow2)(W,u,t)*N%t,et=(0,ar.pow2)(J,n,t)*E%t,Q=(0,ar.pow2)(et,po,t);if(!Fn.eql(Fn.sqr(Q),r))throw new Error("Cannot find square root");return Q}var Fn=(0,ar.Field)(go,void 0,void 0,{sqrt:qh});Or.secp256k1=(0,B1.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Fn,n:lo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=lo,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Nh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=e,u=BigInt("0x100000000000000000000000000000000"),y=Ch(o*r,t),m=Ch(-n*r,t),E=(0,ar.mod)(r-y*e-m*i,t),A=(0,ar.mod)(-y*n-m*o,t),I=E>u,K=A>u;if(I&&(E=t-E),K&&(A=t-A),E>u||A>u)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:I,k1:E,k2neg:K,k2:A}}}},ho.sha256);var mo=BigInt(0),zh=r=>typeof r=="bigint"&&mo<r&&r<go,I1=r=>typeof r=="bigint"&&mo<r&&r<lo,Oh={};function yo(r,...t){let e=Oh[r];if(e===void 0){let n=(0,ho.sha256)(Uint8Array.from(r,i=>i.charCodeAt(0)));e=(0,Br.concatBytes)(n,n),Oh[r]=e}return(0,ho.sha256)((0,Br.concatBytes)(e,...t))}var iu=r=>r.toRawBytes(!0).slice(1),ru=r=>(0,Br.numberToBytesBE)(r,32),eu=r=>(0,ar.mod)(r,go),Zi=r=>(0,ar.mod)(r,lo),su=Or.secp256k1.ProjectivePoint,M1=(r,t,e)=>su.BASE.multiplyAndAddUnsafe(r,t,e);function nu(r){let t=Or.secp256k1.utils.normPrivateKeyToScalar(r),e=su.fromPrivateKey(t);return{scalar:e.hasEvenY()?t:Zi(-t),bytes:iu(e)}}function Fh(r){if(!zh(r))throw new Error("bad x: need 0 < x < p");let t=eu(r*r),e=eu(t*r+BigInt(7)),n=qh(e);n%po!==mo&&(n=eu(-n));let i=new su(r,n,Nh);return i.assertValidity(),i}function Kh(...r){return Zi((0,Br.bytesToNumberBE)(yo("BIP0340/challenge",...r)))}function R1(r){return nu(r).bytes}function T1(r,t,e=(0,E1.randomBytes)(32)){let n=(0,Br.ensureBytes)("message",r),{bytes:i,scalar:o}=nu(t),u=(0,Br.ensureBytes)("auxRand",e,32),y=ru(o^(0,Br.bytesToNumberBE)(yo("BIP0340/aux",u))),m=yo("BIP0340/nonce",y,i,n),E=Zi((0,Br.bytesToNumberBE)(m));if(E===mo)throw new Error("sign failed: k is zero");let{bytes:A,scalar:I}=nu(E),K=Kh(A,i,n),T=new Uint8Array(64);if(T.set(A,0),T.set(ru(Zi(I+K*o)),32),!Dh(T,n,i))throw new Error("sign: Invalid signature produced");return T}function Dh(r,t,e){let n=(0,Br.ensureBytes)("signature",r,64),i=(0,Br.ensureBytes)("message",t),o=(0,Br.ensureBytes)("publicKey",e,32);try{let u=Fh((0,Br.bytesToNumberBE)(o)),y=(0,Br.bytesToNumberBE)(n.subarray(0,32));if(!zh(y))return!1;let m=(0,Br.bytesToNumberBE)(n.subarray(32,64));if(!I1(m))return!1;let E=Kh(ru(y),iu(u),i),A=M1(u,m,Zi(-E));return!(!A||!A.hasEvenY()||A.toAffine().x!==y)}catch{return!1}}Or.schnorr={getPublicKey:R1,sign:T1,verify:Dh,utils:{randomPrivateKey:Or.secp256k1.utils.randomPrivateKey,lift_x:Fh,pointToBytes:iu,numberToBytesBE:Br.numberToBytesBE,bytesToNumberBE:Br.bytesToNumberBE,taggedHash:yo,mod:ar.mod}};var L1=(0,Uh.isogenyMap)(Fn,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(t=>BigInt(t)))),P1=(0,A1.mapToCurveSimpleSWU)(Fn,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Fn.create(BigInt("-11"))}),Wh=(0,Uh.createHasher)(Or.secp256k1.ProjectivePoint,r=>{let{x:t,y:e}=P1(Fn.create(r[0]));return L1(t,e)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Fn.ORDER,m:1,k:128,expand:"xmd",hash:ho.sha256});Or.hashToCurve=Wh.hashToCurve;Or.encodeToCurve=Wh.encodeToCurve});var C0=he(kt=>{"use strict";var Mw=it(st()),te=fi(),Bi=bf(),C1=xf(),O1=Bf(),$h=Pa(),ou=Uf(),l0=Nf(),lu=qf(),h=Ff(),U1=fh(),Vh=mh(),jh=Eh(),Lu=Hh();function Pu(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function N1(r){if(r&&typeof r=="object"&&"default"in r)return r;var t=Object.create(null);return r&&Object.keys(r).forEach(function(e){if(e!=="default"){var n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:function(){return r[e]}})}}),t.default=r,Object.freeze(t)}var Yh=Pu(C1),dr=Pu(O1),L=N1(l0),q1=Pu(U1),z1=Bi.ed25519.utils.randomPrivateKey,Gh=()=>{let r=Bi.ed25519.utils.randomPrivateKey(),t=vo(r),e=new Uint8Array(64);return e.set(r),e.set(t,32),{publicKey:t,secretKey:e}},vo=Bi.ed25519.getPublicKey;function Zh(r){try{return Bi.ed25519.ExtendedPoint.fromHex(r),!0}catch{return!1}}var Cu=(r,t)=>Bi.ed25519.sign(r,t.slice(0,32)),F1=Bi.ed25519.verify,Se=r=>te.Buffer.isBuffer(r)?r:r instanceof Uint8Array?te.Buffer.from(r.buffer,r.byteOffset,r.byteLength):te.Buffer.from(r),ts=class{constructor(t){Object.assign(this,t)}encode(){return te.Buffer.from(ou.serialize(Qi,this))}static decode(t){return ou.deserialize(Qi,this,t)}static decodeUnchecked(t){return ou.deserializeUnchecked(Qi,this,t)}},du=class extends ts{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(e=>{this.enum=e})}},Qi=new Map,d0,p0=32,cn=32;function K1(r){return r._bn!==void 0}var Xh=1,_t=class r extends ts{constructor(t){if(super({}),this._bn=void 0,K1(t))this._bn=t._bn;else{if(typeof t=="string"){let e=dr.default.decode(t);if(e.length!=cn)throw new Error("Invalid public key input");this._bn=new Yh.default(e)}else this._bn=new Yh.default(t);if(this._bn.byteLength()>cn)throw new Error("Invalid public key input")}}static unique(){let t=new r(Xh);return Xh+=1,new r(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return dr.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){let t=this._bn.toArrayLike(te.Buffer);if(t.length===cn)return t;let e=te.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){let i=te.Buffer.concat([t.toBuffer(),te.Buffer.from(e),n.toBuffer()]),o=$h.sha256(i);return new r(o)}static createProgramAddressSync(t,e){let n=te.Buffer.alloc(0);t.forEach(function(o){if(o.length>p0)throw new TypeError("Max seed length exceeded");n=te.Buffer.concat([n,Se(o)])}),n=te.Buffer.concat([n,e.toBuffer(),te.Buffer.from("ProgramDerivedAddress")]);let i=$h.sha256(n);if(Zh(i))throw new Error("Invalid seeds, address must fall off the curve");return new r(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,i;for(;n!=0;){try{let o=t.concat(te.Buffer.from([n]));i=this.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){let e=new r(t);return Zh(e.toBytes())}};d0=_t;_t.default=new d0("11111111111111111111111111111111");Qi.set(_t,{kind:"struct",fields:[["_bn","u256"]]});var pu=class{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){let e=Se(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=Se(z1()),this._publicKey=Se(vo(this._secretKey))}get publicKey(){return new _t(this._publicKey)}get secretKey(){return te.Buffer.concat([this._secretKey,this._publicKey],64)}},D1=new _t("BPFLoader1111111111111111111111111111111111"),Dn=1232,To=127,es=64,rs=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(rs.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var ns=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(ns.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Kn=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Kn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var ei=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,u)=>{n.set(o.toBase58(),u)});let i=o=>{let u=n.get(o.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(u=>i(u.pubkey)),data:o.data}))}},Be=(r="publicKey")=>L.blob(32,r),W1=(r="signature")=>L.blob(64,r),ti=(r="string")=>{let t=L.struct([L.u32("length"),L.u32("lengthPadding"),L.blob(L.offset(L.u32(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(o,u)=>e(o,u).chars.toString(),i.encode=(o,u,y)=>{let m={chars:te.Buffer.from(o,"utf8")};return n(m,u,y)},i.alloc=o=>L.u32().span+L.u32().span+te.Buffer.from(o,"utf8").length,i},H1=(r="authorized")=>L.struct([Be("staker"),Be("withdrawer")],r),$1=(r="lockup")=>L.struct([L.ns64("unixTimestamp"),L.ns64("epoch"),Be("custodian")],r),V1=(r="voteInit")=>L.struct([Be("nodePubkey"),Be("authorizedVoter"),Be("authorizedWithdrawer"),L.u8("commission")],r),j1=(r="voteAuthorizeWithSeedArgs")=>L.struct([L.u32("voteAuthorizationType"),Be("currentAuthorityDerivedKeyOwnerPubkey"),ti("currentAuthorityDerivedKeySeed"),Be("newAuthorized")],r);function y0(r,t){let e=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){let o=t[i.property];if(Array.isArray(o))return o.length*e(i.elementLayout)}else if("fields"in i)return y0({layout:i},t[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=e(i)}),n}function Ur(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Wr(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function Ce(r,t){if(!r)throw new Error(t||"Assertion failed")}var _o=class r{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let n=new Map,i=u=>{let y=u.toBase58(),m=n.get(y);return m===void 0&&(m={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(y,m)),m},o=i(e);o.isSigner=!0,o.isWritable=!0;for(let u of t){i(u.programId).isInvoked=!0;for(let y of u.keys){let m=i(y.pubkey);m.isSigner||=y.isSigner,m.isWritable||=y.isWritable}}return new r(e,n)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];Ce(t.length<=256,"Max static account keys length exceeded");let e=t.filter(([,m])=>m.isSigner&&m.isWritable),n=t.filter(([,m])=>m.isSigner&&!m.isWritable),i=t.filter(([,m])=>!m.isSigner&&m.isWritable),o=t.filter(([,m])=>!m.isSigner&&!m.isWritable),u={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Ce(e.length>0,"Expected at least one writable signer key");let[m]=e[0];Ce(m===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let y=[...e.map(([m])=>new _t(m)),...n.map(([m])=>new _t(m)),...i.map(([m])=>new _t(m)),...o.map(([m])=>new _t(m))];return[u,y]}extractTableLookup(t){let[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(e.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(t,e){let n=new Array,i=new Array;for(let[o,u]of this.keyMetaMap.entries())if(e(u)){let y=new _t(o),m=t.findIndex(E=>E.equals(y));m>=0&&(Ce(m<256,"Max lookup table index exceeded"),n.push(m),i.push(y),this.keyMetaMap.delete(o))}return[n,i]}},g0="Reached end of buffer unexpectedly";function on(r){if(r.length===0)throw new Error(g0);return r.shift()}function Nr(r,...t){let[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(g0);return r.splice(...t)}var fn=class r{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new _t(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:dr.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ei(this.staticAccountKeys)}static compile(t){let e=_o.compile(t.instructions,t.payerKey),[n,i]=e.getMessageComponents(),u=new ei(i).compileInstructions(t.instructions).map(y=>({programIdIndex:y.programIdIndex,accounts:y.accountKeyIndexes,data:dr.default.encode(y.data)}));return new r({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:u})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){let n=t-e,o=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];Wr(e,t);let n=this.instructions.map(I=>{let{accounts:K,programIdIndex:T}=I,N=Array.from(dr.default.decode(I.data)),R=[];Wr(R,K.length);let O=[];return Wr(O,N.length),{programIdIndex:T,keyIndicesCount:te.Buffer.from(R),keyIndices:K,dataLength:te.Buffer.from(O),data:N}}),i=[];Wr(i,n.length);let o=te.Buffer.alloc(Dn);te.Buffer.from(i).copy(o);let u=i.length;n.forEach(I=>{let T=L.struct([L.u8("programIdIndex"),L.blob(I.keyIndicesCount.length,"keyIndicesCount"),L.seq(L.u8("keyIndex"),I.keyIndices.length,"keyIndices"),L.blob(I.dataLength.length,"dataLength"),L.seq(L.u8("userdatum"),I.data.length,"data")]).encode(I,o,u);u+=T}),o=o.slice(0,u);let y=L.struct([L.blob(1,"numRequiredSignatures"),L.blob(1,"numReadonlySignedAccounts"),L.blob(1,"numReadonlyUnsignedAccounts"),L.blob(e.length,"keyCount"),L.seq(Be("key"),t,"keys"),Be("recentBlockhash")]),m={numRequiredSignatures:te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:te.Buffer.from(e),keys:this.accountKeys.map(I=>Se(I.toBytes())),recentBlockhash:dr.default.decode(this.recentBlockhash)},E=te.Buffer.alloc(2048),A=y.encode(m,E);return o.copy(E,A),E.slice(0,A+o.length)}static from(t){let e=[...t],n=on(e);if(n!==(n&To))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=on(e),o=on(e),u=Ur(e),y=[];for(let K=0;K<u;K++){let T=Nr(e,0,cn);y.push(new _t(te.Buffer.from(T)))}let m=Nr(e,0,cn),E=Ur(e),A=[];for(let K=0;K<E;K++){let T=on(e),N=Ur(e),R=Nr(e,0,N),O=Ur(e),F=Nr(e,0,O),Y=dr.default.encode(te.Buffer.from(F));A.push({programIdIndex:T,accounts:R,data:Y})}let I={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:dr.default.encode(te.Buffer.from(m)),accountKeys:y,instructions:A};return new r(I)}},xi=class r{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(let e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ei(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){let e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){let i=t-n,o=this.addressTableLookups.reduce((u,y)=>u+y.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){let i=t-e,u=n-e-this.header.numReadonlyUnsignedAccounts;return i<u}else{let i=e-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){let e={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=t.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)e.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)e.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){let e=_o.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(let A of o){let I=e.extractTableLookup(A);if(I!==void 0){let[K,{writable:T,readonly:N}]=I;n.push(K),i.writable.push(...T),i.readonly.push(...N)}}let[u,y]=e.getMessageComponents(),E=new ei(y,i).compileInstructions(t.instructions);return new r({header:u,staticAccountKeys:y,recentBlockhash:t.recentBlockhash,compiledInstructions:E,addressTableLookups:n})}serialize(){let t=Array();Wr(t,this.staticAccountKeys.length);let e=this.serializeInstructions(),n=Array();Wr(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Wr(o,this.addressTableLookups.length);let u=L.struct([L.u8("prefix"),L.struct([L.u8("numRequiredSignatures"),L.u8("numReadonlySignedAccounts"),L.u8("numReadonlyUnsignedAccounts")],"header"),L.blob(t.length,"staticAccountKeysLength"),L.seq(Be(),this.staticAccountKeys.length,"staticAccountKeys"),Be("recentBlockhash"),L.blob(n.length,"instructionsLength"),L.blob(e.length,"serializedInstructions"),L.blob(o.length,"addressTableLookupsLength"),L.blob(i.length,"serializedAddressTableLookups")]),y=new Uint8Array(Dn),E=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(A=>A.toBytes()),recentBlockhash:dr.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},y);return y.slice(0,E)}serializeInstructions(){let t=0,e=new Uint8Array(Dn);for(let n of this.compiledInstructions){let i=Array();Wr(i,n.accountKeyIndexes.length);let o=Array();Wr(o,n.data.length);let u=L.struct([L.u8("programIdIndex"),L.blob(i.length,"encodedAccountKeyIndexesLength"),L.seq(L.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),L.blob(o.length,"encodedDataLength"),L.blob(n.data.length,"data")]);t+=u.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0,e=new Uint8Array(Dn);for(let n of this.addressTableLookups){let i=Array();Wr(i,n.writableIndexes.length);let o=Array();Wr(o,n.readonlyIndexes.length);let u=L.struct([Be("accountKey"),L.blob(i.length,"encodedWritableIndexesLength"),L.seq(L.u8(),n.writableIndexes.length,"writableIndexes"),L.blob(o.length,"encodedReadonlyIndexesLength"),L.seq(L.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=u.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t],n=on(e),i=n&To;Ce(n!==i,"Expected versioned message but received legacy message");let o=i;Ce(o===0,`Expected versioned message with version 0 but found version ${o}`);let u={numRequiredSignatures:on(e),numReadonlySignedAccounts:on(e),numReadonlyUnsignedAccounts:on(e)},y=[],m=Ur(e);for(let N=0;N<m;N++)y.push(new _t(Nr(e,0,cn)));let E=dr.default.encode(Nr(e,0,cn)),A=Ur(e),I=[];for(let N=0;N<A;N++){let R=on(e),O=Ur(e),F=Nr(e,0,O),Y=Ur(e),W=new Uint8Array(Nr(e,0,Y));I.push({programIdIndex:R,accountKeyIndexes:F,data:W})}let K=Ur(e),T=[];for(let N=0;N<K;N++){let R=new _t(Nr(e,0,cn)),O=Ur(e),F=Nr(e,0,O),Y=Ur(e),W=Nr(e,0,Y);T.push({accountKey:R,writableIndexes:F,readonlyIndexes:W})}return new r({header:u,staticAccountKeys:y,recentBlockhash:E,compiledInstructions:I,addressTableLookups:T})}},Ou={deserializeMessageVersion(r){let t=r[0],e=t&To;return e===t?"legacy":e},deserialize:r=>{let t=Ou.deserializeMessageVersion(r);if(t==="legacy")return fn.from(r);if(t===0)return xi.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},xn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({}),Y1=te.Buffer.alloc(es).fill(0),Fe=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=te.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},qe=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){let{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){let{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{let{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Fe(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let R=0;R<e.length;R++)if(e[R].programId===void 0)throw new Error(`Transaction instruction index ${R} has undefined program id`);let i=[],o=[];e.forEach(R=>{R.keys.forEach(F=>{o.push({...F})});let O=R.programId.toString();i.includes(O)||i.push(O)}),i.forEach(R=>{o.push({pubkey:new _t(R),isSigner:!1,isWritable:!1})});let u=[];o.forEach(R=>{let O=R.pubkey.toString(),F=u.findIndex(Y=>Y.pubkey.toString()===O);F>-1?(u[F].isWritable=u[F].isWritable||R.isWritable,u[F].isSigner=u[F].isSigner||R.isSigner):u.push(R)}),u.sort(function(R,O){if(R.isSigner!==O.isSigner)return R.isSigner?-1:1;if(R.isWritable!==O.isWritable)return R.isWritable?-1:1;let F={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return R.pubkey.toBase58().localeCompare(O.pubkey.toBase58(),"en",F)});let y=u.findIndex(R=>R.pubkey.equals(n));if(y>-1){let[R]=u.splice(y,1);R.isSigner=!0,R.isWritable=!0,u.unshift(R)}else u.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let R of this.signatures){let O=u.findIndex(F=>F.pubkey.equals(R.publicKey));if(O>-1)u[O].isSigner||(u[O].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${R.publicKey.toString()}`)}let m=0,E=0,A=0,I=[],K=[];u.forEach(({pubkey:R,isSigner:O,isWritable:F})=>{O?(I.push(R.toString()),m+=1,F||(E+=1)):(K.push(R.toString()),F||(A+=1))});let T=I.concat(K),N=e.map(R=>{let{data:O,programId:F}=R;return{programIdIndex:T.indexOf(F.toString()),accounts:R.keys.map(Y=>T.indexOf(Y.pubkey.toString())),data:dr.default.encode(O)}});return N.forEach(R=>{Ce(R.programIdIndex>=0),R.accounts.forEach(O=>Ce(O>=0))}),new fn({header:{numRequiredSignatures:m,numReadonlySignedAccounts:E,numReadonlyUnsignedAccounts:A},accountKeys:T,recentBlockhash:t,instructions:N})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((i,o)=>e[o].equals(i.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");let e=new Set;this.signatures=t.filter(n=>{let i=n.toString();return e.has(i)?!1:(e.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let o of t){let u=o.publicKey.toString();e.has(u)||(e.add(u),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let o of t){let u=o.publicKey.toString();e.has(u)||(e.add(u),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(t,...e){let n=t.serialize();e.forEach(i=>{let o=Cu(n,i.secretKey);this._addSignature(i.publicKey,Se(o))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Ce(e.length===64);let n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=te.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){let n={};for(let{signature:i,publicKey:o}of this.signatures)i===null?e&&(n.missing||=[]).push(o):F1(i,t,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(t){let{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){let o=this._getMessageSignednessErrors(i,e);if(o){let u="Signature verification failed.";throw o.invalid&&(u+=`\nInvalid signature for public key${o.invalid.length===1?"":"(s)"} [\\`${o.invalid.map(y=>y.toBase58()).join("`, `")}\\`].`),o.missing&&(u+=`\nMissing signature for public key${o.missing.length===1?"":"(s)"} [\\`${o.missing.map(y=>y.toBase58()).join("`, `")}\\`].`),new Error(u)}}return this._serialize(i)}_serialize(t){let{signatures:e}=this,n=[];Wr(n,e.length);let i=n.length+e.length*64+t.length,o=te.Buffer.alloc(i);return Ce(e.length<256),te.Buffer.from(n).copy(o,0),e.forEach(({signature:u},y)=>{u!==null&&(Ce(u.length===64,"signature has invalid length"),te.Buffer.from(u).copy(o,n.length+y*64))}),t.copy(o,n.length+e.length*64),Ce(o.length<=Dn,`Transaction too large: ${o.length} > ${Dn}`),o}get keys(){return Ce(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Ce(this.instructions.length===1),this.instructions[0].programId}get data(){return Ce(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t],n=Ur(e),i=[];for(let o=0;o<n;o++){let u=Nr(e,0,es);i.push(dr.default.encode(te.Buffer.from(u)))}return r.populate(fn.from(e),i)}static populate(t,e=[]){let n=new r;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((i,o)=>{let u={signature:i==dr.default.encode(Y1)?null:dr.default.decode(i),publicKey:t.accountKeys[o]};n.signatures.push(u)}),t.instructions.forEach(i=>{let o=i.accounts.map(u=>{let y=t.accountKeys[u];return{pubkey:y,isSigner:n.signatures.some(m=>m.publicKey.toString()===y.toString())||t.isAccountSigner(u),isWritable:t.isAccountWritable(u)}});n.instructions.push(new Fe({keys:o,programId:t.accountKeys[i.programIdIndex],data:dr.default.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}},yu=class r{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){let{header:n,compiledInstructions:i,recentBlockhash:o}=t,{numRequiredSignatures:u,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:m}=n,E=u-y;Ce(E>0,"Message header is invalid");let A=t.staticAccountKeys.length-u-m;Ce(A>=0,"Message header is invalid");let I=t.getAccountKeys(e),K=I.get(0);if(K===void 0)throw new Error("Failed to decompile message because no account keys were found");let T=[];for(let N of i){let R=[];for(let F of N.accountKeyIndexes){let Y=I.get(F);if(Y===void 0)throw new Error(`Failed to find key for account key index ${F}`);let W=F<u,J;W?J=F<E:F<I.staticAccountKeys.length?J=F-u<A:J=F-I.staticAccountKeys.length<I.accountKeysFromLookups.writable.length,R.push({pubkey:Y,isSigner:F<n.numRequiredSignatures,isWritable:J})}let O=I.get(N.programIdIndex);if(O===void 0)throw new Error(`Failed to find program id for program id index ${N.programIdIndex}`);T.push(new Fe({programId:O,data:Se(N.data),keys:R}))}return new r({payerKey:K,instructions:T,recentBlockhash:o})}compileToLegacyMessage(){return fn.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return xi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}},gu=class r{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Ce(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{let n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(es));this.signatures=n}this.message=t}serialize(){let t=this.message.serialize(),e=Array();Wr(e,this.signatures.length);let n=L.struct([L.blob(e.length,"encodedSignaturesLength"),L.seq(W1(),this.signatures.length,"signatures"),L.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let e=[...t],n=[],i=Ur(e);for(let u=0;u<i;u++)n.push(new Uint8Array(Nr(e,0,es)));let o=Ou.deserialize(new Uint8Array(e));return new r(o,n)}sign(t){let e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of t){let o=n.findIndex(u=>u.equals(i.publicKey));Ce(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Cu(e,i.secretKey)}}addSignature(t,e){Ce(e.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));Ce(i>=0,`Can not add signature; \\`${t.toBase58()}\\` is not required to sign this transaction`),this.signatures[i]=e}},G1=160,Z1=64,X1=G1/Z1,m0=1e3/X1,sn=new _t("SysvarC1ock11111111111111111111111111111111"),J1=new _t("SysvarEpochSchedu1e111111111111111111111111"),Q1=new _t("Sysvar1nstructions1111111111111111111111111"),wo=new _t("SysvarRecentB1ockHashes11111111111111111111"),vi=new _t("SysvarRent111111111111111111111111111111111"),ty=new _t("SysvarRewards111111111111111111111111111111"),ey=new _t("SysvarS1otHashes111111111111111111111111111"),ry=new _t("SysvarS1otHistory11111111111111111111111111"),xo=new _t("SysvarStakeHistory1111111111111111111111111"),ri=class extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:i}){let o=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:"",u="\\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",y;switch(t){case"send":y=`Transaction ${e} resulted in an error. \n${n}. `+o+u;break;case"simulate":y=`Simulation failed. \nMessage: ${n}. \n`+o+u;break;default:y=`Unknown action \'${(m=>m)(t)}\'`}super(y),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,e(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},ny={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Ct=class extends Error{constructor({code:t,message:e,data:n},i){super(i!=null?`${i}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}};async function mu(r,t,e,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await r.sendTransaction(t,e,i),u;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)u=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){let{nonceInstruction:y}=t.nonceInfo,m=y.keys[0].pubkey;u=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:m,nonceValue:t.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),u=(await r.confirmTransaction(o,n&&n.commitment)).value;if(u.err)throw o!=null?new ri({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(u)})`);return o}function Qn(r){return new Promise(t=>setTimeout(t,r))}function Re(r,t){let e=r.layout.span>=0?r.layout.span:y0(r,t),n=te.Buffer.alloc(e),i=Object.assign({instruction:r.index},t);return r.layout.encode(i,n),n}function Ne(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${e.instruction} != ${r.index}`);return e}var b0=L.nu64("lamportsPerSignature"),w0=L.struct([L.u32("version"),L.u32("state"),Be("authorizedPubkey"),Be("nonce"),L.struct([b0],"feeCalculator")]),bu=w0.span,ko=class r{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){let e=w0.decode(Se(t),0);return new r({authorizedPubkey:new _t(e.authorizedPubkey),nonce:new _t(e.nonce).toString(),feeCalculator:e.feeCalculator})}},iy=r=>{let t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},sy=r=>t=>{let e=l0.blob(r,t),{encode:n,decode:i}=iy(e),o=e;return o.decode=(u,y)=>{let m=i(u,y);return lu.toBigIntLE(te.Buffer.from(m))},o.encode=(u,y,m)=>{let E=lu.toBufferLE(u,r);return n(E,y,m)},o},_i=sy(8),wu=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=L.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(Ve))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e,space:n,programId:i}=Ne(Ve.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new _t(i)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e}=Ne(Ve.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e,seed:n,programId:i}=Ne(Ve.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new _t(i)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{space:e}=Ne(Ve.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:n,space:i,programId:o}=Ne(Ve.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new _t(e),seed:n,space:i,programId:new _t(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{programId:e}=Ne(Ve.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new _t(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:n,programId:i}=Ne(Ve.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new _t(e),seed:n,programId:new _t(i)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{base:e,seed:n,lamports:i,space:o,programId:u}=Ne(Ve.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new _t(e),seed:n,lamports:i,space:o,programId:new _t(u)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{authorized:e}=Ne(Ve.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new _t(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ne(Ve.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=Ne(Ve.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e}=Ne(Ve.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new _t(e)}}static checkProgramId(t){if(!t.equals(pr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},Ve=Object.freeze({Create:{index:0,layout:L.struct([L.u32("instruction"),L.ns64("lamports"),L.ns64("space"),Be("programId")])},Assign:{index:1,layout:L.struct([L.u32("instruction"),Be("programId")])},Transfer:{index:2,layout:L.struct([L.u32("instruction"),_i("lamports")])},CreateWithSeed:{index:3,layout:L.struct([L.u32("instruction"),Be("base"),ti("seed"),L.ns64("lamports"),L.ns64("space"),Be("programId")])},AdvanceNonceAccount:{index:4,layout:L.struct([L.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:L.struct([L.u32("instruction"),Be("authorized")])},AuthorizeNonceAccount:{index:7,layout:L.struct([L.u32("instruction"),Be("authorized")])},Allocate:{index:8,layout:L.struct([L.u32("instruction"),L.ns64("space")])},AllocateWithSeed:{index:9,layout:L.struct([L.u32("instruction"),Be("base"),ti("seed"),L.ns64("space"),Be("programId")])},AssignWithSeed:{index:10,layout:L.struct([L.u32("instruction"),Be("base"),ti("seed"),Be("programId")])},TransferWithSeed:{index:11,layout:L.struct([L.u32("instruction"),_i("lamports"),ti("seed"),Be("programId")])},UpgradeNonceAccount:{index:12,layout:L.struct([L.u32("instruction")])}}),pr=class r{constructor(){}static createAccount(t){let e=Ve.Create,n=Re(e,{lamports:t.lamports,space:t.space,programId:Se(t.programId.toBuffer())});return new Fe({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let e,n;if("basePubkey"in t){let i=Ve.TransferWithSeed;e=Re(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Ve.Transfer;e=Re(i,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Fe({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){let i=Ve.AssignWithSeed;e=Re(i,{base:Se(t.basePubkey.toBuffer()),seed:t.seed,programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ve.Assign;e=Re(i,{programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fe({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=Ve.CreateWithSeed,n=Re(e,{base:Se(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Se(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Fe({keys:i,programId:this.programId,data:n})}static createNonceAccount(t){let e=new qe;"basePubkey"in t&&"seed"in t?e.add(r.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:bu,programId:this.programId})):e.add(r.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:bu,programId:this.programId}));let n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){let e=Ve.InitializeNonceAccount,n=Re(e,{authorized:Se(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wo,isSigner:!1,isWritable:!1},{pubkey:vi,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Fe(i)}static nonceAdvance(t){let e=Ve.AdvanceNonceAccount,n=Re(e),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Fe(i)}static nonceWithdraw(t){let e=Ve.WithdrawNonceAccount,n=Re(e,{lamports:t.lamports});return new Fe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:wo,isSigner:!1,isWritable:!1},{pubkey:vi,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){let e=Ve.AuthorizeNonceAccount,n=Re(e,{authorized:Se(t.newAuthorizedPubkey.toBuffer())});return new Fe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let e,n;if("basePubkey"in t){let i=Ve.AllocateWithSeed;e=Re(i,{base:Se(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ve.Allocate;e=Re(i,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fe({keys:n,programId:this.programId,data:e})}};pr.programId=new _t("11111111111111111111111111111111");var oy=Dn-300,ki=class r{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/r.chunkSize)+1+1)}static async load(t,e,n,i,o){{let I=await t.getMinimumBalanceForRentExemption(o.length),K=await t.getAccountInfo(n.publicKey,"confirmed"),T=null;if(K!==null){if(K.executable)return console.error("Program load failed, account is already executable"),!1;K.data.length!==o.length&&(T=T||new qe,T.add(pr.allocate({accountPubkey:n.publicKey,space:o.length}))),K.owner.equals(i)||(T=T||new qe,T.add(pr.assign({accountPubkey:n.publicKey,programId:i}))),K.lamports<I&&(T=T||new qe,T.add(pr.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:I-K.lamports})))}else T=new qe().add(pr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:I>0?I:1,space:o.length,programId:i}));T!==null&&await mu(t,T,[e,n],{commitment:"confirmed"})}let u=L.struct([L.u32("instruction"),L.u32("offset"),L.u32("bytesLength"),L.u32("bytesLengthPadding"),L.seq(L.u8("byte"),L.offset(L.u32(),-8),"bytes")]),y=r.chunkSize,m=0,E=o,A=[];for(;E.length>0;){let I=E.slice(0,y),K=te.Buffer.alloc(y+16);u.encode({instruction:0,offset:m,bytes:I,bytesLength:0,bytesLengthPadding:0},K);let T=new qe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:K});A.push(mu(t,T,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Qn(1e3/4),m+=y,E=E.slice(y)}await Promise.all(A);{let I=L.struct([L.u32("instruction")]),K=te.Buffer.alloc(I.span);I.encode({instruction:1},K);let T=new qe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:vi,isSigner:!1,isWritable:!1}],programId:i,data:K}),N="processed",R=await t.sendTransaction(T,[e,n],{preflightCommitment:N}),{context:O,value:F}=await t.confirmTransaction({signature:R,lastValidBlockHeight:T.lastValidBlockHeight,blockhash:T.recentBlockhash},N);if(F.err)throw new Error(`Transaction ${R} failed (${JSON.stringify(F)})`);for(;;){try{if(await t.getSlot({commitment:N})>O.slot)break}catch{}await new Promise(Y=>setTimeout(Y,Math.round(m0/2)))}}return!0}};ki.chunkSize=oy;var ay=new _t("BPFLoader2111111111111111111111111111111111"),xu=class{static getMinNumSignatures(t){return ki.getMinNumSignatures(t)}static load(t,e,n,i,o){return ki.load(t,e,n,o,i)}};function uy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cy=Object.prototype.toString,fy=Object.keys||function(r){var t=[];for(var e in r)t.push(e);return t};function Ji(r,t){var e,n,i,o,u,y,m;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return Ji(r.toJSON(),t);if(m=cy.call(r),m==="[object Array]"){for(i="[",n=r.length-1,e=0;e<n;e++)i+=Ji(r[e],!0)+",";return n>-1&&(i+=Ji(r[e],!0)),i+"]"}else if(m==="[object Object]"){for(o=fy(r).sort(),n=o.length,i="",e=0;e<n;)u=o[e],y=Ji(r[u],!1),y!==void 0&&(i&&(i+=","),i+=JSON.stringify(u)+":"+y),e++;return"{"+i+"}"}else return JSON.stringify(r);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var hy=function(r){var t=Ji(r,!1);if(t!==void 0)return""+t},Jh=uy(hy),Xi=32;function au(r){let t=0;for(;r>1;)r/=2,t++;return t}function ly(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}var So=class{constructor(t,e,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){let e=au(ly(t+Xi+1))-au(Xi)-1,n=this.getSlotsInEpoch(e),i=t-(n-Xi);return[e,i]}else{let e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=e%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Xi:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+au(Xi)):this.slotsPerEpoch}},dy=globalThis.fetch,vu=class extends Vh.CommonClient{constructor(t,e,n){let i=o=>{let u=Vh.WebSocket(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(i,t,e,n),this.underlyingSocket=void 0}call(...t){let e=this.underlyingSocket?.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){let e=this.underlyingSocket?.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}};function py(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}var Qh=56,is=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){let t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){let e=py(yy,t),n=t.length-Qh;Ce(n>=0,"lookup table is invalid"),Ce(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=L.struct([L.seq(Be(),i,"addresses")]).decode(t.slice(Qh));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new _t(e.authority[0]):void 0,addresses:o.map(u=>new _t(u))}}},yy={index:1,layout:L.struct([L.u32("typeIndex"),_i("deactivationSlot"),L.nu64("lastExtendedSlot"),L.u8("lastExtendedStartIndex"),L.u8(),L.seq(Be(),L.offset(L.u8(),-1),"authority")])},gy=/^[^:]+:\\/\\/([^:[]+|\\[[^\\]]+\\])(:\\d+)?(.*)/i;function my(r){let t=r.match(gy);if(t==null)throw TypeError(`Failed to validate endpoint URL \\`${r}\\``);let[e,n,i,o]=t,u=r.startsWith("https:")?"wss:":"ws:",y=i==null?null:parseInt(i.slice(1),10),m=y==null?"":`:${y+1}`;return`${u}//${n}${m}${o}`}var Ze=h.coerce(h.instance(_t),h.string(),r=>new _t(r)),x0=h.tuple([h.string(),h.literal("base64")]),Uu=h.coerce(h.instance(te.Buffer),x0,r=>te.Buffer.from(r[0],"base64")),v0=30*1e3;function by(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function $e(r){let t,e;if(typeof r=="string")t=r;else if(r){let{commitment:n,...i}=r;t=n,e=i}return{commitment:t,config:e}}function t0(r){return r.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function _0(r){return h.union([h.type({jsonrpc:h.literal("2.0"),id:h.string(),result:r}),h.type({jsonrpc:h.literal("2.0"),id:h.string(),error:h.type({code:h.unknown(),message:h.string(),data:h.optional(h.any())})})])}var wy=_0(h.unknown());function ke(r){return h.coerce(_0(r),wy,t=>"error"in t?t:{...t,result:h.create(t.result,r)})}function er(r){return ke(h.type({context:h.type({slot:h.number()}),value:r}))}function Lo(r){return h.type({context:h.type({slot:h.number()}),value:r})}function uu(r,t){return r===0?new xi({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new _t(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:dr.default.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new fn(t)}var xy=h.type({foundation:h.number(),foundationTerm:h.number(),initial:h.number(),taper:h.number(),terminal:h.number()}),vy=ke(h.array(h.nullable(h.type({epoch:h.number(),effectiveSlot:h.number(),amount:h.number(),postBalance:h.number(),commission:h.optional(h.nullable(h.number()))})))),_y=h.array(h.type({slot:h.number(),prioritizationFee:h.number()})),ky=h.type({total:h.number(),validator:h.number(),foundation:h.number(),epoch:h.number()}),Sy=h.type({epoch:h.number(),slotIndex:h.number(),slotsInEpoch:h.number(),absoluteSlot:h.number(),blockHeight:h.optional(h.number()),transactionCount:h.optional(h.number())}),Ey=h.type({slotsPerEpoch:h.number(),leaderScheduleSlotOffset:h.number(),warmup:h.boolean(),firstNormalEpoch:h.number(),firstNormalSlot:h.number()}),By=h.record(h.string(),h.array(h.number())),ii=h.nullable(h.union([h.type({}),h.string()])),Ay=h.type({err:ii}),Iy=h.literal("receivedSignature"),My=h.type({"solana-core":h.string(),"feature-set":h.optional(h.number())}),Ry=h.type({program:h.string(),programId:Ze,parsed:h.unknown()}),Ty=h.type({programId:Ze,accounts:h.array(Ze),data:h.string()}),e0=er(h.type({err:h.nullable(h.union([h.type({}),h.string()])),logs:h.nullable(h.array(h.string())),accounts:h.optional(h.nullable(h.array(h.nullable(h.type({executable:h.boolean(),owner:h.string(),lamports:h.number(),data:h.array(h.string()),rentEpoch:h.optional(h.number())}))))),unitsConsumed:h.optional(h.number()),returnData:h.optional(h.nullable(h.type({programId:h.string(),data:h.tuple([h.string(),h.literal("base64")])}))),innerInstructions:h.optional(h.nullable(h.array(h.type({index:h.number(),instructions:h.array(h.union([Ry,Ty]))}))))})),Ly=er(h.type({byIdentity:h.record(h.string(),h.array(h.number())),range:h.type({firstSlot:h.number(),lastSlot:h.number()})}));function Py(r,t,e,n,i,o){let u=e||dy,y;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let m;return n&&(m=async(A,I)=>{let K=await new Promise((T,N)=>{try{n(A,I,(R,O)=>T([R,O]))}catch(R){N(R)}});return await u(...K)}),new q1.default(async(A,I)=>{let K={method:"POST",body:A,agent:y,headers:Object.assign({"Content-Type":"application/json"},t||{},Cg)};try{let T=5,N,R=500;for(;m?N=await m(r,K):N=await u(r,K),!(N.status!==429||i===!0||(T-=1,T===0));)console.error(`Server responded with ${N.status} ${N.statusText}.  Retrying after ${R}ms delay...`),await Qn(R),R*=2;let O=await N.text();N.ok?I(null,O):I(new Error(`${N.status} ${N.statusText}: ${O}`))}catch(T){T instanceof Error&&I(T)}},{})}function Cy(r){return(t,e)=>new Promise((n,i)=>{r.request(t,e,(o,u)=>{if(o){i(o);return}n(u)})})}function Oy(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);let i=t.map(o=>r.request(o.methodName,o.args));r.request(i,(o,u)=>{if(o){n(o);return}e(u)})})}var Uy=ke(xy),Ny=ke(ky),qy=ke(_y),zy=ke(Sy),Fy=ke(Ey),Ky=ke(By),Dy=ke(h.number()),Wy=er(h.type({total:h.number(),circulating:h.number(),nonCirculating:h.number(),nonCirculatingAccounts:h.array(Ze)})),_u=h.type({amount:h.string(),uiAmount:h.nullable(h.number()),decimals:h.number(),uiAmountString:h.optional(h.string())}),Hy=er(h.array(h.type({address:Ze,amount:h.string(),uiAmount:h.nullable(h.number()),decimals:h.number(),uiAmountString:h.optional(h.string())}))),$y=er(h.array(h.type({pubkey:Ze,account:h.type({executable:h.boolean(),owner:Ze,lamports:h.number(),data:Uu,rentEpoch:h.number()})}))),ku=h.type({program:h.string(),parsed:h.unknown(),space:h.number()}),Vy=er(h.array(h.type({pubkey:Ze,account:h.type({executable:h.boolean(),owner:Ze,lamports:h.number(),data:ku,rentEpoch:h.number()})}))),jy=er(h.array(h.type({lamports:h.number(),address:Ze}))),ss=h.type({executable:h.boolean(),owner:Ze,lamports:h.number(),data:Uu,rentEpoch:h.number()}),Yy=h.type({pubkey:Ze,account:ss}),Gy=h.coerce(h.union([h.instance(te.Buffer),ku]),h.union([x0,ku]),r=>Array.isArray(r)?h.create(r,Uu):r),Su=h.type({executable:h.boolean(),owner:Ze,lamports:h.number(),data:Gy,rentEpoch:h.number()}),Zy=h.type({pubkey:Ze,account:Su}),Xy=h.type({state:h.union([h.literal("active"),h.literal("inactive"),h.literal("activating"),h.literal("deactivating")]),active:h.number(),inactive:h.number()}),Jy=ke(h.array(h.type({signature:h.string(),slot:h.number(),err:ii,memo:h.nullable(h.string()),blockTime:h.optional(h.nullable(h.number()))}))),Qy=ke(h.array(h.type({signature:h.string(),slot:h.number(),err:ii,memo:h.nullable(h.string()),blockTime:h.optional(h.nullable(h.number()))}))),tg=h.type({subscription:h.number(),result:Lo(ss)}),eg=h.type({pubkey:Ze,account:ss}),rg=h.type({subscription:h.number(),result:Lo(eg)}),ng=h.type({parent:h.number(),slot:h.number(),root:h.number()}),ig=h.type({subscription:h.number(),result:ng}),sg=h.union([h.type({type:h.union([h.literal("firstShredReceived"),h.literal("completed"),h.literal("optimisticConfirmation"),h.literal("root")]),slot:h.number(),timestamp:h.number()}),h.type({type:h.literal("createdBank"),parent:h.number(),slot:h.number(),timestamp:h.number()}),h.type({type:h.literal("frozen"),slot:h.number(),timestamp:h.number(),stats:h.type({numTransactionEntries:h.number(),numSuccessfulTransactions:h.number(),numFailedTransactions:h.number(),maxTransactionsPerEntry:h.number()})}),h.type({type:h.literal("dead"),slot:h.number(),timestamp:h.number(),err:h.string()})]),og=h.type({subscription:h.number(),result:sg}),ag=h.type({subscription:h.number(),result:Lo(h.union([Ay,Iy]))}),ug=h.type({subscription:h.number(),result:h.number()}),cg=h.type({pubkey:h.string(),gossip:h.nullable(h.string()),tpu:h.nullable(h.string()),rpc:h.nullable(h.string()),version:h.nullable(h.string())}),r0=h.type({votePubkey:h.string(),nodePubkey:h.string(),activatedStake:h.number(),epochVoteAccount:h.boolean(),epochCredits:h.array(h.tuple([h.number(),h.number(),h.number()])),commission:h.number(),lastVote:h.number(),rootSlot:h.nullable(h.number())}),fg=ke(h.type({current:h.array(r0),delinquent:h.array(r0)})),hg=h.union([h.literal("processed"),h.literal("confirmed"),h.literal("finalized")]),lg=h.type({slot:h.number(),confirmations:h.nullable(h.number()),err:ii,confirmationStatus:h.optional(hg)}),dg=er(h.array(h.nullable(lg))),pg=ke(h.number()),k0=h.type({accountKey:Ze,writableIndexes:h.array(h.number()),readonlyIndexes:h.array(h.number())}),Nu=h.type({signatures:h.array(h.string()),message:h.type({accountKeys:h.array(h.string()),header:h.type({numRequiredSignatures:h.number(),numReadonlySignedAccounts:h.number(),numReadonlyUnsignedAccounts:h.number()}),instructions:h.array(h.type({accounts:h.array(h.number()),data:h.string(),programIdIndex:h.number()})),recentBlockhash:h.string(),addressTableLookups:h.optional(h.array(k0))})}),S0=h.type({pubkey:Ze,signer:h.boolean(),writable:h.boolean(),source:h.optional(h.union([h.literal("transaction"),h.literal("lookupTable")]))}),E0=h.type({accountKeys:h.array(S0),signatures:h.array(h.string())}),B0=h.type({parsed:h.unknown(),program:h.string(),programId:Ze}),A0=h.type({accounts:h.array(Ze),data:h.string(),programId:Ze}),yg=h.union([A0,B0]),gg=h.union([h.type({parsed:h.unknown(),program:h.string(),programId:h.string()}),h.type({accounts:h.array(h.string()),data:h.string(),programId:h.string()})]),I0=h.coerce(yg,gg,r=>"accounts"in r?h.create(r,A0):h.create(r,B0)),M0=h.type({signatures:h.array(h.string()),message:h.type({accountKeys:h.array(S0),instructions:h.array(I0),recentBlockhash:h.string(),addressTableLookups:h.optional(h.nullable(h.array(k0)))})}),Eo=h.type({accountIndex:h.number(),mint:h.string(),owner:h.optional(h.string()),uiTokenAmount:_u}),R0=h.type({writable:h.array(Ze),readonly:h.array(Ze)}),Po=h.type({err:ii,fee:h.number(),innerInstructions:h.optional(h.nullable(h.array(h.type({index:h.number(),instructions:h.array(h.type({accounts:h.array(h.number()),data:h.string(),programIdIndex:h.number()}))})))),preBalances:h.array(h.number()),postBalances:h.array(h.number()),logMessages:h.optional(h.nullable(h.array(h.string()))),preTokenBalances:h.optional(h.nullable(h.array(Eo))),postTokenBalances:h.optional(h.nullable(h.array(Eo))),loadedAddresses:h.optional(R0),computeUnitsConsumed:h.optional(h.number())}),qu=h.type({err:ii,fee:h.number(),innerInstructions:h.optional(h.nullable(h.array(h.type({index:h.number(),instructions:h.array(I0)})))),preBalances:h.array(h.number()),postBalances:h.array(h.number()),logMessages:h.optional(h.nullable(h.array(h.string()))),preTokenBalances:h.optional(h.nullable(h.array(Eo))),postTokenBalances:h.optional(h.nullable(h.array(Eo))),loadedAddresses:h.optional(R0),computeUnitsConsumed:h.optional(h.number())}),Ai=h.union([h.literal(0),h.literal("legacy")]),si=h.type({pubkey:h.string(),lamports:h.number(),postBalance:h.nullable(h.number()),rewardType:h.nullable(h.string()),commission:h.optional(h.nullable(h.number()))}),mg=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),transactions:h.array(h.type({transaction:Nu,meta:h.nullable(Po),version:h.optional(Ai)})),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number()),blockHeight:h.nullable(h.number())}))),bg=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number()),blockHeight:h.nullable(h.number())}))),wg=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),transactions:h.array(h.type({transaction:E0,meta:h.nullable(Po),version:h.optional(Ai)})),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number()),blockHeight:h.nullable(h.number())}))),xg=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),transactions:h.array(h.type({transaction:M0,meta:h.nullable(qu),version:h.optional(Ai)})),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number()),blockHeight:h.nullable(h.number())}))),vg=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),transactions:h.array(h.type({transaction:E0,meta:h.nullable(qu),version:h.optional(Ai)})),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number()),blockHeight:h.nullable(h.number())}))),_g=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number()),blockHeight:h.nullable(h.number())}))),kg=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),transactions:h.array(h.type({transaction:Nu,meta:h.nullable(Po)})),rewards:h.optional(h.array(si)),blockTime:h.nullable(h.number())}))),n0=ke(h.nullable(h.type({blockhash:h.string(),previousBlockhash:h.string(),parentSlot:h.number(),signatures:h.array(h.string()),blockTime:h.nullable(h.number())}))),cu=ke(h.nullable(h.type({slot:h.number(),meta:h.nullable(Po),blockTime:h.optional(h.nullable(h.number())),transaction:Nu,version:h.optional(Ai)}))),bo=ke(h.nullable(h.type({slot:h.number(),transaction:M0,meta:h.nullable(qu),blockTime:h.optional(h.nullable(h.number())),version:h.optional(Ai)}))),Sg=er(h.type({blockhash:h.string(),feeCalculator:h.type({lamportsPerSignature:h.number()})})),Eg=er(h.type({blockhash:h.string(),lastValidBlockHeight:h.number()})),Bg=er(h.boolean()),Ag=h.type({slot:h.number(),numTransactions:h.number(),numSlots:h.number(),samplePeriodSecs:h.number()}),Ig=ke(h.array(Ag)),Mg=er(h.nullable(h.type({feeCalculator:h.type({lamportsPerSignature:h.number()})}))),Rg=ke(h.string()),Tg=ke(h.string()),Lg=h.type({err:ii,logs:h.array(h.string()),signature:h.string()}),Pg=h.type({result:Lo(Lg),subscription:h.number()}),Cg={"solana-client":"js/0.0.0-development"},Eu=class{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let E={};return async A=>{let{commitment:I,config:K}=$e(A),T=this._buildArgs([],I,void 0,K),N=Jh(T);return E[N]=E[N]??(async()=>{try{let R=await this._rpcRequest("getBlockHeight",T),O=h.create(R,ke(h.number()));if("error"in O)throw new Ct(O.error,"failed to get block height information");return O.result}finally{delete E[N]}})(),await E[N]}})();let n,i,o,u,y,m;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,i=e.httpHeaders,o=e.fetch,u=e.fetchMiddleware,y=e.disableRetryOnRateLimit,m=e.httpAgent),this._rpcEndpoint=by(t),this._rpcWsEndpoint=n||my(t),this._rpcClient=Py(t,i,o,u,y,m),this._rpcRequest=Cy(this._rpcClient),this._rpcBatchRequest=Oy(this._rpcClient),this._rpcWebSocket=new vu(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgs([t.toBase58()],n,void 0,i),u=await this._rpcRequest("getBalance",o),y=h.create(u,er(h.number()));if("error"in y)throw new Ct(y.error,`failed to get balance for ${t.toBase58()}`);return y.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){let e=await this._rpcRequest("getBlockTime",[t]),n=h.create(e,ke(h.nullable(h.number())));if("error"in n)throw new Ct(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){let t=await this._rpcRequest("minimumLedgerSlot",[]),e=h.create(t,ke(h.number()));if("error"in e)throw new Ct(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){let t=await this._rpcRequest("getFirstAvailableBlock",[]),e=h.create(t,Dy);if("error"in e)throw new Ct(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[e]),i=h.create(n,Wy);if("error"in i)throw new Ct(i.error,"failed to get supply");return i.result}async getTokenSupply(t,e){let n=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest("getTokenSupply",n),o=h.create(i,er(_u));if("error"in o)throw new Ct(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,e){let n=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest("getTokenAccountBalance",n),o=h.create(i,er(_u));if("error"in o)throw new Ct(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,e,n){let{commitment:i,config:o}=$e(n),u=[t.toBase58()];"mint"in e?u.push({mint:e.mint.toBase58()}):u.push({programId:e.programId.toBase58()});let y=this._buildArgs(u,i,"base64",o),m=await this._rpcRequest("getTokenAccountsByOwner",y),E=h.create(m,$y);if("error"in E)throw new Ct(E.error,`failed to get token accounts owned by account ${t.toBase58()}`);return E.result}async getParsedTokenAccountsByOwner(t,e,n){let i=[t.toBase58()];"mint"in e?i.push({mint:e.mint.toBase58()}):i.push({programId:e.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",o),y=h.create(u,Vy);if("error"in y)throw new Ct(y.error,`failed to get token accounts owned by account ${t.toBase58()}`);return y.result}async getLargestAccounts(t){let e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],i=await this._rpcRequest("getLargestAccounts",n),o=h.create(i,jy);if("error"in o)throw new Ct(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,e){let n=this._buildArgs([t.toBase58()],e),i=await this._rpcRequest("getTokenLargestAccounts",n),o=h.create(i,Hy);if("error"in o)throw new Ct(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgs([t.toBase58()],n,"base64",i),u=await this._rpcRequest("getAccountInfo",o),y=h.create(u,er(h.nullable(ss)));if("error"in y)throw new Ct(y.error,`failed to get info about account ${t.toBase58()}`);return y.result}async getParsedAccountInfo(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),u=await this._rpcRequest("getAccountInfo",o),y=h.create(u,er(h.nullable(Su)));if("error"in y)throw new Ct(y.error,`failed to get info about account ${t.toBase58()}`);return y.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){let{commitment:n,config:i}=$e(e),o=t.map(E=>E.toBase58()),u=this._buildArgs([o],n,"jsonParsed",i),y=await this._rpcRequest("getMultipleAccounts",u),m=h.create(y,er(h.array(h.nullable(Su))));if("error"in m)throw new Ct(m.error,`failed to get info for accounts ${o}`);return m.result}async getMultipleAccountsInfoAndContext(t,e){let{commitment:n,config:i}=$e(e),o=t.map(E=>E.toBase58()),u=this._buildArgs([o],n,"base64",i),y=await this._rpcRequest("getMultipleAccounts",u),m=h.create(y,er(h.array(h.nullable(ss))));if("error"in m)throw new Ct(m.error,`failed to get info for accounts ${o}`);return m.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){let{commitment:i,config:o}=$e(e),u=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),y=await this._rpcRequest("getStakeActivation",u),m=h.create(y,ke(Xy));if("error"in m)throw new Ct(m.error,`failed to get Stake Activation ${t.toBase58()}`);return m.result}async getProgramAccounts(t,e){let{commitment:n,config:i}=$e(e),{encoding:o,...u}=i||{},y=this._buildArgs([t.toBase58()],n,o||"base64",{...u,...u.filters?{filters:t0(u.filters)}:null}),m=await this._rpcRequest("getProgramAccounts",y),E=h.array(Yy),A=u.withContext===!0?h.create(m,er(E)):h.create(m,ke(E));if("error"in A)throw new Ct(A.error,`failed to get accounts owned by program ${t.toBase58()}`);return A.result}async getParsedProgramAccounts(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),u=await this._rpcRequest("getProgramAccounts",o),y=h.create(u,ke(h.array(Zy)));if("error"in y)throw new Ct(y.error,`failed to get accounts owned by program ${t.toBase58()}`);return y.result}async confirmTransaction(t,e){let n;if(typeof t=="string")n=t;else{let o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=dr.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Ce(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,i,o=!1,u=new Promise((m,E)=>{try{n=this.onSignature(e,(I,K)=>{n=void 0;let T={context:K,value:I};m({__type:xn.PROCESSED,response:T})},t);let A=new Promise(I=>{n==null?I():i=this._onSubscriptionStateChange(n,K=>{K==="subscribed"&&I()})});(async()=>{if(await A,o)return;let I=await this.getSignatureStatus(e);if(o||I==null)return;let{context:K,value:T}=I;if(T!=null)if(T?.err)E(T.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,m({__type:xn.PROCESSED,response:{context:K,value:T}})}})()}catch(A){E(A)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:i}}){let o=!1,u=new Promise(I=>{let K=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let T=await K();if(!o){for(;T<=n;)if(await Qn(1e3),o||(T=await K(),o))return;I({__type:xn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:y,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),E=this.getCancellationPromise(e),A;try{let I=await Promise.race([E,m,u]);if(I.__type===xn.PROCESSED)A=I.response;else throw new rs(i)}finally{o=!0,y()}return A}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:u}}){let y=!1,m=new Promise(T=>{let N=o,R=null,O=async()=>{try{let{context:F,value:Y}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return R=F.slot,Y?.nonce}catch{return N}};(async()=>{if(N=await O(),!y)for(;;){if(o!==N){T({__type:xn.NONCE_INVALID,slotInWhichNonceDidAdvance:R});return}if(await Qn(2e3),y||(N=await O(),y))return}})()}),{abortConfirmation:E,confirmationPromise:A}=this.getTransactionConfirmationPromise({commitment:t,signature:u}),I=this.getCancellationPromise(e),K;try{let T=await Promise.race([I,A,m]);if(T.__type===xn.PROCESSED)K=T.response;else{let N;for(;;){let R=await this.getSignatureStatus(u);if(R==null)break;if(R.context.slot<(T.slotInWhichNonceDidAdvance??n)){await Qn(400);continue}N=R;break}if(N?.value){let R=t||"finalized",{confirmationStatus:O}=N.value;switch(R){case"processed":case"recent":if(O!=="processed"&&O!=="confirmed"&&O!=="finalized")throw new Kn(u);break;case"confirmed":case"single":case"singleGossip":if(O!=="confirmed"&&O!=="finalized")throw new Kn(u);break;case"finalized":case"max":case"root":if(O!=="finalized")throw new Kn(u);break;default:}K={context:N.context,value:{err:N.value.err}}}else throw new Kn(u)}}finally{y=!0,E()}return K}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n,i=new Promise(m=>{let E=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{E=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>m({__type:xn.TIMED_OUT,timeoutMs:E}),E)}),{abortConfirmation:o,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:e}),y;try{let m=await Promise.race([u,i]);if(m.__type===xn.PROCESSED)y=m.response;else throw new ns(e,m.timeoutMs/1e3)}finally{clearTimeout(n),o()}return y}async getClusterNodes(){let t=await this._rpcRequest("getClusterNodes",[]),e=h.create(t,ke(h.array(cg)));if("error"in e)throw new Ct(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){let e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),i=h.create(n,fg);if("error"in i)throw new Ct(i.error,"failed to get vote accounts");return i.result}async getSlot(t){let{commitment:e,config:n}=$e(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getSlot",i),u=h.create(o,ke(h.number()));if("error"in u)throw new Ct(u.error,"failed to get slot");return u.result}async getSlotLeader(t){let{commitment:e,config:n}=$e(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getSlotLeader",i),u=h.create(o,ke(h.string()));if("error"in u)throw new Ct(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(t,e){let n=[t,e],i=await this._rpcRequest("getSlotLeaders",n),o=h.create(i,ke(h.array(Ze)));if("error"in o)throw new Ct(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,e){let{context:n,value:i}=await this.getSignatureStatuses([t],e);Ce(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(t,e){let n=[t];e&&n.push(e);let i=await this._rpcRequest("getSignatureStatuses",n),o=h.create(i,dg);if("error"in o)throw new Ct(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){let{commitment:e,config:n}=$e(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getTransactionCount",i),u=h.create(o,ke(h.number()));if("error"in u)throw new Ct(u.error,"failed to get transaction count");return u.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){let e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),i=h.create(n,Uy);if("error"in i)throw new Ct(i.error,"failed to get inflation");return i.result}async getInflationReward(t,e,n){let{commitment:i,config:o}=$e(n),u=this._buildArgs([t.map(E=>E.toBase58())],i,void 0,{...o,epoch:e??o?.epoch}),y=await this._rpcRequest("getInflationReward",u),m=h.create(y,vy);if("error"in m)throw new Ct(m.error,"failed to get inflation reward");return m.result}async getInflationRate(){let t=await this._rpcRequest("getInflationRate",[]),e=h.create(t,Ny);if("error"in e)throw new Ct(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){let{commitment:e,config:n}=$e(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getEpochInfo",i),u=h.create(o,zy);if("error"in u)throw new Ct(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){let t=await this._rpcRequest("getEpochSchedule",[]),e=h.create(t,Fy);if("error"in e)throw new Ct(e.error,"failed to get epoch schedule");let n=e.result;return new So(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let t=await this._rpcRequest("getLeaderSchedule",[]),e=h.create(t,Ky);if("error"in e)throw new Ct(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){let n=this._buildArgs([t],e),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=h.create(i,pg);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){let e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),i=h.create(n,Sg);if("error"in i)throw new Ct(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){let e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=h.create(e,Ig);if("error"in n)throw new Ct(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){let n=this._buildArgs([t],e),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=h.create(i,Mg);if("error"in o)throw new Ct(o.error,"failed to get fee calculator");let{context:u,value:y}=o.result;return{context:u,value:y!==null?y.feeCalculator:null}}async getFeeForMessage(t,e){let n=Se(t.serialize()).toString("base64"),i=this._buildArgs([n],e),o=await this._rpcRequest("getFeeForMessage",i),u=h.create(o,er(h.nullable(h.number())));if("error"in u)throw new Ct(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(t){let e=t?.lockedWritableAccounts?.map(u=>u.toBase58()),n=e?.length?[e]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),o=h.create(i,qy);if("error"in o)throw new Ct(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){let{commitment:e,config:n}=$e(t),i=this._buildArgs([],e,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),u=h.create(o,Eg);if("error"in u)throw new Ct(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgs([t],n,void 0,i),u=await this._rpcRequest("isBlockhashValid",o),y=h.create(u,Bg);if("error"in y)throw new Ct(y.error,"failed to determine if the blockhash `"+t+"`is valid");return y.result}async getVersion(){let t=await this._rpcRequest("getVersion",[]),e=h.create(t,ke(My));if("error"in e)throw new Ct(e.error,"failed to get version");return e.result}async getGenesisHash(){let t=await this._rpcRequest("getGenesisHash",[]),e=h.create(t,ke(h.string()));if("error"in e)throw new Ct(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),u=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let y=h.create(u,wg);if("error"in y)throw y.error;return y.result}case"none":{let y=h.create(u,bg);if("error"in y)throw y.error;return y.result}default:{let y=h.create(u,mg);if("error"in y)throw y.error;let{result:m}=y;return m?{...m,transactions:m.transactions.map(({transaction:E,meta:A,version:I})=>({meta:A,transaction:{...E,message:uu(I,E.message)},version:I}))}:null}}}catch(y){throw new Ct(y,"failed to get confirmed block")}}async getParsedBlock(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),u=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let y=h.create(u,vg);if("error"in y)throw y.error;return y.result}case"none":{let y=h.create(u,_g);if("error"in y)throw y.error;return y.result}default:{let y=h.create(u,xg);if("error"in y)throw y.error;return y.result}}}catch(y){throw new Ct(y,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){let{commitment:y,...m}=t;n=y,e=m}let i=this._buildArgs([],n,"base64",e),o=await this._rpcRequest("getBlockProduction",i),u=h.create(o,Ly);if("error"in u)throw new Ct(u.error,"failed to get block production information");return u.result}async getTransaction(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),u=await this._rpcRequest("getTransaction",o),y=h.create(u,cu);if("error"in y)throw new Ct(y.error,"failed to get transaction");let m=y.result;return m&&{...m,transaction:{...m.transaction,message:uu(m.version,m.transaction.message)}}}async getParsedTransaction(t,e){let{commitment:n,config:i}=$e(e),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),u=await this._rpcRequest("getTransaction",o),y=h.create(u,bo);if("error"in y)throw new Ct(y.error,"failed to get transaction");return y.result}async getParsedTransactions(t,e){let{commitment:n,config:i}=$e(e),o=t.map(m=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([m],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(m=>{let E=h.create(m,bo);if("error"in E)throw new Ct(E.error,"failed to get transactions");return E.result})}async getTransactions(t,e){let{commitment:n,config:i}=$e(e),o=t.map(m=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([m],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(m=>{let E=h.create(m,cu);if("error"in E)throw new Ct(E.error,"failed to get transactions");let A=E.result;return A&&{...A,transaction:{...A.transaction,message:uu(A.version,A.transaction.message)}}})}async getConfirmedBlock(t,e){let n=this._buildArgsAtLeastConfirmed([t],e),i=await this._rpcRequest("getConfirmedBlock",n),o=h.create(i,kg);if("error"in o)throw new Ct(o.error,"failed to get confirmed block");let u=o.result;if(!u)throw new Error("Confirmed block "+t+" not found");let y={...u,transactions:u.transactions.map(({transaction:m,meta:E})=>{let A=new fn(m.message);return{meta:E,transaction:{...m,message:A}}})};return{...y,transactions:y.transactions.map(({transaction:m,meta:E})=>({meta:E,transaction:qe.populate(m.message,m.signatures)}))}}async getBlocks(t,e,n){let i=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),o=await this._rpcRequest("getBlocks",i),u=h.create(o,ke(h.array(h.number())));if("error"in u)throw new Ct(u.error,"failed to get blocks");return u.result}async getBlockSignatures(t,e){let n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=h.create(i,n0);if("error"in o)throw new Ct(o.error,"failed to get block");let u=o.result;if(!u)throw new Error("Block "+t+" not found");return u}async getConfirmedBlockSignatures(t,e){let n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=h.create(i,n0);if("error"in o)throw new Ct(o.error,"failed to get confirmed block");let u=o.result;if(!u)throw new Error("Confirmed block "+t+" not found");return u}async getConfirmedTransaction(t,e){let n=this._buildArgsAtLeastConfirmed([t],e),i=await this._rpcRequest("getConfirmedTransaction",n),o=h.create(i,cu);if("error"in o)throw new Ct(o.error,"failed to get transaction");let u=o.result;if(!u)return u;let y=new fn(u.transaction.message),m=u.transaction.signatures;return{...u,transaction:qe.populate(y,m)}}async getParsedConfirmedTransaction(t,e){let n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=h.create(i,bo);if("error"in o)throw new Ct(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,e){let n=t.map(u=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([u],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(u=>{let y=h.create(u,bo);if("error"in y)throw new Ct(y.error,"failed to get confirmed transactions");return y.result})}async getConfirmedSignaturesForAddress(t,e,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(e--,!(e<=0||e<o));)try{let m=await this.getConfirmedBlockSignatures(e,"finalized");m.signatures.length>0&&(i.until=m.signatures[m.signatures.length-1].toString())}catch(m){if(m instanceof Error&&m.message.includes("skipped"))continue;throw m}let u=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>u));)try{let m=await this.getConfirmedBlockSignatures(n);m.signatures.length>0&&(i.before=m.signatures[m.signatures.length-1].toString())}catch(m){if(m instanceof Error&&m.message.includes("skipped"))continue;throw m}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(m=>m.signature)}async getConfirmedSignaturesForAddress2(t,e,n){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),u=h.create(o,Jy);if("error"in u)throw new Ct(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(t,e,n){let i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),o=await this._rpcRequest("getSignaturesForAddress",i),u=h.create(o,Qy);if("error"in u)throw new Ct(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(t,e){let{context:n,value:i}=await this.getAccountInfoAndContext(t,e),o=null;return i!==null&&(o=new is({key:t,state:is.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(t,e){let{context:n,value:i}=await this.getAccountInfoAndContext(t,e),o=null;return i!==null&&(o=ko.fromAccountData(i.data)),{context:n,value:o}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){let n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),i=h.create(n,Rg);if("error"in i)throw new Ct(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Qn(100);let n=Date.now()-this._blockhashInfo.lastFetch>=v0;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Qn(m0/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){let{commitment:e,config:n}=$e(t),i=this._buildArgs([],e,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),u=h.create(o,er(h.number()));if("error"in u)throw new Ct(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(t,e,n){if("message"in t){let R=t.serialize(),O=te.Buffer.from(R).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");let F=e||{};F.encoding="base64","commitment"in F||(F.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(F.innerInstructions=e.innerInstructions);let Y=[O,F],W=await this._rpcRequest("simulateTransaction",Y),J=h.create(W,e0);if("error"in J)throw new Error("failed to simulate transaction: "+J.error.message);return J.result}let i;if(t instanceof qe){let N=t;i=new qe,i.feePayer=N.feePayer,i.instructions=t.instructions,i.nonceInfo=N.nonceInfo,i.signatures=N.signatures}else i=qe.populate(t),i._message=i._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");let o=e;if(i.nonceInfo&&o)i.sign(...o);else{let N=this._disableBlockhashCaching;for(;;){let R=await this._blockhashWithExpiryBlockHeight(N);if(i.lastValidBlockHeight=R.lastValidBlockHeight,i.recentBlockhash=R.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let O=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(O)&&!this._blockhashInfo.transactionSignatures.includes(O)){this._blockhashInfo.simulatedSignatures.push(O);break}else N=!0}}let u=i._compile(),y=u.serialize(),E=i._serialize(y).toString("base64"),A={encoding:"base64",commitment:this.commitment};if(n){let N=(Array.isArray(n)?n:u.nonProgramIds()).map(R=>R.toBase58());A.accounts={encoding:"base64",addresses:N}}o&&(A.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(A.innerInstructions=e.innerInstructions);let I=[E,A],K=await this._rpcRequest("simulateTransaction",I),T=h.create(K,e0);if("error"in T){let N;if("data"in T.error&&(N=T.error.data.logs,N&&Array.isArray(N))){let R=`\n    `,O=R+N.join(R);console.error(T.error.message,O)}throw new ri({action:"simulate",signature:"",transactionMessage:T.error.message,logs:N})}return T.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");let u=t.serialize();return await this.sendRawTransaction(u,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");let i=e;if(t.nonceInfo)t.sign(...i);else{let u=this._disableBlockhashCaching;for(;;){let y=await this._blockhashWithExpiryBlockHeight(u);if(t.lastValidBlockHeight=y.lastValidBlockHeight,t.recentBlockhash=y.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");let m=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(m))u=!0;else{this._blockhashInfo.transactionSignatures.push(m);break}}}let o=t.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(t,e){let n=Se(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){let n={encoding:"base64"},i=e&&e.skipPreflight,o=i===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let u=[t,n],y=await this._rpcRequest("sendTransaction",u),m=h.create(y,Tg);if("error"in m){let E;throw"data"in m.error&&(E=m.error.data.logs),new ri({action:i?"send":"simulate",signature:"",transactionMessage:m.error.message,logs:E})}return m.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){let n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){let i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){let n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(e),()=>{i.delete(e),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:u}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let y=await this._rpcWebSocket.call(u,o);this._setSubscription(n,{...i,serverSubscriptionId:y,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[y]=i.callbacks,await this._updateSubscriptions()}catch(y){if(y instanceof Error&&console.error(`${u} error for argument`,o,y.message),!e())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:u}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[o])}catch(y){if(y instanceof Error&&console.error(`${u} error:`,y.message),!e())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){let n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...e)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){let{result:e,subscription:n}=h.create(t,tg);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){let n=this._nextClientSubscriptionId++,i=Jh([t.method,e]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let u=this._subscriptionsByHash[i];Ce(u!==void 0,`Could not find a \\`Subscription\\` when tearing down client subscription #${n}`),u.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){let{commitment:i,config:o}=$e(n),u=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){let{result:e,subscription:n}=h.create(t,rg);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,i){let{commitment:o,config:u}=$e(n),y=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",u||(i?{filters:t0(i)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},y)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){let i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){let{result:e,subscription:n}=h.create(t,Pg);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){let{result:e,subscription:n}=h.create(t,ig);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){let{result:e,subscription:n}=h.create(t,og);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \\`${t}\\` for \'${e}\' events could not be found.`)}_buildArgs(t,e,n,i){let o=e||this._commitment;if(o||n||i){let u={};n&&(u.encoding=n),o&&(u.commitment=o),i&&(u=Object.assign(u,i)),t.push(u)}return t}_buildArgsAtLeastConfirmed(t,e,n,i){let o=e||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,i)}_wsOnSignatureNotification(t){let{result:e,subscription:n}=h.create(t,ag);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){let i=this._buildArgs([t],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(u,y)=>{if(u.type==="status"){e(u.result,y);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,e,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},u=this._buildArgs([t],i,void 0,o),y=this._makeSubscription({callback:(m,E)=>{e(m,E);try{this.removeSignatureListener(y)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return y}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){let{result:e,subscription:n}=h.create(t,ug);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}},Bo=class r{constructor(t){this._keypair=void 0,this._keypair=t??Gh()}static generate(){return new r(Gh())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");let n=t.slice(32,64);if(!e||!e.skipValidation){let i=t.slice(0,32),o=vo(i);for(let u=0;u<32;u++)if(n[u]!==o[u])throw new Error("provided secretKey is invalid")}return new r({publicKey:n,secretKey:t})}static fromSeed(t){let e=vo(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new r({publicKey:e,secretKey:n})}get publicKey(){return new _t(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},vn=Object.freeze({CreateLookupTable:{index:0,layout:L.struct([L.u32("instruction"),_i("recentSlot"),L.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:L.struct([L.u32("instruction")])},ExtendLookupTable:{index:2,layout:L.struct([L.u32("instruction"),_i(),L.seq(Be(),L.offset(L.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:L.struct([L.u32("instruction")])},CloseLookupTable:{index:4,layout:L.struct([L.u32("instruction")])}}),Bu=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=L.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(vn))if(u.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);let{recentSlot:e}=Ne(vn.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);let{addresses:e}=Ne(vn.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map(n=>new _t(n))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(os.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},os=class{constructor(){}static createLookupTable(t){let[e,n]=_t.findProgramAddressSync([t.authority.toBuffer(),lu.toBufferLE(BigInt(t.recentSlot),8)],this.programId),i=vn.CreateLookupTable,o=Re(i,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:pr.programId,isSigner:!1,isWritable:!1}];return[new Fe({programId:this.programId,keys:u,data:o}),e]}static freezeLookupTable(t){let e=vn.FreezeLookupTable,n=Re(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Fe({programId:this.programId,keys:i,data:n})}static extendLookupTable(t){let e=vn.ExtendLookupTable,n=Re(e,{addresses:t.addresses.map(o=>o.toBytes())}),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&i.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:pr.programId,isSigner:!1,isWritable:!1}),new Fe({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(t){let e=vn.DeactivateLookupTable,n=Re(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Fe({programId:this.programId,keys:i,data:n})}static closeLookupTable(t){let e=vn.CloseLookupTable,n=Re(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Fe({programId:this.programId,keys:i,data:n})}};os.programId=new _t("AddressLookupTab1e1111111111111111111111111");var Au=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=L.u8("instruction").decode(t.data),i;for(let[o,u]of Object.entries(an))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(t){this.checkProgramId(t.programId);let{units:e,additionalFee:n}=Ne(an.RequestUnits,t.data);return{units:e,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);let{bytes:e}=Ne(an.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);let{units:e}=Ne(an.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);let{microLamports:e}=Ne(an.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(as.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},an=Object.freeze({RequestUnits:{index:0,layout:L.struct([L.u8("instruction"),L.u32("units"),L.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:L.struct([L.u8("instruction"),L.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:L.struct([L.u8("instruction"),L.u32("units")])},SetComputeUnitPrice:{index:3,layout:L.struct([L.u8("instruction"),_i("microLamports")])}}),as=class{constructor(){}static requestUnits(t){let e=an.RequestUnits,n=Re(e,t);return new Fe({keys:[],programId:this.programId,data:n})}static requestHeapFrame(t){let e=an.RequestHeapFrame,n=Re(e,t);return new Fe({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(t){let e=an.SetComputeUnitLimit,n=Re(e,t);return new Fe({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(t){let e=an.SetComputeUnitPrice,n=Re(e,{microLamports:BigInt(t.microLamports)});return new Fe({keys:[],programId:this.programId,data:n})}};as.programId=new _t("ComputeBudget111111111111111111111111111111");var i0=64,s0=32,o0=64,a0=L.struct([L.u8("numSignatures"),L.u8("padding"),L.u16("signatureOffset"),L.u16("signatureInstructionIndex"),L.u16("publicKeyOffset"),L.u16("publicKeyInstructionIndex"),L.u16("messageDataOffset"),L.u16("messageDataSize"),L.u16("messageInstructionIndex")]),Ao=class r{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,instructionIndex:o}=t;Ce(e.length===s0,`Public Key must be ${s0} bytes but received ${e.length} bytes`),Ce(i.length===o0,`Signature must be ${o0} bytes but received ${i.length} bytes`);let u=a0.span,y=u+e.length,m=y+i.length,E=1,A=te.Buffer.alloc(m+n.length),I=o??65535;return a0.encode({numSignatures:E,padding:0,signatureOffset:y,signatureInstructionIndex:I,publicKeyOffset:u,publicKeyInstructionIndex:I,messageDataOffset:m,messageDataSize:n.length,messageInstructionIndex:I},A),A.fill(e,u),A.fill(i,y),A.fill(n,m),new Fe({keys:[],programId:r.programId,data:A})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;Ce(e.length===i0,`Private key must be ${i0} bytes but received ${e.length} bytes`);try{let o=Bo.fromSecretKey(e),u=o.publicKey.toBytes(),y=Cu(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:u,message:n,signature:y,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Ao.programId=new _t("Ed25519SigVerify111111111111111111111111111");var Og=(r,t)=>{let e=Lu.secp256k1.sign(r,t);return[e.toCompactRawBytes(),e.recovery]};Lu.secp256k1.utils.isValidPrivateKey;var Ug=Lu.secp256k1.getPublicKey,u0=32,fu=20,c0=64,Ng=11,hu=L.struct([L.u8("numSignatures"),L.u16("signatureOffset"),L.u8("signatureInstructionIndex"),L.u16("ethAddressOffset"),L.u8("ethAddressInstructionIndex"),L.u16("messageDataOffset"),L.u16("messageDataSize"),L.u8("messageInstructionIndex"),L.blob(20,"ethAddress"),L.blob(64,"signature"),L.u8("recoveryId")]),Io=class r{constructor(){}static publicKeyToEthAddress(t){Ce(t.length===c0,`Public key must be ${c0} bytes but received ${t.length} bytes`);try{return te.Buffer.from(jh.keccak_256(Se(t))).slice(-fu)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,recoveryId:o,instructionIndex:u}=t;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(e),message:n,signature:i,recoveryId:o,instructionIndex:u})}static createInstructionWithEthAddress(t){let{ethAddress:e,message:n,signature:i,recoveryId:o,instructionIndex:u=0}=t,y;typeof e=="string"?e.startsWith("0x")?y=te.Buffer.from(e.substr(2),"hex"):y=te.Buffer.from(e,"hex"):y=e,Ce(y.length===fu,`Address must be ${fu} bytes but received ${y.length} bytes`);let m=1+Ng,E=m,A=m+y.length,I=A+i.length+1,K=1,T=te.Buffer.alloc(hu.span+n.length);return hu.encode({numSignatures:K,signatureOffset:A,signatureInstructionIndex:u,ethAddressOffset:E,ethAddressInstructionIndex:u,messageDataOffset:I,messageDataSize:n.length,messageInstructionIndex:u,signature:Se(i),ethAddress:Se(y),recoveryId:o},T),T.fill(Se(n),hu.span),new Fe({keys:[],programId:r.programId,data:T})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;Ce(e.length===u0,`Private key must be ${u0} bytes but received ${e.length} bytes`);try{let o=Se(e),u=Ug(o,!1).slice(1),y=te.Buffer.from(jh.keccak_256(Se(n))),[m,E]=Og(y,o);return this.createInstructionWithPublicKey({publicKey:u,message:n,signature:m,recoveryId:E,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Io.programId=new _t("KeccakSecp256k11111111111111111111111111111");var T0,L0=new _t("StakeConfig11111111111111111111111111111111"),Mo=class{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}},ni=class{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}};T0=ni;ni.default=new T0(0,0,_t.default);var Iu=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=L.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(ur))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e,lockup:n}=Ne(ur.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Mo(new _t(e.staker),new _t(e.withdrawer)),lockup:new ni(n.unixTimestamp,n.epoch,new _t(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Ne(ur.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:e,stakeAuthorizationType:n}=Ne(ur.Authorize,t.data),i={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new _t(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(i.custodianPubkey=t.keys[3].pubkey),i}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{newAuthorized:e,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Ne(ur.AuthorizeWithSeed,t.data),u={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:i,authorityOwner:new _t(o),newAuthorizedPubkey:new _t(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(u.custodianPubkey=t.keys[3].pubkey),u}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e}=Ne(ur.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ne(ur.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=Ne(ur.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ne(ur.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(Si.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},ur=Object.freeze({Initialize:{index:0,layout:L.struct([L.u32("instruction"),H1(),$1()])},Authorize:{index:1,layout:L.struct([L.u32("instruction"),Be("newAuthorized"),L.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:L.struct([L.u32("instruction")])},Split:{index:3,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},Withdraw:{index:4,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},Deactivate:{index:5,layout:L.struct([L.u32("instruction")])},Merge:{index:7,layout:L.struct([L.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:L.struct([L.u32("instruction"),Be("newAuthorized"),L.u32("stakeAuthorizationType"),ti("authoritySeed"),Be("authorityOwner")])}}),qg=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Si=class{constructor(){}static initialize(t){let{stakePubkey:e,authorized:n,lockup:i}=t,o=i||ni.default,u=ur.Initialize,y=Re(u,{authorized:{staker:Se(n.staker.toBuffer()),withdrawer:Se(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Se(o.custodian.toBuffer())}}),m={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:vi,isSigner:!1,isWritable:!1}],programId:this.programId,data:y};return new Fe(m)}static createAccountWithSeed(t){let e=new qe;e.add(pr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(t){let e=new qe;e.add(pr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:n,votePubkey:i}=t,o=ur.Delegate,u=Re(o);return new qe().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:xo,isSigner:!1,isWritable:!1},{pubkey:L0,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static authorize(t){let{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:u}=t,y=ur.Authorize,m=Re(y,{newAuthorized:Se(i.toBuffer()),stakeAuthorizationType:o.index}),E=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:sn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return u&&E.push({pubkey:u,isSigner:!0,isWritable:!1}),new qe().add({keys:E,programId:this.programId,data:m})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:u,stakeAuthorizationType:y,custodianPubkey:m}=t,E=ur.AuthorizeWithSeed,A=Re(E,{newAuthorized:Se(u.toBuffer()),stakeAuthorizationType:y.index,authoritySeed:i,authorityOwner:Se(o.toBuffer())}),I=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:sn,isSigner:!1,isWritable:!1}];return m&&I.push({pubkey:m,isSigner:!0,isWritable:!1}),new qe().add({keys:I,programId:this.programId,data:A})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=t,u=ur.Split,y=Re(u,{lamports:o});return new Fe({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:y})}static split(t,e){let n=new qe;return n.add(pr.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:u,seed:y,lamports:m}=t,E=new qe;return E.add(pr.allocate({accountPubkey:o,basePubkey:u,seed:y,space:this.space,programId:this.programId})),e&&e>0&&E.add(pr.transfer({fromPubkey:t.authorizedPubkey,toPubkey:o,lamports:e})),E.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:m}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:i}=t,o=ur.Merge,u=Re(o);return new qe().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:xo,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:u}=t,y=ur.Withdraw,m=Re(y,{lamports:o}),E=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:xo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return u&&E.push({pubkey:u,isSigner:!0,isWritable:!1}),new qe().add({keys:E,programId:this.programId,data:m})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:n}=t,i=ur.Deactivate,o=Re(i);return new qe().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Si.programId=new _t("Stake11111111111111111111111111111111111111");Si.space=200;var Ro=class{constructor(t,e,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=i}},Mu=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=L.u32("instruction").decode(t.data),i;for(let[o,u]of Object.entries(un))if(u.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);let{voteInit:e}=Ne(un.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Ro(new _t(e.nodePubkey),new _t(e.authorizedVoter),new _t(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{newAuthorized:e,voteAuthorizationType:n}=Ne(un.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new _t(e),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Ne(un.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new _t(e),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new _t(i),voteAuthorizationType:{index:o},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e}=Ne(un.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Ei.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},un=Object.freeze({InitializeAccount:{index:0,layout:L.struct([L.u32("instruction"),V1()])},Authorize:{index:1,layout:L.struct([L.u32("instruction"),Be("newAuthorized"),L.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:L.struct([L.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:L.struct([L.u32("instruction"),j1()])}}),zg=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),Ei=class r{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:n,voteInit:i}=t,o=un.InitializeAccount,u=Re(o,{voteInit:{nodePubkey:Se(i.nodePubkey.toBuffer()),authorizedVoter:Se(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Se(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),y={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:vi,isSigner:!1,isWritable:!1},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new Fe(y)}static createAccount(t){let e=new qe;return e.add(pr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=t,u=un.Authorize,y=Re(u,{newAuthorized:Se(i.toBuffer()),voteAuthorizationType:o.index}),m=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new qe().add({keys:m,programId:this.programId,data:y})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:u,votePubkey:y}=t,m=un.AuthorizeWithSeed,E=Re(m,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Se(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Se(o.toBuffer()),voteAuthorizationType:u.index}}),A=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:sn,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new qe().add({keys:A,programId:this.programId,data:E})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=t,u=un.Withdraw,y=Re(u,{lamports:i}),m=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new qe().add({keys:m,programId:this.programId,data:y})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return r.withdraw(t)}static updateValidatorIdentity(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,nodePubkey:i}=t,o=un.UpdateValidatorIdentity,u=Re(o),y=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new qe().add({keys:y,programId:this.programId,data:u})}};Ei.programId=new _t("Vote111111111111111111111111111111111111111");Ei.space=3762;var P0=new _t("Va1idator1nfo111111111111111111111111111111"),Fg=h.type({name:h.string(),website:h.optional(h.string()),details:h.optional(h.string()),iconUrl:h.optional(h.string()),keybaseUsername:h.optional(h.string())}),Ru=class r{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(Ur(e)!==2)return null;let i=[];for(let o=0;o<2;o++){let u=new _t(Nr(e,0,cn)),y=on(e)===1;i.push({publicKey:u,isSigner:y})}if(i[0].publicKey.equals(P0)&&i[1].isSigner){let o=ti().decode(te.Buffer.from(e)),u=JSON.parse(o);return h.assert(u,Fg),new r(i[1].publicKey,u)}return null}},Kg=new _t("Vote111111111111111111111111111111111111111"),Dg=L.struct([Be("nodePubkey"),Be("authorizedWithdrawer"),L.u8("commission"),L.nu64(),L.seq(L.struct([L.nu64("slot"),L.u32("confirmationCount")]),L.offset(L.u32(),-8),"votes"),L.u8("rootSlotValid"),L.nu64("rootSlot"),L.nu64(),L.seq(L.struct([L.nu64("epoch"),Be("authorizedVoter")]),L.offset(L.u32(),-8),"authorizedVoters"),L.struct([L.seq(L.struct([Be("authorizedPubkey"),L.nu64("epochOfLastAuthorizedSwitch"),L.nu64("targetEpoch")]),32,"buf"),L.nu64("idx"),L.u8("isEmpty")],"priorVoters"),L.nu64(),L.seq(L.struct([L.nu64("epoch"),L.nu64("credits"),L.nu64("prevCredits")]),L.offset(L.u32(),-8),"epochCredits"),L.struct([L.nu64("slot"),L.nu64("timestamp")],"lastTimestamp")]),Tu=class r{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){let n=Dg.decode(Se(t),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new r({nodePubkey:new _t(n.nodePubkey),authorizedWithdrawer:new _t(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Wg),priorVoters:Hg(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Wg({authorizedVoter:r,epoch:t}){return{epoch:t,authorizedVoter:new _t(r)}}function f0({authorizedPubkey:r,epochOfLastAuthorizedSwitch:t,targetEpoch:e}){return{authorizedPubkey:new _t(r),epochOfLastAuthorizedSwitch:t,targetEpoch:e}}function Hg({buf:r,idx:t,isEmpty:e}){return e?[]:[...r.slice(t+1).map(f0),...r.slice(0,t).map(f0)]}var h0={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function $g(r,t){let e=t===!1?"http":"https";if(!r)return h0[e].devnet;let n=h0[e][r];if(!n)throw new Error(`Unknown ${e} cluster: ${r}`);return n}async function Vg(r,t,e,n){let i,o;e&&Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")||e&&Object.prototype.hasOwnProperty.call(e,"nonceValue")?(i=e,o=n):o=e;let u=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},y=await r.sendRawTransaction(t,u),m=o&&o.commitment,A=(await(i?r.confirmTransaction(i,m):r.confirmTransaction(y,m))).value;if(A.err)throw y!=null?new ri({action:u?.skipPreflight?"send":"simulate",signature:y,transactionMessage:`Status: (${JSON.stringify(A)})`}):new Error(`Raw transaction ${y} failed (${JSON.stringify(A)})`);return y}var jg=1e9;kt.Account=pu;kt.AddressLookupTableAccount=is;kt.AddressLookupTableInstruction=Bu;kt.AddressLookupTableProgram=os;kt.Authorized=Mo;kt.BLOCKHASH_CACHE_TIMEOUT_MS=v0;kt.BPF_LOADER_DEPRECATED_PROGRAM_ID=D1;kt.BPF_LOADER_PROGRAM_ID=ay;kt.BpfLoader=xu;kt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=an;kt.ComputeBudgetInstruction=Au;kt.ComputeBudgetProgram=as;kt.Connection=Eu;kt.Ed25519Program=Ao;kt.Enum=du;kt.EpochSchedule=So;kt.FeeCalculatorLayout=b0;kt.Keypair=Bo;kt.LAMPORTS_PER_SOL=jg;kt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=vn;kt.Loader=ki;kt.Lockup=ni;kt.MAX_SEED_LENGTH=p0;kt.Message=fn;kt.MessageAccountKeys=ei;kt.MessageV0=xi;kt.NONCE_ACCOUNT_LENGTH=bu;kt.NonceAccount=ko;kt.PACKET_DATA_SIZE=Dn;kt.PUBLIC_KEY_LENGTH=cn;kt.PublicKey=_t;kt.SIGNATURE_LENGTH_IN_BYTES=es;kt.SOLANA_SCHEMA=Qi;kt.STAKE_CONFIG_ID=L0;kt.STAKE_INSTRUCTION_LAYOUTS=ur;kt.SYSTEM_INSTRUCTION_LAYOUTS=Ve;kt.SYSVAR_CLOCK_PUBKEY=sn;kt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=J1;kt.SYSVAR_INSTRUCTIONS_PUBKEY=Q1;kt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=wo;kt.SYSVAR_RENT_PUBKEY=vi;kt.SYSVAR_REWARDS_PUBKEY=ty;kt.SYSVAR_SLOT_HASHES_PUBKEY=ey;kt.SYSVAR_SLOT_HISTORY_PUBKEY=ry;kt.SYSVAR_STAKE_HISTORY_PUBKEY=xo;kt.Secp256k1Program=Io;kt.SendTransactionError=ri;kt.SolanaJSONRPCError=Ct;kt.SolanaJSONRPCErrorCode=ny;kt.StakeAuthorizationLayout=qg;kt.StakeInstruction=Iu;kt.StakeProgram=Si;kt.Struct=ts;kt.SystemInstruction=wu;kt.SystemProgram=pr;kt.Transaction=qe;kt.TransactionExpiredBlockheightExceededError=rs;kt.TransactionExpiredNonceInvalidError=Kn;kt.TransactionExpiredTimeoutError=ns;kt.TransactionInstruction=Fe;kt.TransactionMessage=yu;kt.TransactionStatus=xn;kt.VALIDATOR_INFO_KEY=P0;kt.VERSION_PREFIX_MASK=To;kt.VOTE_PROGRAM_ID=Kg;kt.ValidatorInfo=Ru;kt.VersionedMessage=Ou;kt.VersionedTransaction=gu;kt.VoteAccount=Tu;kt.VoteAuthorizationLayout=zg;kt.VoteInit=Ro;kt.VoteInstruction=Mu;kt.VoteProgram=Ei;kt.clusterApiUrl=$g;kt.sendAndConfirmRawTransaction=Vg;kt.sendAndConfirmTransaction=mu});var U0=he((Rw,O0)=>{"use strict";var Tw=it(st());function Yg(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var u=r.length,y=r.charAt(0),m=Math.log(u)/Math.log(256),E=Math.log(256)/Math.log(u);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var N=0,R=0,O=0,F=T.length;O!==F&&T[O]===0;)O++,N++;for(var Y=(F-O)*E+1>>>0,W=new Uint8Array(Y);O!==F;){for(var J=T[O],et=0,Q=Y-1;(J!==0||et<R)&&Q!==-1;Q--,et++)J+=256*W[Q]>>>0,W[Q]=J%u>>>0,J=J/u>>>0;if(J!==0)throw new Error("Non-zero carry");R=et,O++}for(var ht=Y-R;ht!==Y&&W[ht]===0;)ht++;for(var yt=y.repeat(N);ht<Y;++ht)yt+=r.charAt(W[ht]);return yt}function I(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var N=0,R=0,O=0;T[N]===y;)R++,N++;for(var F=(T.length-N)*m+1>>>0,Y=new Uint8Array(F);T[N];){var W=t[T.charCodeAt(N)];if(W===255)return;for(var J=0,et=F-1;(W!==0||J<O)&&et!==-1;et--,J++)W+=u*Y[et]>>>0,Y[et]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");O=J,N++}for(var Q=F-O;Q!==F&&Y[Q]===0;)Q++;for(var ht=new Uint8Array(R+(F-Q)),yt=R;Q!==F;)ht[yt++]=Y[Q++];return ht}function K(T){var N=I(T);if(N)return N;throw new Error("Non-base"+u+" character")}return{encode:A,decodeUnsafe:I,decode:K}}O0.exports=Yg});var q0=he((Lw,N0)=>{var Pw=it(st()),Gg=U0(),Zg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";N0.exports=Gg(Zg)});var z0=he(()=>{var Uw=it(st())});var F0=he((Nw,Co)=>{var qw=it(st());(function(r){"use strict";var t=function(v){var S,k=new Float64Array(16);if(v)for(S=0;S<v.length;S++)k[S]=v[S];return k},e=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),u=t([1]),y=t([56129,1]),m=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),E=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),A=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),I=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),K=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(v,S,k,l){v[S]=k>>24&255,v[S+1]=k>>16&255,v[S+2]=k>>8&255,v[S+3]=k&255,v[S+4]=l>>24&255,v[S+5]=l>>16&255,v[S+6]=l>>8&255,v[S+7]=l&255}function N(v,S,k,l,B){var U,$=0;for(U=0;U<B;U++)$|=v[S+U]^k[l+U];return(1&$-1>>>8)-1}function R(v,S,k,l){return N(v,S,k,l,16)}function O(v,S,k,l){return N(v,S,k,l,32)}function F(v,S,k,l){for(var B=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,U=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,$=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,j=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,tt=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Lt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,ct=S[0]&255|(S[1]&255)<<8|(S[2]&255)<<16|(S[3]&255)<<24,St=S[4]&255|(S[5]&255)<<8|(S[6]&255)<<16|(S[7]&255)<<24,Et=S[8]&255|(S[9]&255)<<8|(S[10]&255)<<16|(S[11]&255)<<24,Kt=S[12]&255|(S[13]&255)<<8|(S[14]&255)<<16|(S[15]&255)<<24,Dt=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Qt=k[16]&255|(k[17]&255)<<8|(k[18]&255)<<16|(k[19]&255)<<24,Xt=k[20]&255|(k[21]&255)<<8|(k[22]&255)<<16|(k[23]&255)<<24,Wt=k[24]&255|(k[25]&255)<<8|(k[26]&255)<<16|(k[27]&255)<<24,Vt=k[28]&255|(k[29]&255)<<8|(k[30]&255)<<16|(k[31]&255)<<24,Ht=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,Bt=B,Pt=U,vt=$,At=j,Rt=tt,bt=Lt,Z=ct,X=St,ft=Et,ot=Kt,at=Dt,dt=Qt,jt=Xt,me=Wt,xe=Vt,be=Ht,P,Ee=0;Ee<20;Ee+=2)P=Bt+jt|0,Rt^=P<<7|P>>>25,P=Rt+Bt|0,ft^=P<<9|P>>>23,P=ft+Rt|0,jt^=P<<13|P>>>19,P=jt+ft|0,Bt^=P<<18|P>>>14,P=bt+Pt|0,ot^=P<<7|P>>>25,P=ot+bt|0,me^=P<<9|P>>>23,P=me+ot|0,Pt^=P<<13|P>>>19,P=Pt+me|0,bt^=P<<18|P>>>14,P=at+Z|0,xe^=P<<7|P>>>25,P=xe+at|0,vt^=P<<9|P>>>23,P=vt+xe|0,Z^=P<<13|P>>>19,P=Z+vt|0,at^=P<<18|P>>>14,P=be+dt|0,At^=P<<7|P>>>25,P=At+be|0,X^=P<<9|P>>>23,P=X+At|0,dt^=P<<13|P>>>19,P=dt+X|0,be^=P<<18|P>>>14,P=Bt+At|0,Pt^=P<<7|P>>>25,P=Pt+Bt|0,vt^=P<<9|P>>>23,P=vt+Pt|0,At^=P<<13|P>>>19,P=At+vt|0,Bt^=P<<18|P>>>14,P=bt+Rt|0,Z^=P<<7|P>>>25,P=Z+bt|0,X^=P<<9|P>>>23,P=X+Z|0,Rt^=P<<13|P>>>19,P=Rt+X|0,bt^=P<<18|P>>>14,P=at+ot|0,dt^=P<<7|P>>>25,P=dt+at|0,ft^=P<<9|P>>>23,P=ft+dt|0,ot^=P<<13|P>>>19,P=ot+ft|0,at^=P<<18|P>>>14,P=be+xe|0,jt^=P<<7|P>>>25,P=jt+be|0,me^=P<<9|P>>>23,P=me+jt|0,xe^=P<<13|P>>>19,P=xe+me|0,be^=P<<18|P>>>14;Bt=Bt+B|0,Pt=Pt+U|0,vt=vt+$|0,At=At+j|0,Rt=Rt+tt|0,bt=bt+Lt|0,Z=Z+ct|0,X=X+St|0,ft=ft+Et|0,ot=ot+Kt|0,at=at+Dt|0,dt=dt+Qt|0,jt=jt+Xt|0,me=me+Wt|0,xe=xe+Vt|0,be=be+Ht|0,v[0]=Bt>>>0&255,v[1]=Bt>>>8&255,v[2]=Bt>>>16&255,v[3]=Bt>>>24&255,v[4]=Pt>>>0&255,v[5]=Pt>>>8&255,v[6]=Pt>>>16&255,v[7]=Pt>>>24&255,v[8]=vt>>>0&255,v[9]=vt>>>8&255,v[10]=vt>>>16&255,v[11]=vt>>>24&255,v[12]=At>>>0&255,v[13]=At>>>8&255,v[14]=At>>>16&255,v[15]=At>>>24&255,v[16]=Rt>>>0&255,v[17]=Rt>>>8&255,v[18]=Rt>>>16&255,v[19]=Rt>>>24&255,v[20]=bt>>>0&255,v[21]=bt>>>8&255,v[22]=bt>>>16&255,v[23]=bt>>>24&255,v[24]=Z>>>0&255,v[25]=Z>>>8&255,v[26]=Z>>>16&255,v[27]=Z>>>24&255,v[28]=X>>>0&255,v[29]=X>>>8&255,v[30]=X>>>16&255,v[31]=X>>>24&255,v[32]=ft>>>0&255,v[33]=ft>>>8&255,v[34]=ft>>>16&255,v[35]=ft>>>24&255,v[36]=ot>>>0&255,v[37]=ot>>>8&255,v[38]=ot>>>16&255,v[39]=ot>>>24&255,v[40]=at>>>0&255,v[41]=at>>>8&255,v[42]=at>>>16&255,v[43]=at>>>24&255,v[44]=dt>>>0&255,v[45]=dt>>>8&255,v[46]=dt>>>16&255,v[47]=dt>>>24&255,v[48]=jt>>>0&255,v[49]=jt>>>8&255,v[50]=jt>>>16&255,v[51]=jt>>>24&255,v[52]=me>>>0&255,v[53]=me>>>8&255,v[54]=me>>>16&255,v[55]=me>>>24&255,v[56]=xe>>>0&255,v[57]=xe>>>8&255,v[58]=xe>>>16&255,v[59]=xe>>>24&255,v[60]=be>>>0&255,v[61]=be>>>8&255,v[62]=be>>>16&255,v[63]=be>>>24&255}function Y(v,S,k,l){for(var B=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,U=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,$=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,j=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,tt=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Lt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,ct=S[0]&255|(S[1]&255)<<8|(S[2]&255)<<16|(S[3]&255)<<24,St=S[4]&255|(S[5]&255)<<8|(S[6]&255)<<16|(S[7]&255)<<24,Et=S[8]&255|(S[9]&255)<<8|(S[10]&255)<<16|(S[11]&255)<<24,Kt=S[12]&255|(S[13]&255)<<8|(S[14]&255)<<16|(S[15]&255)<<24,Dt=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Qt=k[16]&255|(k[17]&255)<<8|(k[18]&255)<<16|(k[19]&255)<<24,Xt=k[20]&255|(k[21]&255)<<8|(k[22]&255)<<16|(k[23]&255)<<24,Wt=k[24]&255|(k[25]&255)<<8|(k[26]&255)<<16|(k[27]&255)<<24,Vt=k[28]&255|(k[29]&255)<<8|(k[30]&255)<<16|(k[31]&255)<<24,Ht=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,Bt=B,Pt=U,vt=$,At=j,Rt=tt,bt=Lt,Z=ct,X=St,ft=Et,ot=Kt,at=Dt,dt=Qt,jt=Xt,me=Wt,xe=Vt,be=Ht,P,Ee=0;Ee<20;Ee+=2)P=Bt+jt|0,Rt^=P<<7|P>>>25,P=Rt+Bt|0,ft^=P<<9|P>>>23,P=ft+Rt|0,jt^=P<<13|P>>>19,P=jt+ft|0,Bt^=P<<18|P>>>14,P=bt+Pt|0,ot^=P<<7|P>>>25,P=ot+bt|0,me^=P<<9|P>>>23,P=me+ot|0,Pt^=P<<13|P>>>19,P=Pt+me|0,bt^=P<<18|P>>>14,P=at+Z|0,xe^=P<<7|P>>>25,P=xe+at|0,vt^=P<<9|P>>>23,P=vt+xe|0,Z^=P<<13|P>>>19,P=Z+vt|0,at^=P<<18|P>>>14,P=be+dt|0,At^=P<<7|P>>>25,P=At+be|0,X^=P<<9|P>>>23,P=X+At|0,dt^=P<<13|P>>>19,P=dt+X|0,be^=P<<18|P>>>14,P=Bt+At|0,Pt^=P<<7|P>>>25,P=Pt+Bt|0,vt^=P<<9|P>>>23,P=vt+Pt|0,At^=P<<13|P>>>19,P=At+vt|0,Bt^=P<<18|P>>>14,P=bt+Rt|0,Z^=P<<7|P>>>25,P=Z+bt|0,X^=P<<9|P>>>23,P=X+Z|0,Rt^=P<<13|P>>>19,P=Rt+X|0,bt^=P<<18|P>>>14,P=at+ot|0,dt^=P<<7|P>>>25,P=dt+at|0,ft^=P<<9|P>>>23,P=ft+dt|0,ot^=P<<13|P>>>19,P=ot+ft|0,at^=P<<18|P>>>14,P=be+xe|0,jt^=P<<7|P>>>25,P=jt+be|0,me^=P<<9|P>>>23,P=me+jt|0,xe^=P<<13|P>>>19,P=xe+me|0,be^=P<<18|P>>>14;v[0]=Bt>>>0&255,v[1]=Bt>>>8&255,v[2]=Bt>>>16&255,v[3]=Bt>>>24&255,v[4]=bt>>>0&255,v[5]=bt>>>8&255,v[6]=bt>>>16&255,v[7]=bt>>>24&255,v[8]=at>>>0&255,v[9]=at>>>8&255,v[10]=at>>>16&255,v[11]=at>>>24&255,v[12]=be>>>0&255,v[13]=be>>>8&255,v[14]=be>>>16&255,v[15]=be>>>24&255,v[16]=Z>>>0&255,v[17]=Z>>>8&255,v[18]=Z>>>16&255,v[19]=Z>>>24&255,v[20]=X>>>0&255,v[21]=X>>>8&255,v[22]=X>>>16&255,v[23]=X>>>24&255,v[24]=ft>>>0&255,v[25]=ft>>>8&255,v[26]=ft>>>16&255,v[27]=ft>>>24&255,v[28]=ot>>>0&255,v[29]=ot>>>8&255,v[30]=ot>>>16&255,v[31]=ot>>>24&255}function W(v,S,k,l){F(v,S,k,l)}function J(v,S,k,l){Y(v,S,k,l)}var et=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Q(v,S,k,l,B,U,$){var j=new Uint8Array(16),tt=new Uint8Array(64),Lt,ct;for(ct=0;ct<16;ct++)j[ct]=0;for(ct=0;ct<8;ct++)j[ct]=U[ct];for(;B>=64;){for(W(tt,j,$,et),ct=0;ct<64;ct++)v[S+ct]=k[l+ct]^tt[ct];for(Lt=1,ct=8;ct<16;ct++)Lt=Lt+(j[ct]&255)|0,j[ct]=Lt&255,Lt>>>=8;B-=64,S+=64,l+=64}if(B>0)for(W(tt,j,$,et),ct=0;ct<B;ct++)v[S+ct]=k[l+ct]^tt[ct];return 0}function ht(v,S,k,l,B){var U=new Uint8Array(16),$=new Uint8Array(64),j,tt;for(tt=0;tt<16;tt++)U[tt]=0;for(tt=0;tt<8;tt++)U[tt]=l[tt];for(;k>=64;){for(W($,U,B,et),tt=0;tt<64;tt++)v[S+tt]=$[tt];for(j=1,tt=8;tt<16;tt++)j=j+(U[tt]&255)|0,U[tt]=j&255,j>>>=8;k-=64,S+=64}if(k>0)for(W($,U,B,et),tt=0;tt<k;tt++)v[S+tt]=$[tt];return 0}function yt(v,S,k,l,B){var U=new Uint8Array(32);J(U,l,B,et);for(var $=new Uint8Array(8),j=0;j<8;j++)$[j]=l[j+16];return ht(v,S,k,$,U)}function ee(v,S,k,l,B,U,$){var j=new Uint8Array(32);J(j,U,$,et);for(var tt=new Uint8Array(8),Lt=0;Lt<8;Lt++)tt[Lt]=U[Lt+16];return Q(v,S,k,l,B,tt,j)}var qt=function(v){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var S,k,l,B,U,$,j,tt;S=v[0]&255|(v[1]&255)<<8,this.r[0]=S&8191,k=v[2]&255|(v[3]&255)<<8,this.r[1]=(S>>>13|k<<3)&8191,l=v[4]&255|(v[5]&255)<<8,this.r[2]=(k>>>10|l<<6)&7939,B=v[6]&255|(v[7]&255)<<8,this.r[3]=(l>>>7|B<<9)&8191,U=v[8]&255|(v[9]&255)<<8,this.r[4]=(B>>>4|U<<12)&255,this.r[5]=U>>>1&8190,$=v[10]&255|(v[11]&255)<<8,this.r[6]=(U>>>14|$<<2)&8191,j=v[12]&255|(v[13]&255)<<8,this.r[7]=($>>>11|j<<5)&8065,tt=v[14]&255|(v[15]&255)<<8,this.r[8]=(j>>>8|tt<<8)&8191,this.r[9]=tt>>>5&127,this.pad[0]=v[16]&255|(v[17]&255)<<8,this.pad[1]=v[18]&255|(v[19]&255)<<8,this.pad[2]=v[20]&255|(v[21]&255)<<8,this.pad[3]=v[22]&255|(v[23]&255)<<8,this.pad[4]=v[24]&255|(v[25]&255)<<8,this.pad[5]=v[26]&255|(v[27]&255)<<8,this.pad[6]=v[28]&255|(v[29]&255)<<8,this.pad[7]=v[30]&255|(v[31]&255)<<8};qt.prototype.blocks=function(v,S,k){for(var l=this.fin?0:2048,B,U,$,j,tt,Lt,ct,St,Et,Kt,Dt,Qt,Xt,Wt,Vt,Ht,Bt,Pt,vt,At=this.h[0],Rt=this.h[1],bt=this.h[2],Z=this.h[3],X=this.h[4],ft=this.h[5],ot=this.h[6],at=this.h[7],dt=this.h[8],jt=this.h[9],me=this.r[0],xe=this.r[1],be=this.r[2],P=this.r[3],Ee=this.r[4],Te=this.r[5],Le=this.r[6],ve=this.r[7],Ie=this.r[8],Me=this.r[9];k>=16;)B=v[S+0]&255|(v[S+1]&255)<<8,At+=B&8191,U=v[S+2]&255|(v[S+3]&255)<<8,Rt+=(B>>>13|U<<3)&8191,$=v[S+4]&255|(v[S+5]&255)<<8,bt+=(U>>>10|$<<6)&8191,j=v[S+6]&255|(v[S+7]&255)<<8,Z+=($>>>7|j<<9)&8191,tt=v[S+8]&255|(v[S+9]&255)<<8,X+=(j>>>4|tt<<12)&8191,ft+=tt>>>1&8191,Lt=v[S+10]&255|(v[S+11]&255)<<8,ot+=(tt>>>14|Lt<<2)&8191,ct=v[S+12]&255|(v[S+13]&255)<<8,at+=(Lt>>>11|ct<<5)&8191,St=v[S+14]&255|(v[S+15]&255)<<8,dt+=(ct>>>8|St<<8)&8191,jt+=St>>>5|l,Et=0,Kt=Et,Kt+=At*me,Kt+=Rt*(5*Me),Kt+=bt*(5*Ie),Kt+=Z*(5*ve),Kt+=X*(5*Le),Et=Kt>>>13,Kt&=8191,Kt+=ft*(5*Te),Kt+=ot*(5*Ee),Kt+=at*(5*P),Kt+=dt*(5*be),Kt+=jt*(5*xe),Et+=Kt>>>13,Kt&=8191,Dt=Et,Dt+=At*xe,Dt+=Rt*me,Dt+=bt*(5*Me),Dt+=Z*(5*Ie),Dt+=X*(5*ve),Et=Dt>>>13,Dt&=8191,Dt+=ft*(5*Le),Dt+=ot*(5*Te),Dt+=at*(5*Ee),Dt+=dt*(5*P),Dt+=jt*(5*be),Et+=Dt>>>13,Dt&=8191,Qt=Et,Qt+=At*be,Qt+=Rt*xe,Qt+=bt*me,Qt+=Z*(5*Me),Qt+=X*(5*Ie),Et=Qt>>>13,Qt&=8191,Qt+=ft*(5*ve),Qt+=ot*(5*Le),Qt+=at*(5*Te),Qt+=dt*(5*Ee),Qt+=jt*(5*P),Et+=Qt>>>13,Qt&=8191,Xt=Et,Xt+=At*P,Xt+=Rt*be,Xt+=bt*xe,Xt+=Z*me,Xt+=X*(5*Me),Et=Xt>>>13,Xt&=8191,Xt+=ft*(5*Ie),Xt+=ot*(5*ve),Xt+=at*(5*Le),Xt+=dt*(5*Te),Xt+=jt*(5*Ee),Et+=Xt>>>13,Xt&=8191,Wt=Et,Wt+=At*Ee,Wt+=Rt*P,Wt+=bt*be,Wt+=Z*xe,Wt+=X*me,Et=Wt>>>13,Wt&=8191,Wt+=ft*(5*Me),Wt+=ot*(5*Ie),Wt+=at*(5*ve),Wt+=dt*(5*Le),Wt+=jt*(5*Te),Et+=Wt>>>13,Wt&=8191,Vt=Et,Vt+=At*Te,Vt+=Rt*Ee,Vt+=bt*P,Vt+=Z*be,Vt+=X*xe,Et=Vt>>>13,Vt&=8191,Vt+=ft*me,Vt+=ot*(5*Me),Vt+=at*(5*Ie),Vt+=dt*(5*ve),Vt+=jt*(5*Le),Et+=Vt>>>13,Vt&=8191,Ht=Et,Ht+=At*Le,Ht+=Rt*Te,Ht+=bt*Ee,Ht+=Z*P,Ht+=X*be,Et=Ht>>>13,Ht&=8191,Ht+=ft*xe,Ht+=ot*me,Ht+=at*(5*Me),Ht+=dt*(5*Ie),Ht+=jt*(5*ve),Et+=Ht>>>13,Ht&=8191,Bt=Et,Bt+=At*ve,Bt+=Rt*Le,Bt+=bt*Te,Bt+=Z*Ee,Bt+=X*P,Et=Bt>>>13,Bt&=8191,Bt+=ft*be,Bt+=ot*xe,Bt+=at*me,Bt+=dt*(5*Me),Bt+=jt*(5*Ie),Et+=Bt>>>13,Bt&=8191,Pt=Et,Pt+=At*Ie,Pt+=Rt*ve,Pt+=bt*Le,Pt+=Z*Te,Pt+=X*Ee,Et=Pt>>>13,Pt&=8191,Pt+=ft*P,Pt+=ot*be,Pt+=at*xe,Pt+=dt*me,Pt+=jt*(5*Me),Et+=Pt>>>13,Pt&=8191,vt=Et,vt+=At*Me,vt+=Rt*Ie,vt+=bt*ve,vt+=Z*Le,vt+=X*Te,Et=vt>>>13,vt&=8191,vt+=ft*Ee,vt+=ot*P,vt+=at*be,vt+=dt*xe,vt+=jt*me,Et+=vt>>>13,vt&=8191,Et=(Et<<2)+Et|0,Et=Et+Kt|0,Kt=Et&8191,Et=Et>>>13,Dt+=Et,At=Kt,Rt=Dt,bt=Qt,Z=Xt,X=Wt,ft=Vt,ot=Ht,at=Bt,dt=Pt,jt=vt,S+=16,k-=16;this.h[0]=At,this.h[1]=Rt,this.h[2]=bt,this.h[3]=Z,this.h[4]=X,this.h[5]=ft,this.h[6]=ot,this.h[7]=at,this.h[8]=dt,this.h[9]=jt},qt.prototype.finish=function(v,S){var k=new Uint16Array(10),l,B,U,$;if(this.leftover){for($=this.leftover,this.buffer[$++]=1;$<16;$++)this.buffer[$]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(l=this.h[1]>>>13,this.h[1]&=8191,$=2;$<10;$++)this.h[$]+=l,l=this.h[$]>>>13,this.h[$]&=8191;for(this.h[0]+=l*5,l=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=l,l=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=l,k[0]=this.h[0]+5,l=k[0]>>>13,k[0]&=8191,$=1;$<10;$++)k[$]=this.h[$]+l,l=k[$]>>>13,k[$]&=8191;for(k[9]-=8192,B=(l^1)-1,$=0;$<10;$++)k[$]&=B;for(B=~B,$=0;$<10;$++)this.h[$]=this.h[$]&B|k[$];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,U=this.h[0]+this.pad[0],this.h[0]=U&65535,$=1;$<8;$++)U=(this.h[$]+this.pad[$]|0)+(U>>>16)|0,this.h[$]=U&65535;v[S+0]=this.h[0]>>>0&255,v[S+1]=this.h[0]>>>8&255,v[S+2]=this.h[1]>>>0&255,v[S+3]=this.h[1]>>>8&255,v[S+4]=this.h[2]>>>0&255,v[S+5]=this.h[2]>>>8&255,v[S+6]=this.h[3]>>>0&255,v[S+7]=this.h[3]>>>8&255,v[S+8]=this.h[4]>>>0&255,v[S+9]=this.h[4]>>>8&255,v[S+10]=this.h[5]>>>0&255,v[S+11]=this.h[5]>>>8&255,v[S+12]=this.h[6]>>>0&255,v[S+13]=this.h[6]>>>8&255,v[S+14]=this.h[7]>>>0&255,v[S+15]=this.h[7]>>>8&255},qt.prototype.update=function(v,S,k){var l,B;if(this.leftover){for(B=16-this.leftover,B>k&&(B=k),l=0;l<B;l++)this.buffer[this.leftover+l]=v[S+l];if(k-=B,S+=B,this.leftover+=B,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(k>=16&&(B=k-k%16,this.blocks(v,S,B),S+=B,k-=B),k){for(l=0;l<k;l++)this.buffer[this.leftover+l]=v[S+l];this.leftover+=k}};function lt(v,S,k,l,B,U){var $=new qt(U);return $.update(k,l,B),$.finish(v,S),0}function oe(v,S,k,l,B,U){var $=new Uint8Array(16);return lt($,0,k,l,B,U),R(v,S,$,0)}function x(v,S,k,l,B){var U;if(k<32)return-1;for(ee(v,0,S,0,k,l,B),lt(v,16,v,32,k-32,v),U=0;U<16;U++)v[U]=0;return 0}function s(v,S,k,l,B){var U,$=new Uint8Array(32);if(k<32||(yt($,0,32,l,B),oe(S,16,S,32,k-32,$)!==0))return-1;for(ee(v,0,S,0,k,l,B),U=0;U<32;U++)v[U]=0;return 0}function c(v,S){var k;for(k=0;k<16;k++)v[k]=S[k]|0}function f(v){var S,k,l=1;for(S=0;S<16;S++)k=v[S]+l+65535,l=Math.floor(k/65536),v[S]=k-l*65536;v[0]+=l-1+37*(l-1)}function d(v,S,k){for(var l,B=~(k-1),U=0;U<16;U++)l=B&(v[U]^S[U]),v[U]^=l,S[U]^=l}function p(v,S){var k,l,B,U=t(),$=t();for(k=0;k<16;k++)$[k]=S[k];for(f($),f($),f($),l=0;l<2;l++){for(U[0]=$[0]-65517,k=1;k<15;k++)U[k]=$[k]-65535-(U[k-1]>>16&1),U[k-1]&=65535;U[15]=$[15]-32767-(U[14]>>16&1),B=U[15]>>16&1,U[14]&=65535,d($,U,1-B)}for(k=0;k<16;k++)v[2*k]=$[k]&255,v[2*k+1]=$[k]>>8}function w(v,S){var k=new Uint8Array(32),l=new Uint8Array(32);return p(k,v),p(l,S),O(k,0,l,0)}function _(v){var S=new Uint8Array(32);return p(S,v),S[0]&1}function g(v,S){var k;for(k=0;k<16;k++)v[k]=S[2*k]+(S[2*k+1]<<8);v[15]&=32767}function a(v,S,k){for(var l=0;l<16;l++)v[l]=S[l]+k[l]}function b(v,S,k){for(var l=0;l<16;l++)v[l]=S[l]-k[l]}function q(v,S,k){var l,B,U=0,$=0,j=0,tt=0,Lt=0,ct=0,St=0,Et=0,Kt=0,Dt=0,Qt=0,Xt=0,Wt=0,Vt=0,Ht=0,Bt=0,Pt=0,vt=0,At=0,Rt=0,bt=0,Z=0,X=0,ft=0,ot=0,at=0,dt=0,jt=0,me=0,xe=0,be=0,P=k[0],Ee=k[1],Te=k[2],Le=k[3],ve=k[4],Ie=k[5],Me=k[6],nr=k[7],ze=k[8],Xe=k[9],Je=k[10],Qe=k[11],ir=k[12],gr=k[13],mr=k[14],br=k[15];l=S[0],U+=l*P,$+=l*Ee,j+=l*Te,tt+=l*Le,Lt+=l*ve,ct+=l*Ie,St+=l*Me,Et+=l*nr,Kt+=l*ze,Dt+=l*Xe,Qt+=l*Je,Xt+=l*Qe,Wt+=l*ir,Vt+=l*gr,Ht+=l*mr,Bt+=l*br,l=S[1],$+=l*P,j+=l*Ee,tt+=l*Te,Lt+=l*Le,ct+=l*ve,St+=l*Ie,Et+=l*Me,Kt+=l*nr,Dt+=l*ze,Qt+=l*Xe,Xt+=l*Je,Wt+=l*Qe,Vt+=l*ir,Ht+=l*gr,Bt+=l*mr,Pt+=l*br,l=S[2],j+=l*P,tt+=l*Ee,Lt+=l*Te,ct+=l*Le,St+=l*ve,Et+=l*Ie,Kt+=l*Me,Dt+=l*nr,Qt+=l*ze,Xt+=l*Xe,Wt+=l*Je,Vt+=l*Qe,Ht+=l*ir,Bt+=l*gr,Pt+=l*mr,vt+=l*br,l=S[3],tt+=l*P,Lt+=l*Ee,ct+=l*Te,St+=l*Le,Et+=l*ve,Kt+=l*Ie,Dt+=l*Me,Qt+=l*nr,Xt+=l*ze,Wt+=l*Xe,Vt+=l*Je,Ht+=l*Qe,Bt+=l*ir,Pt+=l*gr,vt+=l*mr,At+=l*br,l=S[4],Lt+=l*P,ct+=l*Ee,St+=l*Te,Et+=l*Le,Kt+=l*ve,Dt+=l*Ie,Qt+=l*Me,Xt+=l*nr,Wt+=l*ze,Vt+=l*Xe,Ht+=l*Je,Bt+=l*Qe,Pt+=l*ir,vt+=l*gr,At+=l*mr,Rt+=l*br,l=S[5],ct+=l*P,St+=l*Ee,Et+=l*Te,Kt+=l*Le,Dt+=l*ve,Qt+=l*Ie,Xt+=l*Me,Wt+=l*nr,Vt+=l*ze,Ht+=l*Xe,Bt+=l*Je,Pt+=l*Qe,vt+=l*ir,At+=l*gr,Rt+=l*mr,bt+=l*br,l=S[6],St+=l*P,Et+=l*Ee,Kt+=l*Te,Dt+=l*Le,Qt+=l*ve,Xt+=l*Ie,Wt+=l*Me,Vt+=l*nr,Ht+=l*ze,Bt+=l*Xe,Pt+=l*Je,vt+=l*Qe,At+=l*ir,Rt+=l*gr,bt+=l*mr,Z+=l*br,l=S[7],Et+=l*P,Kt+=l*Ee,Dt+=l*Te,Qt+=l*Le,Xt+=l*ve,Wt+=l*Ie,Vt+=l*Me,Ht+=l*nr,Bt+=l*ze,Pt+=l*Xe,vt+=l*Je,At+=l*Qe,Rt+=l*ir,bt+=l*gr,Z+=l*mr,X+=l*br,l=S[8],Kt+=l*P,Dt+=l*Ee,Qt+=l*Te,Xt+=l*Le,Wt+=l*ve,Vt+=l*Ie,Ht+=l*Me,Bt+=l*nr,Pt+=l*ze,vt+=l*Xe,At+=l*Je,Rt+=l*Qe,bt+=l*ir,Z+=l*gr,X+=l*mr,ft+=l*br,l=S[9],Dt+=l*P,Qt+=l*Ee,Xt+=l*Te,Wt+=l*Le,Vt+=l*ve,Ht+=l*Ie,Bt+=l*Me,Pt+=l*nr,vt+=l*ze,At+=l*Xe,Rt+=l*Je,bt+=l*Qe,Z+=l*ir,X+=l*gr,ft+=l*mr,ot+=l*br,l=S[10],Qt+=l*P,Xt+=l*Ee,Wt+=l*Te,Vt+=l*Le,Ht+=l*ve,Bt+=l*Ie,Pt+=l*Me,vt+=l*nr,At+=l*ze,Rt+=l*Xe,bt+=l*Je,Z+=l*Qe,X+=l*ir,ft+=l*gr,ot+=l*mr,at+=l*br,l=S[11],Xt+=l*P,Wt+=l*Ee,Vt+=l*Te,Ht+=l*Le,Bt+=l*ve,Pt+=l*Ie,vt+=l*Me,At+=l*nr,Rt+=l*ze,bt+=l*Xe,Z+=l*Je,X+=l*Qe,ft+=l*ir,ot+=l*gr,at+=l*mr,dt+=l*br,l=S[12],Wt+=l*P,Vt+=l*Ee,Ht+=l*Te,Bt+=l*Le,Pt+=l*ve,vt+=l*Ie,At+=l*Me,Rt+=l*nr,bt+=l*ze,Z+=l*Xe,X+=l*Je,ft+=l*Qe,ot+=l*ir,at+=l*gr,dt+=l*mr,jt+=l*br,l=S[13],Vt+=l*P,Ht+=l*Ee,Bt+=l*Te,Pt+=l*Le,vt+=l*ve,At+=l*Ie,Rt+=l*Me,bt+=l*nr,Z+=l*ze,X+=l*Xe,ft+=l*Je,ot+=l*Qe,at+=l*ir,dt+=l*gr,jt+=l*mr,me+=l*br,l=S[14],Ht+=l*P,Bt+=l*Ee,Pt+=l*Te,vt+=l*Le,At+=l*ve,Rt+=l*Ie,bt+=l*Me,Z+=l*nr,X+=l*ze,ft+=l*Xe,ot+=l*Je,at+=l*Qe,dt+=l*ir,jt+=l*gr,me+=l*mr,xe+=l*br,l=S[15],Bt+=l*P,Pt+=l*Ee,vt+=l*Te,At+=l*Le,Rt+=l*ve,bt+=l*Ie,Z+=l*Me,X+=l*nr,ft+=l*ze,ot+=l*Xe,at+=l*Je,dt+=l*Qe,jt+=l*ir,me+=l*gr,xe+=l*mr,be+=l*br,U+=38*Pt,$+=38*vt,j+=38*At,tt+=38*Rt,Lt+=38*bt,ct+=38*Z,St+=38*X,Et+=38*ft,Kt+=38*ot,Dt+=38*at,Qt+=38*dt,Xt+=38*jt,Wt+=38*me,Vt+=38*xe,Ht+=38*be,B=1,l=U+B+65535,B=Math.floor(l/65536),U=l-B*65536,l=$+B+65535,B=Math.floor(l/65536),$=l-B*65536,l=j+B+65535,B=Math.floor(l/65536),j=l-B*65536,l=tt+B+65535,B=Math.floor(l/65536),tt=l-B*65536,l=Lt+B+65535,B=Math.floor(l/65536),Lt=l-B*65536,l=ct+B+65535,B=Math.floor(l/65536),ct=l-B*65536,l=St+B+65535,B=Math.floor(l/65536),St=l-B*65536,l=Et+B+65535,B=Math.floor(l/65536),Et=l-B*65536,l=Kt+B+65535,B=Math.floor(l/65536),Kt=l-B*65536,l=Dt+B+65535,B=Math.floor(l/65536),Dt=l-B*65536,l=Qt+B+65535,B=Math.floor(l/65536),Qt=l-B*65536,l=Xt+B+65535,B=Math.floor(l/65536),Xt=l-B*65536,l=Wt+B+65535,B=Math.floor(l/65536),Wt=l-B*65536,l=Vt+B+65535,B=Math.floor(l/65536),Vt=l-B*65536,l=Ht+B+65535,B=Math.floor(l/65536),Ht=l-B*65536,l=Bt+B+65535,B=Math.floor(l/65536),Bt=l-B*65536,U+=B-1+37*(B-1),B=1,l=U+B+65535,B=Math.floor(l/65536),U=l-B*65536,l=$+B+65535,B=Math.floor(l/65536),$=l-B*65536,l=j+B+65535,B=Math.floor(l/65536),j=l-B*65536,l=tt+B+65535,B=Math.floor(l/65536),tt=l-B*65536,l=Lt+B+65535,B=Math.floor(l/65536),Lt=l-B*65536,l=ct+B+65535,B=Math.floor(l/65536),ct=l-B*65536,l=St+B+65535,B=Math.floor(l/65536),St=l-B*65536,l=Et+B+65535,B=Math.floor(l/65536),Et=l-B*65536,l=Kt+B+65535,B=Math.floor(l/65536),Kt=l-B*65536,l=Dt+B+65535,B=Math.floor(l/65536),Dt=l-B*65536,l=Qt+B+65535,B=Math.floor(l/65536),Qt=l-B*65536,l=Xt+B+65535,B=Math.floor(l/65536),Xt=l-B*65536,l=Wt+B+65535,B=Math.floor(l/65536),Wt=l-B*65536,l=Vt+B+65535,B=Math.floor(l/65536),Vt=l-B*65536,l=Ht+B+65535,B=Math.floor(l/65536),Ht=l-B*65536,l=Bt+B+65535,B=Math.floor(l/65536),Bt=l-B*65536,U+=B-1+37*(B-1),v[0]=U,v[1]=$,v[2]=j,v[3]=tt,v[4]=Lt,v[5]=ct,v[6]=St,v[7]=Et,v[8]=Kt,v[9]=Dt,v[10]=Qt,v[11]=Xt,v[12]=Wt,v[13]=Vt,v[14]=Ht,v[15]=Bt}function H(v,S){q(v,S,S)}function V(v,S){var k=t(),l;for(l=0;l<16;l++)k[l]=S[l];for(l=253;l>=0;l--)H(k,k),l!==2&&l!==4&&q(k,k,S);for(l=0;l<16;l++)v[l]=k[l]}function nt(v,S){var k=t(),l;for(l=0;l<16;l++)k[l]=S[l];for(l=250;l>=0;l--)H(k,k),l!==1&&q(k,k,S);for(l=0;l<16;l++)v[l]=k[l]}function pt(v,S,k){var l=new Uint8Array(32),B=new Float64Array(80),U,$,j=t(),tt=t(),Lt=t(),ct=t(),St=t(),Et=t();for($=0;$<31;$++)l[$]=S[$];for(l[31]=S[31]&127|64,l[0]&=248,g(B,k),$=0;$<16;$++)tt[$]=B[$],ct[$]=j[$]=Lt[$]=0;for(j[0]=ct[0]=1,$=254;$>=0;--$)U=l[$>>>3]>>>($&7)&1,d(j,tt,U),d(Lt,ct,U),a(St,j,Lt),b(j,j,Lt),a(Lt,tt,ct),b(tt,tt,ct),H(ct,St),H(Et,j),q(j,Lt,j),q(Lt,tt,St),a(St,j,Lt),b(j,j,Lt),H(tt,j),b(Lt,ct,Et),q(j,Lt,y),a(j,j,ct),q(Lt,Lt,j),q(j,ct,Et),q(ct,tt,B),H(tt,St),d(j,tt,U),d(Lt,ct,U);for($=0;$<16;$++)B[$+16]=j[$],B[$+32]=Lt[$],B[$+48]=tt[$],B[$+64]=ct[$];var Kt=B.subarray(32),Dt=B.subarray(16);return V(Kt,Kt),q(Dt,Dt,Kt),p(v,Dt),0}function gt(v,S){return pt(v,S,i)}function we(v,S){return e(S,32),gt(v,S)}function wt(v,S,k){var l=new Uint8Array(32);return pt(l,k,S),J(v,n,l,et)}var xt=x,We=s;function Nt(v,S,k,l,B,U){var $=new Uint8Array(32);return wt($,B,U),xt(v,S,k,l,$)}function zt(v,S,k,l,B,U){var $=new Uint8Array(32);return wt($,B,U),We(v,S,k,l,$)}var yr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function re(v,S,k,l){for(var B=new Int32Array(16),U=new Int32Array(16),$,j,tt,Lt,ct,St,Et,Kt,Dt,Qt,Xt,Wt,Vt,Ht,Bt,Pt,vt,At,Rt,bt,Z,X,ft,ot,at,dt,jt=v[0],me=v[1],xe=v[2],be=v[3],P=v[4],Ee=v[5],Te=v[6],Le=v[7],ve=S[0],Ie=S[1],Me=S[2],nr=S[3],ze=S[4],Xe=S[5],Je=S[6],Qe=S[7],ir=0;l>=128;){for(Rt=0;Rt<16;Rt++)bt=8*Rt+ir,B[Rt]=k[bt+0]<<24|k[bt+1]<<16|k[bt+2]<<8|k[bt+3],U[Rt]=k[bt+4]<<24|k[bt+5]<<16|k[bt+6]<<8|k[bt+7];for(Rt=0;Rt<80;Rt++)if($=jt,j=me,tt=xe,Lt=be,ct=P,St=Ee,Et=Te,Kt=Le,Dt=ve,Qt=Ie,Xt=Me,Wt=nr,Vt=ze,Ht=Xe,Bt=Je,Pt=Qe,Z=Le,X=Qe,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=(P>>>14|ze<<18)^(P>>>18|ze<<14)^(ze>>>9|P<<23),X=(ze>>>14|P<<18)^(ze>>>18|P<<14)^(P>>>9|ze<<23),ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,Z=P&Ee^~P&Te,X=ze&Xe^~ze&Je,ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,Z=yr[Rt*2],X=yr[Rt*2+1],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,Z=B[Rt%16],X=U[Rt%16],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,vt=at&65535|dt<<16,At=ft&65535|ot<<16,Z=vt,X=At,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=(jt>>>28|ve<<4)^(ve>>>2|jt<<30)^(ve>>>7|jt<<25),X=(ve>>>28|jt<<4)^(jt>>>2|ve<<30)^(jt>>>7|ve<<25),ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,Z=jt&me^jt&xe^me&xe,X=ve&Ie^ve&Me^Ie&Me,ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,Kt=at&65535|dt<<16,Pt=ft&65535|ot<<16,Z=Lt,X=Wt,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=vt,X=At,ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,Lt=at&65535|dt<<16,Wt=ft&65535|ot<<16,me=$,xe=j,be=tt,P=Lt,Ee=ct,Te=St,Le=Et,jt=Kt,Ie=Dt,Me=Qt,nr=Xt,ze=Wt,Xe=Vt,Je=Ht,Qe=Bt,ve=Pt,Rt%16===15)for(bt=0;bt<16;bt++)Z=B[bt],X=U[bt],ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=B[(bt+9)%16],X=U[(bt+9)%16],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,vt=B[(bt+1)%16],At=U[(bt+1)%16],Z=(vt>>>1|At<<31)^(vt>>>8|At<<24)^vt>>>7,X=(At>>>1|vt<<31)^(At>>>8|vt<<24)^(At>>>7|vt<<25),ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,vt=B[(bt+14)%16],At=U[(bt+14)%16],Z=(vt>>>19|At<<13)^(At>>>29|vt<<3)^vt>>>6,X=(At>>>19|vt<<13)^(vt>>>29|At<<3)^(At>>>6|vt<<26),ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,B[bt]=at&65535|dt<<16,U[bt]=ft&65535|ot<<16;Z=jt,X=ve,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[0],X=S[0],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[0]=jt=at&65535|dt<<16,S[0]=ve=ft&65535|ot<<16,Z=me,X=Ie,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[1],X=S[1],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[1]=me=at&65535|dt<<16,S[1]=Ie=ft&65535|ot<<16,Z=xe,X=Me,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[2],X=S[2],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[2]=xe=at&65535|dt<<16,S[2]=Me=ft&65535|ot<<16,Z=be,X=nr,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[3],X=S[3],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[3]=be=at&65535|dt<<16,S[3]=nr=ft&65535|ot<<16,Z=P,X=ze,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[4],X=S[4],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[4]=P=at&65535|dt<<16,S[4]=ze=ft&65535|ot<<16,Z=Ee,X=Xe,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[5],X=S[5],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[5]=Ee=at&65535|dt<<16,S[5]=Xe=ft&65535|ot<<16,Z=Te,X=Je,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[6],X=S[6],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[6]=Te=at&65535|dt<<16,S[6]=Je=ft&65535|ot<<16,Z=Le,X=Qe,ft=X&65535,ot=X>>>16,at=Z&65535,dt=Z>>>16,Z=v[7],X=S[7],ft+=X&65535,ot+=X>>>16,at+=Z&65535,dt+=Z>>>16,ot+=ft>>>16,at+=ot>>>16,dt+=at>>>16,v[7]=Le=at&65535|dt<<16,S[7]=Qe=ft&65535|ot<<16,ir+=128,l-=128}return l}function $t(v,S,k){var l=new Int32Array(8),B=new Int32Array(8),U=new Uint8Array(256),$,j=k;for(l[0]=1779033703,l[1]=3144134277,l[2]=1013904242,l[3]=2773480762,l[4]=1359893119,l[5]=2600822924,l[6]=528734635,l[7]=1541459225,B[0]=4089235720,B[1]=2227873595,B[2]=4271175723,B[3]=1595750129,B[4]=2917565137,B[5]=725511199,B[6]=4215389547,B[7]=327033209,re(l,B,S,k),k%=128,$=0;$<k;$++)U[$]=S[j-k+$];for(U[k]=128,k=256-128*(k<112?1:0),U[k-9]=0,T(U,k-8,j/536870912|0,j<<3),re(l,B,U,k),$=0;$<8;$++)T(v,8*$,l[$],B[$]);return 0}function Ar(v,S){var k=t(),l=t(),B=t(),U=t(),$=t(),j=t(),tt=t(),Lt=t(),ct=t();b(k,v[1],v[0]),b(ct,S[1],S[0]),q(k,k,ct),a(l,v[0],v[1]),a(ct,S[0],S[1]),q(l,l,ct),q(B,v[3],S[3]),q(B,B,E),q(U,v[2],S[2]),a(U,U,U),b($,l,k),b(j,U,B),a(tt,U,B),a(Lt,l,k),q(v[0],$,j),q(v[1],Lt,tt),q(v[2],tt,j),q(v[3],$,Lt)}function ae(v,S,k){var l;for(l=0;l<4;l++)d(v[l],S[l],k)}function ne(v,S){var k=t(),l=t(),B=t();V(B,S[2]),q(k,S[0],B),q(l,S[1],B),p(v,l),v[31]^=_(k)<<7}function Lr(v,S,k){var l,B;for(c(v[0],o),c(v[1],u),c(v[2],u),c(v[3],o),B=255;B>=0;--B)l=k[B/8|0]>>(B&7)&1,ae(v,S,l),Ar(S,v),Ar(v,v),ae(v,S,l)}function Gt(v,S){var k=[t(),t(),t(),t()];c(k[0],A),c(k[1],I),c(k[2],u),q(k[3],A,I),Lr(v,k,S)}function Zt(v,S,k){var l=new Uint8Array(64),B=[t(),t(),t(),t()],U;for(k||e(S,32),$t(l,S,32),l[0]&=248,l[31]&=127,l[31]|=64,Gt(B,l),ne(v,B),U=0;U<32;U++)S[U+32]=v[U];return 0}var rr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function M(v,S){var k,l,B,U;for(l=63;l>=32;--l){for(k=0,B=l-32,U=l-12;B<U;++B)S[B]+=k-16*S[l]*rr[B-(l-32)],k=Math.floor((S[B]+128)/256),S[B]-=k*256;S[B]+=k,S[l]=0}for(k=0,B=0;B<32;B++)S[B]+=k-(S[31]>>4)*rr[B],k=S[B]>>8,S[B]&=255;for(B=0;B<32;B++)S[B]-=k*rr[B];for(l=0;l<32;l++)S[l+1]+=S[l]>>8,v[l]=S[l]&255}function C(v){var S=new Float64Array(64),k;for(k=0;k<64;k++)S[k]=v[k];for(k=0;k<64;k++)v[k]=0;M(v,S)}function z(v,S,k,l){var B=new Uint8Array(64),U=new Uint8Array(64),$=new Uint8Array(64),j,tt,Lt=new Float64Array(64),ct=[t(),t(),t(),t()];$t(B,l,32),B[0]&=248,B[31]&=127,B[31]|=64;var St=k+64;for(j=0;j<k;j++)v[64+j]=S[j];for(j=0;j<32;j++)v[32+j]=B[32+j];for($t($,v.subarray(32),k+32),C($),Gt(ct,$),ne(v,ct),j=32;j<64;j++)v[j]=l[j];for($t(U,v,k+64),C(U),j=0;j<64;j++)Lt[j]=0;for(j=0;j<32;j++)Lt[j]=$[j];for(j=0;j<32;j++)for(tt=0;tt<32;tt++)Lt[j+tt]+=U[j]*B[tt];return M(v.subarray(32),Lt),St}function D(v,S){var k=t(),l=t(),B=t(),U=t(),$=t(),j=t(),tt=t();return c(v[2],u),g(v[1],S),H(B,v[1]),q(U,B,m),b(B,B,v[2]),a(U,v[2],U),H($,U),H(j,$),q(tt,j,$),q(k,tt,B),q(k,k,U),nt(k,k),q(k,k,B),q(k,k,U),q(k,k,U),q(v[0],k,U),H(l,v[0]),q(l,l,U),w(l,B)&&q(v[0],v[0],K),H(l,v[0]),q(l,l,U),w(l,B)?-1:(_(v[0])===S[31]>>7&&b(v[0],o,v[0]),q(v[3],v[0],v[1]),0)}function ut(v,S,k,l){var B,U=new Uint8Array(32),$=new Uint8Array(64),j=[t(),t(),t(),t()],tt=[t(),t(),t(),t()];if(k<64||D(tt,l))return-1;for(B=0;B<k;B++)v[B]=S[B];for(B=0;B<32;B++)v[B+32]=l[B];if($t($,v,k),C($),Lr(j,tt,$),Gt(tt,S.subarray(32)),Ar(j,tt),ne(U,j),k-=64,O(S,0,U,0)){for(B=0;B<k;B++)v[B]=0;return-1}for(B=0;B<k;B++)v[B]=S[B+64];return k}var Ot=32,mt=24,Mt=32,Ae=16,Tt=32,Ut=32,qr=32,ie=32,Jt=32,_n=mt,ye=Mt,ge=Ae,Ir=64,se=32,ue=64,hn=32,fe=64;r.lowlevel={crypto_core_hsalsa20:J,crypto_stream_xor:ee,crypto_stream:yt,crypto_stream_salsa20_xor:Q,crypto_stream_salsa20:ht,crypto_onetimeauth:lt,crypto_onetimeauth_verify:oe,crypto_verify_16:R,crypto_verify_32:O,crypto_secretbox:x,crypto_secretbox_open:s,crypto_scalarmult:pt,crypto_scalarmult_base:gt,crypto_box_beforenm:wt,crypto_box_afternm:xt,crypto_box:Nt,crypto_box_open:zt,crypto_box_keypair:we,crypto_hash:$t,crypto_sign:z,crypto_sign_keypair:Zt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:Ot,crypto_secretbox_NONCEBYTES:mt,crypto_secretbox_ZEROBYTES:Mt,crypto_secretbox_BOXZEROBYTES:Ae,crypto_scalarmult_BYTES:Tt,crypto_scalarmult_SCALARBYTES:Ut,crypto_box_PUBLICKEYBYTES:qr,crypto_box_SECRETKEYBYTES:ie,crypto_box_BEFORENMBYTES:Jt,crypto_box_NONCEBYTES:_n,crypto_box_ZEROBYTES:ye,crypto_box_BOXZEROBYTES:ge,crypto_sign_BYTES:Ir,crypto_sign_PUBLICKEYBYTES:se,crypto_sign_SECRETKEYBYTES:ue,crypto_sign_SEEDBYTES:hn,crypto_hash_BYTES:fe,gf:t,D:m,L:rr,pack25519:p,unpack25519:g,M:q,A:a,S:H,Z:b,pow2523:nt,add:Ar,set25519:c,modL:M,scalarmult:Lr,scalarbase:Gt};function le(v,S){if(v.length!==Ot)throw new Error("bad key size");if(S.length!==mt)throw new Error("bad nonce size")}function Wn(v,S){if(v.length!==qr)throw new Error("bad public key size");if(S.length!==ie)throw new Error("bad secret key size")}function Ft(){for(var v=0;v<arguments.length;v++)if(!(arguments[v]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function de(v){for(var S=0;S<v.length;S++)v[S]=0}r.randomBytes=function(v){var S=new Uint8Array(v);return e(S,v),S},r.secretbox=function(v,S,k){Ft(v,S,k),le(k,S);for(var l=new Uint8Array(Mt+v.length),B=new Uint8Array(l.length),U=0;U<v.length;U++)l[U+Mt]=v[U];return x(B,l,l.length,S,k),B.subarray(Ae)},r.secretbox.open=function(v,S,k){Ft(v,S,k),le(k,S);for(var l=new Uint8Array(Ae+v.length),B=new Uint8Array(l.length),U=0;U<v.length;U++)l[U+Ae]=v[U];return l.length<32||s(B,l,l.length,S,k)!==0?null:B.subarray(Mt)},r.secretbox.keyLength=Ot,r.secretbox.nonceLength=mt,r.secretbox.overheadLength=Ae,r.scalarMult=function(v,S){if(Ft(v,S),v.length!==Ut)throw new Error("bad n size");if(S.length!==Tt)throw new Error("bad p size");var k=new Uint8Array(Tt);return pt(k,v,S),k},r.scalarMult.base=function(v){if(Ft(v),v.length!==Ut)throw new Error("bad n size");var S=new Uint8Array(Tt);return gt(S,v),S},r.scalarMult.scalarLength=Ut,r.scalarMult.groupElementLength=Tt,r.box=function(v,S,k,l){var B=r.box.before(k,l);return r.secretbox(v,S,B)},r.box.before=function(v,S){Ft(v,S),Wn(v,S);var k=new Uint8Array(Jt);return wt(k,v,S),k},r.box.after=r.secretbox,r.box.open=function(v,S,k,l){var B=r.box.before(k,l);return r.secretbox.open(v,S,B)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var v=new Uint8Array(qr),S=new Uint8Array(ie);return we(v,S),{publicKey:v,secretKey:S}},r.box.keyPair.fromSecretKey=function(v){if(Ft(v),v.length!==ie)throw new Error("bad secret key size");var S=new Uint8Array(qr);return gt(S,v),{publicKey:S,secretKey:new Uint8Array(v)}},r.box.publicKeyLength=qr,r.box.secretKeyLength=ie,r.box.sharedKeyLength=Jt,r.box.nonceLength=_n,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(v,S){if(Ft(v,S),S.length!==ue)throw new Error("bad secret key size");var k=new Uint8Array(Ir+v.length);return z(k,v,v.length,S),k},r.sign.open=function(v,S){if(Ft(v,S),S.length!==se)throw new Error("bad public key size");var k=new Uint8Array(v.length),l=ut(k,v,v.length,S);if(l<0)return null;for(var B=new Uint8Array(l),U=0;U<B.length;U++)B[U]=k[U];return B},r.sign.detached=function(v,S){for(var k=r.sign(v,S),l=new Uint8Array(Ir),B=0;B<l.length;B++)l[B]=k[B];return l},r.sign.detached.verify=function(v,S,k){if(Ft(v,S,k),S.length!==Ir)throw new Error("bad signature size");if(k.length!==se)throw new Error("bad public key size");var l=new Uint8Array(Ir+v.length),B=new Uint8Array(Ir+v.length),U;for(U=0;U<Ir;U++)l[U]=S[U];for(U=0;U<v.length;U++)l[U+Ir]=v[U];return ut(B,l,l.length,k)>=0},r.sign.keyPair=function(){var v=new Uint8Array(se),S=new Uint8Array(ue);return Zt(v,S),{publicKey:v,secretKey:S}},r.sign.keyPair.fromSecretKey=function(v){if(Ft(v),v.length!==ue)throw new Error("bad secret key size");for(var S=new Uint8Array(se),k=0;k<S.length;k++)S[k]=v[32+k];return{publicKey:S,secretKey:new Uint8Array(v)}},r.sign.keyPair.fromSeed=function(v){if(Ft(v),v.length!==hn)throw new Error("bad seed size");for(var S=new Uint8Array(se),k=new Uint8Array(ue),l=0;l<32;l++)k[l]=v[l];return Zt(S,k,!0),{publicKey:S,secretKey:k}},r.sign.publicKeyLength=se,r.sign.secretKeyLength=ue,r.sign.seedLength=hn,r.sign.signatureLength=Ir,r.hash=function(v){Ft(v);var S=new Uint8Array(fe);return $t(S,v,v.length),S},r.hash.hashLength=fe,r.verify=function(v,S){return Ft(v,S),v.length===0||S.length===0||v.length!==S.length?!1:N(v,0,S,0,v.length)===0},r.setPRNG=function(v){e=v},function(){var v=typeof self<"u"?self.crypto||self.msCrypto:null;if(v&&v.getRandomValues){var S=65536;r.setPRNG(function(k,l){var B,U=new Uint8Array(l);for(B=0;B<l;B+=S)v.getRandomValues(U.subarray(B,B+Math.min(l-B,S)));for(B=0;B<l;B++)k[B]=U[B];de(U)})}else typeof zu<"u"&&(v=z0(),v&&v.randomBytes&&r.setPRNG(function(k,l){var B,U=v.randomBytes(l);for(B=0;B<l;B++)k[B]=U[B];de(U)}))}()})(typeof Co<"u"&&Co.exports?Co.exports:self.nacl=self.nacl||{})});var Kw,Oo,K0=cr(()=>{"use strict";Kw=it(st()),Oo="lit_"});var D0={};Fu(D0,{removeSaltFromDecryptedKey:()=>Xg});function Xg(r){if(!r.startsWith(Oo))throw new Error(`Error: PKey was not encrypted with salt; all wrapped keys must be prefixed with \'${Oo}\'`);return r.slice(Oo.length)}var Ww,W0=cr(()=>{"use strict";Ww=it(st());K0()});var em=he(()=>{var Vw=it(st()),{Keypair:Jg}=C0(),Qg=q0(),H0=F0(),{removeSaltFromDecryptedKey:tm}=(W0(),Uo(D0));(async()=>{let r;try{r=await Lit.Actions.decryptToSingleNode({accessControlConditions,chain:"ethereum",ciphertext,dataToEncryptHash,authSig:null})}catch(i){Lit.Actions.setResponse({response:`Error: When decrypting data to private key: ${i.message}`});return}if(!r)return;let t;try{t=tm(r)}catch(i){Lit.Actions.setResponse({response:i.message});return}let e=Jg.fromSecretKey(Buffer.from(t,"hex")),n;try{n=H0.sign.detached(new TextEncoder().encode(messageToSign),e.secretKey)}catch(i){Lit.Actions.setResponse({response:`Error: When signing message: ${i.message}`});return}try{if(!H0.sign.detached.verify(Buffer.from(messageToSign),n,e.publicKey.toBuffer())){Lit.Actions.setResponse({response:"Error: Signature did not verify to expected Solana public key"});return}}catch(i){Lit.Actions.setResponse({response:`Error: When validating signed message is valid: ${i.message}`});return}Lit.Actions.setResponse({response:Qg.encode(n)})})()});em();})();\n/*! Bundled license information:\n\nieee754/index.js:\n  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n\n@noble/hashes/utils.js:\n  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/modular.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/curve.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/edwards.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/abstract/montgomery.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/ed25519.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\nsafe-buffer/index.js:\n  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\n@solana/buffer-layout/lib/Layout.js:\n  (**\n   * Support for translating between Uint8Array instances and JavaScript\n   * native types.\n   *\n   * {@link module:Layout~Layout|Layout} is the basis of a class\n   * hierarchy that associates property names with sequences of encoded\n   * bytes.\n   *\n   * Layouts are supported for these scalar (numeric) types:\n   * * {@link module:Layout~UInt|Unsigned integers in little-endian\n   *   format} with {@link module:Layout.u8|8-bit}, {@link\n   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},\n   *   {@link module:Layout.u32|32-bit}, {@link\n   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian\n   *   format} with {@link module:Layout.u16be|16-bit}, {@link\n   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},\n   *   {@link module:Layout.u40be|40-bit}, and {@link\n   *   module:Layout.u48be|48-bit} representation ranges;\n   * * {@link module:Layout~Int|Signed integers in little-endian\n   *   format} with {@link module:Layout.s8|8-bit}, {@link\n   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},\n   *   {@link module:Layout.s32|32-bit}, {@link\n   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}\n   *   representation ranges;\n   * * {@link module:Layout~IntBE|Signed integers in big-endian format}\n   *   with {@link module:Layout.s16be|16-bit}, {@link\n   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},\n   *   {@link module:Layout.s40be|40-bit}, and {@link\n   *   module:Layout.s48be|48-bit} representation ranges;\n   * * 64-bit integral values that decode to an exact (if magnitude is\n   *   less than 2^53) or nearby integral Number in {@link\n   *   module:Layout.nu64|unsigned little-endian}, {@link\n   *   module:Layout.nu64be|unsigned big-endian}, {@link\n   *   module:Layout.ns64|signed little-endian}, and {@link\n   *   module:Layout.ns64be|unsigned big-endian} encodings;\n   * * 32-bit floating point values with {@link\n   *   module:Layout.f32|little-endian} and {@link\n   *   module:Layout.f32be|big-endian} representations;\n   * * 64-bit floating point values with {@link\n   *   module:Layout.f64|little-endian} and {@link\n   *   module:Layout.f64be|big-endian} representations;\n   * * {@link module:Layout.const|Constants} that take no space in the\n   *   encoded expression.\n   *\n   * and for these aggregate types:\n   * * {@link module:Layout.seq|Sequence}s of instances of a {@link\n   *   module:Layout~Layout|Layout}, with JavaScript representation as\n   *   an Array and constant or data-dependent {@link\n   *   module:Layout~Sequence#count|length};\n   * * {@link module:Layout.struct|Structure}s that aggregate a\n   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}\n   *   instances, with JavaScript representation as an Object;\n   * * {@link module:Layout.union|Union}s that support multiple {@link\n   *   module:Layout~VariantLayout|variant layouts} over a fixed\n   *   (padded) or variable (not padded) span of bytes, using an\n   *   unsigned integer at the start of the data or a separate {@link\n   *   module:Layout.unionLayoutDiscriminator|layout element} to\n   *   determine which layout to use when interpreting the buffer\n   *   contents;\n   * * {@link module:Layout.bits|BitStructure}s that contain a sequence\n   *   of individual {@link\n   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,\n   *   16, 24, or 32-bit unsigned integer starting at the least- or\n   *   most-significant bit;\n   * * {@link module:Layout.cstr|C strings} of varying length;\n   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link\n   *   module:Layout~Blob#length|length} raw data.\n   *\n   * All {@link module:Layout~Layout|Layout} instances are immutable\n   * after construction, to prevent internal state from becoming\n   * inconsistent.\n   *\n   * @local Layout\n   * @local ExternalLayout\n   * @local GreedyCount\n   * @local OffsetLayout\n   * @local UInt\n   * @local UIntBE\n   * @local Int\n   * @local IntBE\n   * @local NearUInt64\n   * @local NearUInt64BE\n   * @local NearInt64\n   * @local NearInt64BE\n   * @local Float\n   * @local FloatBE\n   * @local Double\n   * @local DoubleBE\n   * @local Sequence\n   * @local Structure\n   * @local UnionDiscriminator\n   * @local UnionLayoutDiscriminator\n   * @local Union\n   * @local VariantLayout\n   * @local BitStructure\n   * @local BitField\n   * @local Boolean\n   * @local Blob\n   * @local CString\n   * @local Constant\n   * @local bindConstructorLayout\n   * @module Layout\n   * @license MIT\n   * @author Peter A. Bigot\n   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}\n   *)\n\n@noble/curves/abstract/weierstrass.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/_shortw_utils.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n\n@noble/curves/secp256k1.js:\n  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)\n*/\n';
module.exports = {
  code,
};
